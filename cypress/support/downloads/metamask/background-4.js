LavaPack.loadBundle([[2441,{buffer:2156},function(){with(this)return function(){"use strict";return function(t,e,r){!function(e,r){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof e?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:t("buffer").Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?d[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,k=0|o[4],E=8191&k,A=k>>>13,S=0|o[5],M=8191&S,I=S>>>13,C=0|o[6],x=8191&C,j=C>>>13,T=0|o[7],B=8191&T,P=T>>>13,R=0|o[8],N=8191&R,O=R>>>13,L=0|o[9],D=8191&L,K=L>>>13,F=0|a[0],U=8191&F,H=F>>>13,V=0|a[1],q=8191&V,G=V>>>13,z=0|a[2],$=8191&z,Y=z>>>13,W=0|a[3],Z=8191&W,J=W>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(d,U)|0))<<13)|0;c=((s=Math.imul(d,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,H))+Math.imul(m,U)|0,s=Math.imul(m,H);var yt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(d,q)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,H))+Math.imul(v,U)|0,s=Math.imul(v,H),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,G)|0;var vt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(d,$)|0))<<13)|0;c=((s=s+Math.imul(d,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,H))+Math.imul(_,U)|0,s=Math.imul(_,H),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,q)|0,s=s+Math.imul(v,G)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,H))+Math.imul(A,U)|0,s=Math.imul(A,H),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,J)|0;var wt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(M,U),i=(i=Math.imul(M,H))+Math.imul(I,U)|0,s=Math.imul(I,H),n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(A,q)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,H))+Math.imul(j,U)|0,s=Math.imul(j,H),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;c=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,H))+Math.imul(P,U)|0,s=Math.imul(P,H),n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(j,q)|0,s=s+Math.imul(j,G)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var Et=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((s=s+Math.imul(d,ct)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(N,U),i=(i=Math.imul(N,H))+Math.imul(O,U)|0,s=Math.imul(O,H),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,G)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var At=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,U),i=(i=Math.imul(D,H))+Math.imul(K,U)|0,s=Math.imul(K,H),n=n+Math.imul(N,q)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,$)|0,s=s+Math.imul(P,Y)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(j,Z)|0,s=s+Math.imul(j,J)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var St=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,G))+Math.imul(K,q)|0,s=Math.imul(K,G),n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,J)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(j,Q)|0,s=s+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(E,st)|0,i=(i=i+Math.imul(E,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,dt)|0;var Mt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,Y))+Math.imul(K,$)|0,s=Math.imul(K,Y),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(j,rt)|0,s=s+Math.imul(j,nt)|0,n=n+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ct)|0)+Math.imul(A,ut)|0,s=s+Math.imul(A,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,J))+Math.imul(K,Z)|0,s=Math.imul(K,J),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(P,rt)|0,s=s+Math.imul(P,nt)|0,n=n+Math.imul(x,st)|0,i=(i=i+Math.imul(x,ot)|0)+Math.imul(j,st)|0,s=s+Math.imul(j,ot)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,dt)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,dt)|0;var Ct=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,tt))+Math.imul(K,Q)|0,s=Math.imul(K,tt),n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(P,st)|0,s=s+Math.imul(P,ot)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(j,ut)|0,s=s+Math.imul(j,ct)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var xt=(c+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(A,pt)|0))<<13)|0;c=((s=s+Math.imul(A,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(K,rt)|0,s=Math.imul(K,nt),n=n+Math.imul(N,st)|0,i=(i=i+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(P,ut)|0,s=s+Math.imul(P,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,dt)|0)+Math.imul(j,ht)|0,s=s+Math.imul(j,dt)|0;var jt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(D,st),i=(i=Math.imul(D,ot))+Math.imul(K,st)|0,s=Math.imul(K,ot),n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(P,ht)|0,s=s+Math.imul(P,dt)|0;var Tt=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((s=s+Math.imul(j,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(K,ut)|0,s=Math.imul(K,ct),n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Bt=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(P,pt)|0))<<13)|0;c=((s=s+Math.imul(P,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,dt))+Math.imul(K,ht)|0,s=Math.imul(K,dt);var Pt=(c+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(K,pt)|0))<<13)|0;return c=((s=Math.imul(K,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=Et,u[8]=At,u[9]=St,u[10]=Mt,u[11]=It,u[12]=Ct,u[13]=xt,u[14]=jt,u[15]=Tt,u[16]=Bt,u[17]=Pt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function v(t,e,r){return y(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):v(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},b.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],y=n[l+f+o],v=h*g-d*y;y=h*y+d*g,g=v,r[l+f]=p+g,n[l+f]=m+y,r[l+f+o]=p-g,n[l+f+o]=m-y,f!==a&&(v=u*h-c*d,d=u*d+c*h,h=v)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),v(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a:a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new M(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip!==undefined?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(k,_),k.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},k.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,_),i(A,_),i(S,_),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new k;else if("p224"===t)e=new E;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return w[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new I(t)},i(I,M),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}}},{package:"bn.js",file:"/home/circleci/project/node_modules/eth-eip712-util-browser/node_modules/bn.js/lib/bn.js"}],[2115,{"bignumber.js":2114},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("bignumber.js").BigNumber;r.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},r.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},r.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},r.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},r.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},r.SHIFT32=Math.pow(2,32),r.SHIFT16=Math.pow(2,16),r.MAX_SAFE_HIGH=2097151,r.NEG_ONE=new n(-1),r.TEN=new n(10),r.TWO=new n(2),r.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}}}},{package:"borc",file:"/home/circleci/project/node_modules/borc/src/constants.js"}],[2123,{"./constants":2115,"bignumber.js":2114,buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){const{Buffer:n}=t("buffer"),i=t("bignumber.js").BigNumber,s=t("./constants"),o=s.SHIFT32,a=s.SHIFT16;r.parseHalf=function(t){var e,r,n;return n=128&t[0]?-1:1,e=(124&t[0])>>2,r=(3&t[0])<<8|t[1],e?31===e?n*(r?0/0:Infinity):n*Math.pow(2,e-25)*(1024+r):5.960464477539063e-8*n*r},r.arrayBufferToBignumber=function(t){const e=t.byteLength;let r="";for(let i=0;i<e;i++)r+=(n=t[i])<16?"0"+n.toString(16):n.toString(16);var n;return new i(r,16)},r.buildMap=t=>{const e=new Map,r=Object.keys(t),n=r.length;for(let i=0;i<n;i++)e.set(r[i],t[r[i]]);return e},r.buildInt32=(t,e)=>t*a+e,r.buildInt64=(t,e,n,s)=>{const a=r.buildInt32(t,e),u=r.buildInt32(n,s);return a>2097151?new i(a).times(o).plus(u):a*o+u},r.writeHalf=function(t,e){const r=n.allocUnsafe(4);r.writeFloatBE(e,0);const i=r.readUInt32BE(0);if(0!=(8191&i))return!1;var s=i>>16&32768;const o=i>>23&255,a=8388607&i;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else{if(!(o>=103&&o<113))return!1;if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}return t.writeUInt16BE(s,0),!0},r.keySorter=function(t,e){var r=t[0].byteLength,n=e[0].byteLength;return r>n?1:n>r?-1:t[0].compare(e[0])},r.isNegativeZero=t=>0===t&&1/t<0,r.nextPowerOf2=t=>{let e=0;if(t&&!(t&t-1))return t;for(;0!==t;)t>>=1,e+=1;return 1<<e}}}},{package:"borc",file:"/home/circleci/project/node_modules/borc/src/utils.js"}],[2114,{},function(){with(this)return function(){"use strict";return function(t,e,r){!function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,l=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,f=1e9;function p(t){var e=0|t;return t>0||t===e?e:e-1}function m(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=c-e.length;r--;e="0"+e);s+=e}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function g(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,u=t.e,c=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=u==c,!i||!s)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return u==c?0:u>c^r?1:-1}function y(t,e,r,n){if(t<e||t>r||t!==s(t))throw Error(o+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function v(t){var e=t.c.length-1;return p(t.e/c)==e&&t.c[e]%2!=0}function b(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function w(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}r=function t(e){var r,_,k,E,A,S,M,I,C,x,j=V.prototype={constructor:V,toString:null,valueOf:null},T=new V(1),B=20,P=4,R=-7,N=21,O=-1e7,L=1e7,D=!1,K=1,F=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz";function V(t,e){var r,i,o,u,h,d,f,p,m=this;if(!(m instanceof V))return new V(t,e);if(null==e){if(t&&!0===t._isBigNumber)return m.s=t.s,void(!t.c||t.e>L?m.c=m.e=null:t.e<O?m.c=[m.e=0]:(m.e=t.e,m.c=t.c.slice()));if((d="number"==typeof t)&&0*t==0){if(m.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,h=t;h>=10;h/=10,u++);return void(u>L?m.c=m.e=null:(m.e=u,m.c=[t]))}p=String(t)}else{if(!n.test(p=String(t)))return k(m,p,d);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(u=p.indexOf("."))>-1&&(p=p.replace(".","")),(h=p.search(/e/i))>0?(u<0&&(u=h),u+=+p.slice(h+1),p=p.substring(0,h)):u<0&&(u=p.length)}else{if(y(e,2,H.length,"Base"),10==e)return $(m=new V(t),B+m.e+1,P);if(p=String(t),d="number"==typeof t){if(0*t!=0)return k(m,p,d,e);if(m.s=1/t<0?(p=p.slice(1),-1):1,V.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+t)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=H.slice(0,e),u=h=0,f=p.length;h<f;h++)if(r.indexOf(i=p.charAt(h))<0){if("."==i){if(h>u){u=f;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,h=-1,u=0;continue}return k(m,String(t),d,e)}d=!1,(u=(p=_(p,e,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):u=p.length}for(h=0;48===p.charCodeAt(h);h++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(h,++f)){if(f-=h,d&&V.DEBUG&&f>15&&(t>l||t!==s(t)))throw Error(a+m.s*t);if((u=u-h-1)>L)m.c=m.e=null;else if(u<O)m.c=[m.e=0];else{if(m.e=u,m.c=[],h=(u+1)%c,u<0&&(h+=c),h<f){for(h&&m.c.push(+p.slice(0,h)),f-=c;h<f;)m.c.push(+p.slice(h,h+=c));h=c-(p=p.slice(h)).length}else h-=f;for(;h--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function q(t,e,r,n){var i,s,o,a,u;if(null==r?r=P:y(r,0,8),!t.c)return t.toString();if(i=t.c[0],o=t.e,null==e)u=m(t.c),u=1==n||2==n&&(o<=R||o>=N)?b(u,o):w(u,o,"0");else if(s=(t=$(new V(t),e,r)).e,a=(u=m(t.c)).length,1==n||2==n&&(e<=s||s<=R)){for(;a<e;u+="0",a++);u=b(u,s)}else if(e-=o,u=w(u,s,"0"),s+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=s-a)>0)for(s+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function G(t,e){for(var r,n=1,i=new V(t[0]);n<t.length;n++){if(!(r=new V(t[n])).s){i=r;break}e.call(i,r)&&(i=r)}return i}function z(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*c-1)>L?t.c=t.e=null:r<O?t.c=[t.e=0]:(t.e=r,t.c=e),t}function $(t,e,r,n){var o,a,l,d,f,p,m,g=t.c,y=h;if(g){t:{for(o=1,d=g[0];d>=10;d/=10,o++);if((a=e-o)<0)a+=c,l=e,m=(f=g[p=0])/y[o-l-1]%10|0;else if((p=i((a+1)/c))>=g.length){if(!n)break t;for(;g.length<=p;g.push(0));f=m=0,o=1,l=(a%=c)-c+1}else{for(f=d=g[p],o=1;d>=10;d/=10,o++);m=(l=(a%=c)-c+o)<0?0:f/y[o-l-1]%10|0}if(n=n||e<0||null!=g[p+1]||(l<0?f:f%y[o-l-1]),n=r<4?(m||n)&&(0==r||r==(t.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(a>0?l>0?f/y[o-l]:0:g[p-1])%10&1||r==(t.s<0?8:7)),e<1||!g[0])return g.length=0,n?(e-=t.e+1,g[0]=y[(c-e%c)%c],t.e=-e||0):g[0]=t.e=0,t;if(0==a?(g.length=p,d=1,p--):(g.length=p+1,d=y[c-a],g[p]=l>0?s(f/y[o-l]%y[l])*d:0),n)for(;;){if(0==p){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=d,d=1;l>=10;l/=10,d++);a!=d&&(t.e++,g[0]==u&&(g[0]=1));break}if(g[p]+=d,g[p]!=u)break;g[p--]=0,d=1}for(a=g.length;0===g[--a];g.pop());}t.e>L?t.c=t.e=null:t.e<O&&(t.c=[t.e=0])}return t}function Y(t){var e,r=t.e;return null===r?t.toString():(e=m(t.c),e=r<=R||r>=N?b(e,r):w(e,r,"0"),t.s<0?"-"+e:e)}return V.clone=t,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(o+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(y(r=t[e],0,f,e),B=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(y(r=t[e],0,8,e),P=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(y(r[0],-f,0,e),y(r[1],0,f,e),R=r[0],N=r[1]):(y(r,-f,f,e),R=-(N=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)y(r[0],-f,-1,e),y(r[1],1,f,e),O=r[0],L=r[1];else{if(y(r,-f,f,e),!r)throw Error(o+e+" cannot be zero: "+r);O=-(L=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(o+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw D=!r,Error(o+"crypto unavailable");D=r}else D=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(y(r=t[e],0,9,e),K=r),t.hasOwnProperty(e="POW_PRECISION")&&(y(r=t[e],0,f,e),F=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(o+e+" not an object: "+r);U=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(o+e+" invalid: "+r);H=r}}return{DECIMAL_PLACES:B,ROUNDING_MODE:P,EXPONENTIAL_AT:[R,N],RANGE:[O,L],CRYPTO:D,MODULO_MODE:K,POW_PRECISION:F,FORMAT:U,ALPHABET:H}},V.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!V.DEBUG)return!0;var e,r,n=t.c,i=t.e,a=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-f&&i<=f&&i===s(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%c)<1&&(e+=c),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=u||r!==s(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(o+"Invalid BigNumber: "+t)},V.maximum=V.max=function(){return G(arguments,j.lt)},V.minimum=V.min=function(){return G(arguments,j.gt)},V.random=(E=9007199254740992,A=Math.random()*E&2097151?function(){return s(Math.random()*E)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,a,u,l=0,d=[],p=new V(T);if(null==t?t=B:y(t,0,f),a=i(t/c),D)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(u=131072*e[l]+(e[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[l]=r[0],e[l+1]=r[1]):(d.push(u%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw D=!1,Error(o+"crypto unavailable");for(e=crypto.randomBytes(a*=7);l<a;)(u=281474976710656*(31&e[l])+1099511627776*e[l+1]+4294967296*e[l+2]+16777216*e[l+3]+(e[l+4]<<16)+(e[l+5]<<8)+e[l+6])>=9e15?crypto.randomBytes(7).copy(e,l):(d.push(u%1e14),l+=7);l=a/7}if(!D)for(;l<a;)(u=A())<9e15&&(d[l++]=u%1e14);for(a=d[--l],t%=c,a&&t&&(u=h[c-t],d[l]=s(a/u)*u);0===d[l];d.pop(),l--);if(l<0)d=[n=0];else{for(n=-1;0===d[0];d.splice(0,1),n-=c);for(l=1,u=d[0];u>=10;u/=10,l++);l<c&&(n-=c-l)}return p.e=n,p.c=d,p}),V.sum=function(){for(var t=1,e=arguments,r=new V(e[0]);t<e.length;)r=r.plus(e[t++]);return r},_=function(){var t="0123456789";function e(t,e,r,n){for(var i,s,o=[0],a=0,u=t.length;a<u;){for(s=o.length;s--;o[s]*=e);for(o[0]+=n.indexOf(t.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,a){var u,c,l,h,d,f,p,g,y=n.indexOf("."),v=B,b=P;for(y>=0&&(h=F,F=0,n=n.replace(".",""),f=(g=new V(i)).pow(n.length-y),F=h,g.c=e(w(m(f.c),f.e,"0"),10,s,t),g.e=g.c.length),l=h=(p=e(n,i,s,a?(u=H,t):(u=t,H))).length;0==p[--h];p.pop());if(!p[0])return u.charAt(0);if(y<0?--l:(f.c=p,f.e=l,f.s=o,p=(f=r(f,g,v,b,s)).c,d=f.r,l=f.e),y=p[c=l+v+1],h=s/2,d=d||c<0||null!=p[c+1],d=b<4?(null!=y||d)&&(0==b||b==(f.s<0?3:2)):y>h||y==h&&(4==b||d||6==b&&1&p[c-1]||b==(f.s<0?8:7)),c<1||!p[0])n=d?w(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(p.length=c,d)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(h=p.length;!p[--h];);for(y=0,n="";y<=h;n+=u.charAt(p[y++]));n=w(n,l,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,s,o,a=0,u=t.length,c=e%d,l=e/d|0;for(t=t.slice();u--;)a=((i=c*(s=t[u]%d)+(n=l*s+(o=t[u]/d|0)*c)%d*d+a)/r|0)+(n/d|0)+l*o,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,a,l){var h,d,f,m,g,y,v,b,w,_,k,E,A,S,M,I,C,x=n.s==i.s?1:-1,j=n.c,T=i.c;if(!(j&&j[0]&&T&&T[0]))return new V(n.s&&i.s&&(j?!T||j[0]!=T[0]:T)?j&&0==j[0]||!T?0*x:x/0:NaN);for(w=(b=new V(x)).c=[],x=o+(d=n.e-i.e)+1,l||(l=u,d=p(n.e/c)-p(i.e/c),x=x/c|0),f=0;T[f]==(j[f]||0);f++);if(T[f]>(j[f]||0)&&d--,x<0)w.push(1),m=!0;else{for(S=j.length,I=T.length,f=0,x+=2,(g=s(l/(T[0]+1)))>1&&(T=t(T,g,l),j=t(j,g,l),I=T.length,S=j.length),A=I,k=(_=j.slice(0,I)).length;k<I;_[k++]=0);C=T.slice(),C=[0].concat(C),M=T[0],T[1]>=l/2&&M++;do{if(g=0,(h=e(T,_,I,k))<0){if(E=_[0],I!=k&&(E=E*l+(_[1]||0)),(g=s(E/M))>1)for(g>=l&&(g=l-1),v=(y=t(T,g,l)).length,k=_.length;1==e(y,_,v,k);)g--,r(y,I<v?C:T,v,l),v=y.length,h=1;else 0==g&&(h=g=1),v=(y=T.slice()).length;if(v<k&&(y=[0].concat(y)),r(_,y,k,l),k=_.length,-1==h)for(;e(T,_,I,k)<1;)g++,r(_,I<k?C:T,k,l),k=_.length}else 0===h&&(g++,_=[0]);w[f++]=g,_[0]?_[k++]=j[A]||0:(_=[j[A]],k=1)}while((A++<S||null!=_[0])&&x--);m=null!=_[0],w[0]||w.splice(0,1)}if(l==u){for(f=1,x=w[0];x>=10;x/=10,f++);$(b,o+(b.e=f+d*c-1)+1,a,m)}else b.e=d,b.r=+m;return b}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,I=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,x=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(t,e,r,n){var i,s=r?e:e.replace(x,"");if(C.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(S,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,s=s.replace(M,"$1").replace(I,"0.$1")),e!=s))return new V(s,i);if(V.DEBUG)throw Error(o+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},j.absoluteValue=j.abs=function(){var t=new V(this);return t.s<0&&(t.s=1),t},j.comparedTo=function(t,e){return g(this,new V(t,e))},j.decimalPlaces=j.dp=function(t,e){var r,n,i,s=this;if(null!=t)return y(t,0,f),null==e?e=P:y(e,0,8),$(new V(s),t+s.e+1,e);if(!(r=s.c))return null;if(n=((i=r.length-1)-p(this.e/c))*c,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},j.dividedBy=j.div=function(t,e){return r(this,new V(t,e),B,P)},j.dividedToIntegerBy=j.idiv=function(t,e){return r(this,new V(t,e),0,1)},j.exponentiatedBy=j.pow=function(t,e){var r,n,a,u,l,h,d,f,p=this;if((t=new V(t)).c&&!t.isInteger())throw Error(o+"Exponent not an integer: "+Y(t));if(null!=e&&(e=new V(e)),l=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return f=new V(Math.pow(+Y(p),l?2-v(t):+Y(t))),e?f.mod(e):f;if(h=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new V(NaN);(n=!h&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return u=p.s<0&&v(t)?-0:0,p.e>-1&&(u=1/u),new V(h?1/u:u);F&&(u=i(F/c+2))}for(l?(r=new V(.5),h&&(t.s=1),d=v(t)):d=(a=Math.abs(+Y(t)))%2,f=new V(T);;){if(d){if(!(f=f.times(p)).c)break;u?f.c.length>u&&(f.c.length=u):n&&(f=f.mod(e))}if(a){if(0===(a=s(a/2)))break;d=a%2}else if($(t=t.times(r),t.e+1,1),t.e>14)d=v(t);else{if(0===(a=+Y(t)))break;d=a%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):n&&(p=p.mod(e))}return n?f:(h&&(f=T.div(f)),e?f.mod(e):u?$(f,F,P,undefined):f)},j.integerValue=function(t){var e=new V(this);return null==t?t=P:y(t,0,8),$(e,e.e+1,t)},j.isEqualTo=j.eq=function(t,e){return 0===g(this,new V(t,e))},j.isFinite=function(){return!!this.c},j.isGreaterThan=j.gt=function(t,e){return g(this,new V(t,e))>0},j.isGreaterThanOrEqualTo=j.gte=function(t,e){return 1===(e=g(this,new V(t,e)))||0===e},j.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},j.isLessThan=j.lt=function(t,e){return g(this,new V(t,e))<0},j.isLessThanOrEqualTo=j.lte=function(t,e){return-1===(e=g(this,new V(t,e)))||0===e},j.isNaN=function(){return!this.s},j.isNegative=function(){return this.s<0},j.isPositive=function(){return this.s>0},j.isZero=function(){return!!this.c&&0==this.c[0]},j.minus=function(t,e){var r,n,i,s,o=this,a=o.s;if(e=(t=new V(t,e)).s,!a||!e)return new V(NaN);if(a!=e)return t.s=-e,o.plus(t);var l=o.e/c,h=t.e/c,d=o.c,f=t.c;if(!l||!h){if(!d||!f)return d?(t.s=-e,t):new V(f?o:NaN);if(!d[0]||!f[0])return f[0]?(t.s=-e,t):new V(d[0]?o:3==P?-0:0)}if(l=p(l),h=p(h),d=d.slice(),a=l-h){for((s=a<0)?(a=-a,i=d):(h=l,i=f),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(s=(a=d.length)<(e=f.length))?a:e,a=e=0;e<n;e++)if(d[e]!=f[e]){s=d[e]<f[e];break}if(s&&(i=d,d=f,f=i,t.s=-t.s),(e=(n=f.length)-(r=d.length))>0)for(;e--;d[r++]=0);for(e=u-1;n>a;){if(d[--n]<f[n]){for(r=n;r&&!d[--r];d[r]=e);--d[r],d[n]+=u}d[n]-=f[n]}for(;0==d[0];d.splice(0,1),--h);return d[0]?z(t,d,h):(t.s=3==P?-1:1,t.c=[t.e=0],t)},j.modulo=j.mod=function(t,e){var n,i,s=this;return t=new V(t,e),!s.c||!t.s||t.c&&!t.c[0]?new V(NaN):!t.c||s.c&&!s.c[0]?new V(s):(9==K?(i=t.s,t.s=1,n=r(s,t,0,3),t.s=i,n.s*=i):n=r(s,t,0,K),(t=s.minus(n.times(t))).c[0]||1!=K||(t.s=s.s),t)},j.multipliedBy=j.times=function(t,e){var r,n,i,s,o,a,l,h,f,m,g,y,v,b,w,_=this,k=_.c,E=(t=new V(t,e)).c;if(!(k&&E&&k[0]&&E[0]))return!_.s||!t.s||k&&!k[0]&&!E||E&&!E[0]&&!k?t.c=t.e=t.s=null:(t.s*=_.s,k&&E?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=p(_.e/c)+p(t.e/c),t.s*=_.s,(l=k.length)<(m=E.length)&&(v=k,k=E,E=v,i=l,l=m,m=i),i=l+m,v=[];i--;v.push(0));for(b=u,w=d,i=m;--i>=0;){for(r=0,g=E[i]%w,y=E[i]/w|0,s=i+(o=l);s>i;)r=((h=g*(h=k[--o]%w)+(a=y*h+(f=k[o]/w|0)*g)%w*w+v[s]+r)/b|0)+(a/w|0)+y*f,v[s--]=h%b;v[s]=r}return r?++n:v.splice(0,1),z(t,v,n)},j.negated=function(){var t=new V(this);return t.s=-t.s||null,t},j.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new V(t,e)).s,!i||!e)return new V(NaN);if(i!=e)return t.s=-e,n.minus(t);var s=n.e/c,o=t.e/c,a=n.c,l=t.c;if(!s||!o){if(!a||!l)return new V(i/0);if(!a[0]||!l[0])return l[0]?t:new V(a[0]?n:0*i)}if(s=p(s),o=p(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=l):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=l.length)<0&&(r=l,l=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+l[e]+i)/u|0,a[e]=u===a[e]?0:a[e]%u;return i&&(a=[i].concat(a),++o),z(t,a,o)},j.precision=j.sd=function(t,e){var r,n,i,s=this;if(null!=t&&t!==!!t)return y(t,1,f),null==e?e=P:y(e,0,8),$(new V(s),t,e);if(!(r=s.c))return null;if(n=(i=r.length-1)*c+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&s.e+1>n&&(n=s.e+1),n},j.shiftedBy=function(t){return y(t,-9007199254740991,l),this.times("1e"+t)},j.squareRoot=j.sqrt=function(){var t,e,n,i,s,o=this,a=o.c,u=o.s,c=o.e,l=B+4,h=new V("0.5");if(1!==u||!a||!a[0])return new V(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+Y(o)))||u==1/0?(((e=m(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=p((c+1)/2)-(c<0||c%2),n=new V(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new V(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(s=n,n=h.times(s.plus(r(o,s,l,1))),m(s.c).slice(0,u)===(e=m(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||($(n,n.e+B+2,1),t=!n.times(n).eq(o));break}if(!i&&($(s,s.e+B+2,0),s.times(s).eq(o))){n=s;break}l+=4,u+=4,i=1}return $(n,n.e+B+1,P,t)},j.toExponential=function(t,e){return null!=t&&(y(t,0,f),t++),q(this,t,e,1)},j.toFixed=function(t,e){return null!=t&&(y(t,0,f),t=t+this.e+1),q(this,t,e)},j.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=U;else if("object"!=typeof r)throw Error(o+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var s,a=n.split("."),u=+r.groupSize,c=+r.secondaryGroupSize,l=r.groupSeparator||"",h=a[0],d=a[1],f=i.s<0,p=f?h.slice(1):h,m=p.length;if(c&&(s=u,u=c,c=s,m-=s),u>0&&m>0){for(s=m%u||u,h=p.substr(0,s);s<m;s+=u)h+=l+p.substr(s,u);c>0&&(h+=l+p.slice(s)),f&&(h="-"+h)}n=d?h+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):h}return(r.prefix||"")+n+(r.suffix||"")},j.toFraction=function(t){var e,n,i,s,a,u,l,d,f,p,g,y,v=this,b=v.c;if(null!=t&&(!(l=new V(t)).isInteger()&&(l.c||1!==l.s)||l.lt(T)))throw Error(o+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Y(l));if(!b)return new V(v);for(e=new V(T),f=n=new V(T),i=d=new V(T),y=m(b),a=e.e=y.length-v.e-1,e.c[0]=h[(u=a%c)<0?c+u:u],t=!t||l.comparedTo(e)>0?a>0?e:f:l,u=L,L=1/0,l=new V(y),d.c[0]=0;p=r(l,e,0,1),1!=(s=n.plus(p.times(i))).comparedTo(t);)n=i,i=s,f=d.plus(p.times(s=f)),d=s,e=l.minus(p.times(s=e)),l=s;return s=r(t.minus(n),i,0,1),d=d.plus(s.times(f)),n=n.plus(s.times(i)),d.s=f.s=v.s,g=r(f,i,a*=2,P).minus(v).abs().comparedTo(r(d,n,a,P).minus(v).abs())<1?[f,i]:[d,n],L=u,g},j.toNumber=function(){return+Y(this)},j.toPrecision=function(t,e){return null!=t&&y(t,1,f),q(this,t,e,2)},j.toString=function(t){var e,r=this,n=r.s,i=r.e;return null===i?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(null==t?e=i<=R||i>=N?b(m(r.c),i):w(m(r.c),i,"0"):10===t?e=w(m((r=$(new V(r),B+i+1,P)).c),r.e,"0"):(y(t,2,H.length,"Base"),e=_(w(m(r.c),i,"0"),10,t,n,!0)),n<0&&r.c[0]&&(e="-"+e)),e},j.valueOf=j.toJSON=function(){return Y(this)},j._isBigNumber=!0,null!=e&&V.set(e),V}(),r.default=r.BigNumber=r,"function"==typeof define&&define.amd?define((function(){return r})):void 0!==e&&e.exports?e.exports=r:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=r)}(this)}}},{package:"bignumber.js",file:"/home/circleci/project/node_modules/borc/node_modules/bignumber.js/bignumber.js"}],[4789,{"./src/relative":4790,"./src/url":4791},function(){with(this)return function(){"use strict";return function(t,e,r){const{URLWithLegacySupport:n,format:i,URLSearchParams:s,defaultBase:o}=t("./src/url"),a=t("./src/relative");e.exports={URL:n,URLSearchParams:s,format:i,relative:a,defaultBase:o}}}},{package:"iso-url",file:"/home/circleci/project/node_modules/iso-url/index.js"}],[2116,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t,e,r){"use asm";var n=new t.Uint8Array(r);var i=e.pushInt;var s=e.pushInt32;var o=e.pushInt32Neg;var a=e.pushInt64;var u=e.pushInt64Neg;var c=e.pushFloat;var l=e.pushFloatSingle;var h=e.pushFloatDouble;var d=e.pushTrue;var f=e.pushFalse;var p=e.pushUndefined;var m=e.pushNull;var g=e.pushInfinity;var y=e.pushInfinityNeg;var v=e.pushNaN;var b=e.pushNaNNeg;var w=e.pushArrayStart;var _=e.pushArrayStartFixed;var k=e.pushArrayStartFixed32;var E=e.pushArrayStartFixed64;var A=e.pushObjectStart;var S=e.pushObjectStartFixed;var M=e.pushObjectStartFixed32;var I=e.pushObjectStartFixed64;var C=e.pushByteString;var x=e.pushByteStringStart;var j=e.pushUtf8String;var T=e.pushUtf8StringStart;var B=e.pushSimpleUnassigned;var P=e.pushTagStart;var R=e.pushTagStart4;var N=e.pushTagStart8;var O=e.pushTagUnassigned;var L=e.pushBreak;var D=t.Math.pow;var K=0;var F=0;var U=0;function H(t){t=t|0;K=0;F=t;while((K|0)<(F|0)){U=Zt[n[K]&255](n[K]|0)|0;if((U|0)>0){break}}return U|0}function V(t){t=t|0;if(((K|0)+(t|0)|0)<(F|0)){return 0}return 1}function q(t){t=t|0;return n[t|0]<<8|n[t+1|0]|0}function G(t){t=t|0;return n[t|0]<<24|n[t+1|0]<<16|n[t+2|0]<<8|n[t+3|0]|0}function z(t){t=t|0;i(t|0);K=K+1|0;return 0}function $(t){t=t|0;if(V(1)|0){return 1}i(n[K+1|0]|0);K=K+2|0;return 0}function Y(t){t=t|0;if(V(2)|0){return 1}i(q(K+1|0)|0);K=K+3|0;return 0}function W(t){t=t|0;if(V(4)|0){return 1}s(q(K+1|0)|0,q(K+3|0)|0);K=K+5|0;return 0}function Z(t){t=t|0;if(V(8)|0){return 1}a(q(K+1|0)|0,q(K+3|0)|0,q(K+5|0)|0,q(K+7|0)|0);K=K+9|0;return 0}function J(t){t=t|0;i(-1-(t-32|0)|0);K=K+1|0;return 0}function X(t){t=t|0;if(V(1)|0){return 1}i(-1-(n[K+1|0]|0)|0);K=K+2|0;return 0}function Q(t){t=t|0;var e=0;if(V(2)|0){return 1}e=q(K+1|0)|0;i(-1-(e|0)|0);K=K+3|0;return 0}function tt(t){t=t|0;if(V(4)|0){return 1}o(q(K+1|0)|0,q(K+3|0)|0);K=K+5|0;return 0}function et(t){t=t|0;if(V(8)|0){return 1}u(q(K+1|0)|0,q(K+3|0)|0,q(K+5|0)|0,q(K+7|0)|0);K=K+9|0;return 0}function rt(t){t=t|0;var e=0;var r=0;var n=0;n=t-64|0;if(V(n|0)|0){return 1}e=K+1|0;r=(K+1|0)+(n|0)|0;C(e|0,r|0);K=r|0;return 0}function nt(t){t=t|0;var e=0;var r=0;var i=0;if(V(1)|0){return 1}i=n[K+1|0]|0;e=K+2|0;r=(K+2|0)+(i|0)|0;if(V(i+1|0)|0){return 1}C(e|0,r|0);K=r|0;return 0}function it(t){t=t|0;var e=0;var r=0;var n=0;if(V(2)|0){return 1}n=q(K+1|0)|0;e=K+3|0;r=(K+3|0)+(n|0)|0;if(V(n+2|0)|0){return 1}C(e|0,r|0);K=r|0;return 0}function st(t){t=t|0;var e=0;var r=0;var n=0;if(V(4)|0){return 1}n=G(K+1|0)|0;e=K+5|0;r=(K+5|0)+(n|0)|0;if(V(n+4|0)|0){return 1}C(e|0,r|0);K=r|0;return 0}function ot(t){t=t|0;return 1}function at(t){t=t|0;x();K=K+1|0;return 0}function ut(t){t=t|0;var e=0;var r=0;var n=0;n=t-96|0;if(V(n|0)|0){return 1}e=K+1|0;r=(K+1|0)+(n|0)|0;j(e|0,r|0);K=r|0;return 0}function ct(t){t=t|0;var e=0;var r=0;var i=0;if(V(1)|0){return 1}i=n[K+1|0]|0;e=K+2|0;r=(K+2|0)+(i|0)|0;if(V(i+1|0)|0){return 1}j(e|0,r|0);K=r|0;return 0}function lt(t){t=t|0;var e=0;var r=0;var n=0;if(V(2)|0){return 1}n=q(K+1|0)|0;e=K+3|0;r=(K+3|0)+(n|0)|0;if(V(n+2|0)|0){return 1}j(e|0,r|0);K=r|0;return 0}function ht(t){t=t|0;var e=0;var r=0;var n=0;if(V(4)|0){return 1}n=G(K+1|0)|0;e=K+5|0;r=(K+5|0)+(n|0)|0;if(V(n+4|0)|0){return 1}j(e|0,r|0);K=r|0;return 0}function dt(t){t=t|0;return 1}function ft(t){t=t|0;T();K=K+1|0;return 0}function pt(t){t=t|0;_(t-128|0);K=K+1|0;return 0}function mt(t){t=t|0;if(V(1)|0){return 1}_(n[K+1|0]|0);K=K+2|0;return 0}function gt(t){t=t|0;if(V(2)|0){return 1}_(q(K+1|0)|0);K=K+3|0;return 0}function yt(t){t=t|0;if(V(4)|0){return 1}k(q(K+1|0)|0,q(K+3|0)|0);K=K+5|0;return 0}function vt(t){t=t|0;if(V(8)|0){return 1}E(q(K+1|0)|0,q(K+3|0)|0,q(K+5|0)|0,q(K+7|0)|0);K=K+9|0;return 0}function bt(t){t=t|0;w();K=K+1|0;return 0}function wt(t){t=t|0;var e=0;e=t-160|0;if(V(e|0)|0){return 1}S(e|0);K=K+1|0;return 0}function _t(t){t=t|0;if(V(1)|0){return 1}S(n[K+1|0]|0);K=K+2|0;return 0}function kt(t){t=t|0;if(V(2)|0){return 1}S(q(K+1|0)|0);K=K+3|0;return 0}function Et(t){t=t|0;if(V(4)|0){return 1}M(q(K+1|0)|0,q(K+3|0)|0);K=K+5|0;return 0}function At(t){t=t|0;if(V(8)|0){return 1}I(q(K+1|0)|0,q(K+3|0)|0,q(K+5|0)|0,q(K+7|0)|0);K=K+9|0;return 0}function St(t){t=t|0;A();K=K+1|0;return 0}function Mt(t){t=t|0;P(t-192|0|0);K=K+1|0;return 0}function It(t){t|0;P(t|0);K=K+1|0;return 0}function Ct(t){t|0;P(t|0);K=K+1|0;return 0}function xt(t){t|0;P(t|0);K=K+1|0;return 0}function jt(t){t|0;P(t|0);K=K+1|0;return 0}function Tt(t){t=t|0;P(t-192|0|0);K=K+1|0;return 0}function Bt(t){t|0;P(t|0);K=K+1|0;return 0}function Pt(t){t|0;P(t|0);K=K+1|0;return 0}function Rt(t){t|0;P(t|0);K=K+1|0;return 0}function Nt(t){t=t|0;if(V(1)|0){return 1}P(n[K+1|0]|0);K=K+2|0;return 0}function Ot(t){t=t|0;if(V(2)|0){return 1}P(q(K+1|0)|0);K=K+3|0;return 0}function Lt(t){t=t|0;if(V(4)|0){return 1}R(q(K+1|0)|0,q(K+3|0)|0);K=K+5|0;return 0}function Dt(t){t=t|0;if(V(8)|0){return 1}N(q(K+1|0)|0,q(K+3|0)|0,q(K+5|0)|0,q(K+7|0)|0);K=K+9|0;return 0}function Kt(t){t=t|0;B((t|0)-224|0);K=K+1|0;return 0}function Ft(t){t=t|0;f();K=K+1|0;return 0}function Ut(t){t=t|0;d();K=K+1|0;return 0}function Ht(t){t=t|0;m();K=K+1|0;return 0}function Vt(t){t=t|0;p();K=K+1|0;return 0}function qt(t){t=t|0;if(V(1)|0){return 1}B(n[K+1|0]|0);K=K+2|0;return 0}function Gt(t){t=t|0;var e=0;var r=0;var i=1.0;var s=0.0;var o=0.0;var a=0.0;if(V(2)|0){return 1}e=n[K+1|0]|0;r=n[K+2|0]|0;if((e|0)&0x80){i=-1.0}s=+(((e|0)&0x7C)>>2);o=+(((e|0)&0x03)<<8|r);if(+s==0.0){c(+(+i*+5.9604644775390625e-8*+o))}else if(+s==31.0){if(+i==1.0){if(+o>0.0){v()}else{g()}}else{if(+o>0.0){b()}else{y()}}}else{c(+(+i*D(+2,+(+s-25.0))*+(1024.0+o)))}K=K+3|0;return 0}function zt(t){t=t|0;if(V(4)|0){return 1}l(n[K+1|0]|0,n[K+2|0]|0,n[K+3|0]|0,n[K+4|0]|0);K=K+5|0;return 0}function $t(t){t=t|0;if(V(8)|0){return 1}h(n[K+1|0]|0,n[K+2|0]|0,n[K+3|0]|0,n[K+4|0]|0,n[K+5|0]|0,n[K+6|0]|0,n[K+7|0]|0,n[K+8|0]|0);K=K+9|0;return 0}function Yt(t){t=t|0;return 1}function Wt(t){t=t|0;L();K=K+1|0;return 0}var Zt=[z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,$,Y,W,Z,Yt,Yt,Yt,Yt,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,X,Q,tt,et,Yt,Yt,Yt,Yt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,nt,it,st,ot,Yt,Yt,Yt,at,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ct,lt,ht,dt,Yt,Yt,Yt,ft,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,mt,gt,yt,vt,Yt,Yt,Yt,bt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,wt,_t,kt,Et,At,Yt,Yt,Yt,St,Mt,Mt,Mt,Mt,Mt,Mt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Nt,Ot,Lt,Dt,Yt,Yt,Yt,Yt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Kt,Ft,Ut,Ht,Vt,qt,Gt,zt,$t,Yt,Yt,Yt,Wt];return{parse:H}}}}},{package:"borc",file:"/home/circleci/project/node_modules/borc/src/decoder.asm.js"}],[1122,{buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var e=t.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=t.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(r,i,s){void 0===s&&(s=!0);var o=t.from(s?e:n);return r.copy(o,s?8:9),i.copy(o,s?181:214),o},r.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||48!==t[r])return null;if(e<(r+=1)+1||!(128&t[r]))return null;var n=127&t[r];if(n<1||n>2)return null;if(e<(r+=1)+n)return null;var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);return e<(r+=n)+i||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]?null:t.slice(r+2,r+2+t[r+1])},r.signatureImportLax=function(e){var r=t.alloc(32,0),n=t.alloc(32,0),i=e.length,s=0;if(48!==e[s++])return null;var o=e[s++];if(128&o&&(s+=o-128)>i)return null;if(2!==e[s++])return null;var a=e[s++];if(128&a){if(s+(o=a-128)>i)return null;for(;o>0&&0===e[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+e[s]}if(a>i-s)return null;var u=s;if(s+=a,2!==e[s++])return null;var c=e[s++];if(128&c){if(s+(o=c-128)>i)return null;for(;o>0&&0===e[s];s+=1,o-=1);for(c=0;o>0;s+=1,o-=1)c=(c<<8)+e[s]}if(c>i-s)return null;var l=s;for(s+=c;a>0&&0===e[u];a-=1,u+=1);if(a>32)return null;var h=e.slice(u,u+a);for(h.copy(r,32-h.length);c>0&&0===e[l];c-=1,l+=1);if(c>32)return null;var d=e.slice(l,l+c);return d.copy(n,32-d.length),{r:r,s:n}}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/home/circleci/project/node_modules/@metamask/eth-sig-util/node_modules/ethereumjs-util/dist/secp256k1v3-lib/der.js"}],[1123,{"bn.js":2113,buffer:2157,elliptic:2391},function(){with(this)return function(){"use strict";return function(t,e,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=t("bn.js"),i=new(0,t("elliptic").ec)("secp256k1"),s=i.curve;r.privateKeyExport=function(t,e){void 0===e&&(e=!0);var r=new n(t);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var a=i.g.mul(r);return o(a.getX(),a.getY(),e)},r.privateKeyModInverse=function(t){var r=new n(t);if(r.ucmp(s.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(s.n).toArrayLike(e,"be",32)},r.signatureImport=function(t){var r=new n(t.r);r.ucmp(s.n)>=0&&(r=new n(0));var i=new n(t.s);return i.ucmp(s.n)>=0&&(i=new n(0)),e.concat([r.toArrayLike(e,"be",32),i.toArrayLike(e,"be",32)])},r.ecdhUnsafe=function(t,e,r){void 0===r&&(r=!0);var a=i.keyFromPublic(t),u=new n(e);if(u.ucmp(s.n)>=0||u.isZero())throw new Error("scalar was invalid (zero or overflow)");var c=a.pub.mul(u);return o(c.getX(),c.getY(),r)};var o=function(t,r,n){var i;return n?((i=e.alloc(33))[0]=r.isOdd()?3:2,t.toArrayLike(e,"be",32).copy(i,1)):((i=e.alloc(65))[0]=4,t.toArrayLike(e,"be",32).copy(i,1),r.toArrayLike(e,"be",32).copy(i,33)),i}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/home/circleci/project/node_modules/@metamask/eth-sig-util/node_modules/ethereumjs-util/dist/secp256k1v3-lib/index.js"}],[5206,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}}}},{package:"lodash",file:"/home/circleci/project/node_modules/lodash/_nativeKeysIn.js"}],[5117,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t,e){return null!=t&&e in Object(t)}}}},{package:"lodash",file:"/home/circleci/project/node_modules/lodash/_baseHasIn.js"}],[5175,{"./_castPath":5145,"./_isIndex":5185,"./_toKey":5224,"./isArguments":5233,"./isArray":5234,"./isLength":5240},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./_castPath"),i=t("./isArguments"),s=t("./isArray"),o=t("./_isIndex"),a=t("./isLength"),u=t("./_toKey");e.exports=function(t,e,r){for(var c=-1,l=(e=n(e,t)).length,h=!1;++c<l;){var d=u(e[c]);if(!(h=null!=t&&r(t,d)))break;t=t[d]}return h||++c!=l?h:!!(l=null==t?0:t.length)&&a(l)&&o(d,l)&&(s(t)||i(t))}}}},{package:"lodash",file:"/home/circleci/project/node_modules/lodash/_hasPath.js"}],[1346,{"../util":1370},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=t("../util"),s=1024;function o({ethQuery:t,numberOfBlocks:e,endBlockNumber:r,percentiles:s,includeNextBlock:o}){var a;return n(this,void 0,void 0,(function*(){const n=yield i.query(t,"eth_feeHistory",[i.toHex(e),i.toHex(r),s]),u=i.fromHex(n.oldestBlock);if(n.baseFeePerGas.length>0&&n.gasUsedRatio.length>0&&(n.reward===undefined||n.reward.length>0)){const t=o?n.baseFeePerGas:n.baseFeePerGas.slice(0,e),r=n.gasUsedRatio,c=null!==(a=n.reward)&&void 0!==a?a:[];return t.map(((t,n)=>{const o=i.fromHex(t),a=u.addn(n);return n>e-1?function({baseFeePerGas:t,number:e}){return{number:e,baseFeePerGas:t,gasUsedRatio:null,priorityFeesByPercentile:null}}({baseFeePerGas:o,number:a}):function({baseFeePerGas:t,number:e,blockIndex:r,gasUsedRatios:n,priorityFeePercentileGroups:s,percentiles:o}){const a=n[r],u=s[r];return{number:e,baseFeePerGas:t,gasUsedRatio:a,priorityFeesByPercentile:o.reduce(((t,e,r)=>{const n=u[r];return Object.assign(Object.assign({},t),{[e]:i.fromHex(n)})}),{})}}({baseFeePerGas:o,number:a,blockIndex:n,gasUsedRatios:r,priorityFeePercentileGroups:c,percentiles:s})}))}return[]}))}r.default=function({ethQuery:t,numberOfBlocks:e,endBlock:r="latest",percentiles:a=[],includeNextBlock:u=!1}){return n(this,void 0,void 0,(function*(){const n=a.length>0?Array.from(new Set(a)).sort(((t,e)=>t-e)):[],c=function(t,e){const r=[];for(let n=t.subn(e);n.lt(t);n=n.addn(s)){const e=t.sub(n).toNumber(),i=e<s?e:s,o=n.addn(i);r.push({numberOfBlocks:i,endBlockNumber:o})}return r}("latest"===r?i.fromHex(yield i.query(t,"blockNumber")):r,e);return(yield Promise.all(c.map((({numberOfBlocks:e,endBlockNumber:r},i)=>i===c.length-1?o({ethQuery:t,numberOfBlocks:e,endBlockNumber:r,percentiles:n,includeNextBlock:u}):o({ethQuery:t,numberOfBlocks:e,endBlockNumber:r,percentiles:n,includeNextBlock:!1}))))).reduce(((t,e)=>[...t,...e]),[])}))}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/controllers/dist/gas/fetchBlockFeeHistory.js"}],[1356,{},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){const e=t.slice().sort(((t,e)=>t.cmp(e))),r=e.length;return e[Math.floor((r-1)/2)]}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/medianOf.js"}],[1384,{},function(){with(this)return function(){"use strict";return function(t,e,r){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var s=new Array(16);e.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),s[e]=t>>>((3&e)<<3)&255;return s}}}}},{package:"uuid",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethereumjs-wallet/node_modules/uuid/lib/rng-browser.js"}],[1383,{},function(){with(this)return function(){"use strict";return function(t,e,r){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}}}},{package:"uuid",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethereumjs-wallet/node_modules/uuid/lib/bytesToUuid.js"}],[1395,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t){return function(e,r){var n=0,i=t.options.timeout||8e5,s=t.options.interval||7e3,o=new Promise((function(r,o){var a=setInterval((function(){(t.getTransactionReceipt(e,(function(t,e){t&&(clearInterval(a),o(t)),!t&&e&&(clearInterval(a),r(e))})),n>=i)&&(clearInterval(a),o("Receipt timeout waiting for tx hash: "+e));n+=s}),s)}));return r&&o.then((function(t){return r(null,t)})).catch((function(t){return r(t,null)})),r?null:o}}}}},{package:"ethjs",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs/lib/lib/getTransactionSuccess.js"}],[1376,{},function(){with(this)return function(){"use strict";return function(t,e,r){!function(e,r){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof e?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o=t("buf"+"fer").Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),s=e;s<i;s++){var o=t.charCodeAt(s)-48;n<<=4,n|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return n}function u(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,c=0,l=r;l<a;l+=n)c=u(t,l,l+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=u(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var d=l[t],f=h[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);r=(p=p.idivn(f)).isZero()?m+r:c[d-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,k=0|o[4],E=8191&k,A=k>>>13,S=0|o[5],M=8191&S,I=S>>>13,C=0|o[6],x=8191&C,j=C>>>13,T=0|o[7],B=8191&T,P=T>>>13,R=0|o[8],N=8191&R,O=R>>>13,L=0|o[9],D=8191&L,K=L>>>13,F=0|a[0],U=8191&F,H=F>>>13,V=0|a[1],q=8191&V,G=V>>>13,z=0|a[2],$=8191&z,Y=z>>>13,W=0|a[3],Z=8191&W,J=W>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(d,U)|0))<<13)|0;c=((s=Math.imul(d,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,H))+Math.imul(m,U)|0,s=Math.imul(m,H);var yt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(d,q)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,H))+Math.imul(v,U)|0,s=Math.imul(v,H),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,G)|0;var vt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(d,$)|0))<<13)|0;c=((s=s+Math.imul(d,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,H))+Math.imul(_,U)|0,s=Math.imul(_,H),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,q)|0,s=s+Math.imul(v,G)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,H))+Math.imul(A,U)|0,s=Math.imul(A,H),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,J)|0;var wt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(M,U),i=(i=Math.imul(M,H))+Math.imul(I,U)|0,s=Math.imul(I,H),n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(A,q)|0,s=s+Math.imul(A,G)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,H))+Math.imul(j,U)|0,s=Math.imul(j,H),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;c=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,H))+Math.imul(P,U)|0,s=Math.imul(P,H),n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(j,q)|0,s=s+Math.imul(j,G)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var Et=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((s=s+Math.imul(d,ct)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(N,U),i=(i=Math.imul(N,H))+Math.imul(O,U)|0,s=Math.imul(O,H),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,G)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var At=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,U),i=(i=Math.imul(D,H))+Math.imul(K,U)|0,s=Math.imul(K,H),n=n+Math.imul(N,q)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,$)|0,s=s+Math.imul(P,Y)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(j,Z)|0,s=s+Math.imul(j,J)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var St=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,G))+Math.imul(K,q)|0,s=Math.imul(K,G),n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,J)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(j,Q)|0,s=s+Math.imul(j,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(E,st)|0,i=(i=i+Math.imul(E,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,dt)|0;var Mt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,Y))+Math.imul(K,$)|0,s=Math.imul(K,Y),n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(j,rt)|0,s=s+Math.imul(j,nt)|0,n=n+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ct)|0)+Math.imul(A,ut)|0,s=s+Math.imul(A,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,J))+Math.imul(K,Z)|0,s=Math.imul(K,J),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(P,rt)|0,s=s+Math.imul(P,nt)|0,n=n+Math.imul(x,st)|0,i=(i=i+Math.imul(x,ot)|0)+Math.imul(j,st)|0,s=s+Math.imul(j,ot)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,dt)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,dt)|0;var Ct=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,tt))+Math.imul(K,Q)|0,s=Math.imul(K,tt),n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(P,st)|0,s=s+Math.imul(P,ot)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(j,ut)|0,s=s+Math.imul(j,ct)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var xt=(c+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(A,pt)|0))<<13)|0;c=((s=s+Math.imul(A,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(K,rt)|0,s=Math.imul(K,nt),n=n+Math.imul(N,st)|0,i=(i=i+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(P,ut)|0,s=s+Math.imul(P,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,dt)|0)+Math.imul(j,ht)|0,s=s+Math.imul(j,dt)|0;var jt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(D,st),i=(i=Math.imul(D,ot))+Math.imul(K,st)|0,s=Math.imul(K,ot),n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(P,ht)|0,s=s+Math.imul(P,dt)|0;var Tt=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((s=s+Math.imul(j,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(K,ut)|0,s=Math.imul(K,ct),n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Bt=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(P,pt)|0))<<13)|0;c=((s=s+Math.imul(P,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,dt))+Math.imul(K,ht)|0,s=Math.imul(K,dt);var Pt=(c+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(K,pt)|0))<<13)|0;return c=((s=Math.imul(K,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=Et,u[8]=At,u[9]=St,u[10]=Mt,u[11]=It,u[12]=Ct,u[13]=xt,u[14]=jt,u[15]=Tt,u[16]=Bt,u[17]=Pt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(f=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?f(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},m.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],y=n[l+f+o],v=h*g-d*y;y=h*y+d*g,g=v,r[l+f]=p+g,n[l+f]=m+y,r[l+f+o]=p-g,n[l+f+o]=m-y,f!==a&&(v=u*h-c*d,d=u*d+c*h,h=v)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),p(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a:a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(v,y),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,y),i(w,y),i(_,y),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new E(t)},i(E,k),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}}},{package:"bn.js",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/bn.js/lib/bn.js"}],[1400,{_process:5498},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.5
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */
!function(r){"object"==typeof t&&t.versions&&t.versions.node&&(r=global);for(var n=!r.JS_SHA3_TEST&&"object"==typeof e&&e.exports,i="0123456789abcdef".split(""),s=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],a=[224,256,384,512],u=["hex","buffer","arrayBuffer","array"],c=function(t,e,r){return function(n){return new v(t,e,t).update(n)[r]()}},l=function(t,e,r){return function(n,i){return new v(t,e,i).update(n)[r]()}},h=function(t,e){var r=c(t,e,"hex");r.create=function(){return new v(t,e,t)},r.update=function(t){return r.create().update(t)};for(var n=0;n<u.length;++n){var i=u[n];r[i]=c(t,e,i)}return r},d=[{name:"keccak",padding:[1,256,65536,16777216],bits:a,createMethod:h},{name:"sha3",padding:[6,1536,393216,100663296],bits:a,createMethod:h},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(t,e){var r=l(t,e,"hex");r.create=function(r){return new v(t,e,r)},r.update=function(t,e){return r.create(e).update(t)};for(var n=0;n<u.length;++n){var i=u[n];r[i]=l(t,e,i)}return r}}],f={},p=0;p<d.length;++p)for(var m=d[p],g=m.bits,y=0;y<g.length;++y)f[m.name+"_"+g[y]]=m.createMethod(g[y],m.padding);function v(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}v.prototype.update=function(t){var e="string"!=typeof t;e&&t.constructor==r.ArrayBuffer&&(t=new Uint8Array(t));for(var n,i,o=t.length,a=this.blocks,u=this.byteCount,c=this.blockCount,l=0,h=this.s;l<o;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<c+1;++n)a[n]=0;if(e)for(n=this.start;l<o&&n<u;++l)a[n>>2]|=t[l]<<s[3&n++];else for(n=this.start;l<o&&n<u;++l)(i=t.charCodeAt(l))<128?a[n>>2]|=i<<s[3&n++]:i<2048?(a[n>>2]|=(192|i>>6)<<s[3&n++],a[n>>2]|=(128|63&i)<<s[3&n++]):i<55296||i>=57344?(a[n>>2]|=(224|i>>12)<<s[3&n++],a[n>>2]|=(128|i>>6&63)<<s[3&n++],a[n>>2]|=(128|63&i)<<s[3&n++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++l)),a[n>>2]|=(240|i>>18)<<s[3&n++],a[n>>2]|=(128|i>>12&63)<<s[3&n++],a[n>>2]|=(128|i>>6&63)<<s[3&n++],a[n>>2]|=(128|63&i)<<s[3&n++]);if(this.lastByteIndex=n,n>=u){for(this.start=n-u,this.block=a[c],n=0;n<c;++n)h[n]^=a[n];b(h),this.reset=!0}else this.start=n}return this},v.prototype.finalize=function(){var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex==this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];b(n)},v.prototype.toString=v.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,s=this.extraBytes,o=0,a=0,u="";a<n;){for(o=0;o<e&&a<n;++o,++a)t=r[o],u+=i[t>>4&15]+i[15&t]+i[t>>12&15]+i[t>>8&15]+i[t>>20&15]+i[t>>16&15]+i[t>>28&15]+i[t>>24&15];a%e==0&&(b(r),o=0)}return s&&(t=r[o],s>0&&(u+=i[t>>4&15]+i[15&t]),s>1&&(u+=i[t>>12&15]+i[t>>8&15]),s>2&&(u+=i[t>>20&15]+i[t>>16&15])),u},v.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)u[o]=r[s];o%e==0&&b(r)}return i&&(u[s]=r[s],t=t.slice(0,a)),t},v.prototype.buffer=v.prototype.arrayBuffer,v.prototype.digest=v.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,u=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&b(n)}return s&&(t=a<<2,e=n[o],s>0&&(u[t]=255&e),s>1&&(u[t+1]=e>>8&255),s>2&&(u[t+2]=e>>16&255)),u};var b=function(t){var e,r,n,i,s,a,u,c,l,h,d,f,p,m,g,y,v,b,w,_,k,E,A,S,M,I,C,x,j,T,B,P,R,N,O,L,D,K,F,U,H,V,q,G,z,$,Y,W,Z,J,X,Q,tt,et,rt,nt,it,st,ot,at,ut,ct,lt;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],u=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],d=t[7]^t[17]^t[27]^t[37]^t[47],e=(f=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|u>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(u<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|l>>>31),r=s^(l<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(h<<1|d>>>31),r=u^(d<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(f<<1|p>>>31),r=l^(p<<1|f>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|s>>>31),r=d^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],$=t[11]<<4|t[10]>>>28,Y=t[10]<<4|t[11]>>>28,x=t[20]<<3|t[21]>>>29,j=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,V=t[40]<<18|t[41]>>>14,q=t[41]<<18|t[40]>>>14,N=t[2]<<1|t[3]>>>31,O=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,T=t[33]<<13|t[32]>>>19,B=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,D=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,J=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,R=t[44]<<29|t[45]>>>3,S=t[6]<<28|t[7]>>>4,M=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,K=t[26]<<25|t[27]>>>7,F=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,k=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,G=t[8]<<27|t[9]>>>5,z=t[9]<<27|t[8]>>>5,I=t[18]<<20|t[19]>>>12,C=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,U=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,E=t[48]<<14|t[49]>>>18,A=t[49]<<14|t[48]>>>18,t[0]=m^~y&b,t[1]=g^~v&w,t[10]=S^~I&x,t[11]=M^~C&j,t[20]=N^~L&K,t[21]=O^~D&F,t[30]=G^~$&W,t[31]=z^~Y&Z,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=y^~b&_,t[3]=v^~w&k,t[12]=I^~x&T,t[13]=C^~j&B,t[22]=L^~K&U,t[23]=D^~F&H,t[32]=$^~W&J,t[33]=Y^~Z&X,t[42]=nt^~st&at,t[43]=it^~ot&ut,t[4]=b^~_&E,t[5]=w^~k&A,t[14]=x^~T&P,t[15]=j^~B&R,t[24]=K^~U&V,t[25]=F^~H&q,t[34]=W^~J&Q,t[35]=Z^~X&tt,t[44]=st^~at&ct,t[45]=ot^~ut&lt,t[6]=_^~E&m,t[7]=k^~A&g,t[16]=T^~P&S,t[17]=B^~R&M,t[26]=U^~V&N,t[27]=H^~q&O,t[36]=J^~Q&G,t[37]=X^~tt&z,t[46]=at^~ct&et,t[47]=ut^~lt&rt,t[8]=E^~m&y,t[9]=A^~g&v,t[18]=P^~S&I,t[19]=R^~M&C,t[28]=V^~N&L,t[29]=q^~O&D,t[38]=Q^~G&$,t[39]=tt^~z&Y,t[48]=ct^~et&nt,t[49]=lt^~rt&it,t[0]^=o[n],t[1]^=o[n+1]};if(n)e.exports=f;else if(r)for(var w in f)r[w]=f[w]}(this)}).call(this)}).call(this,t("_process"))}}},{package:"js-sha3",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/js-sha3/src/sha3.js"}],[1386,{"./utils/index.js":1387,buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){var n=t("./utils/index.js"),i=n.uint256Coder,s=(n.coderBoolean,n.coderFixedBytes,n.coderAddress,n.coderDynamicBytes,n.coderString,n.coderArray,n.paramTypePart,n.getParamCoder);function o(){}function a(t,e){if(t.length!==e.length)throw new Error("[ethjs-abi] while encoding params, types/values mismatch, Your contract requires "+t.length+" types (arguments), and you passed in "+e.length);var n=[];function o(t){return parseInt(32*Math.ceil(t/32))}t.forEach((function(t,r){var i=s(t);n.push({dynamic:i.dynamic,value:i.encode(e[r])})}));var a=0,u=0;n.forEach((function(t){t.dynamic?(a+=32,u+=o(t.value.length)):a+=o(t.value.length)}));var c=0,l=a,h=new r(a+u);return n.forEach((function(t,e){t.dynamic?(i.encode(l).copy(h,c),c+=32,t.value.copy(h,l),l+=o(t.value.length)):(t.value.copy(h,c),c+=o(t.value.length))})),"0x"+h.toString("hex")}function u(t,e,r){var a=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3];arguments.length<3&&(r=e,e=t,t=[]),r=n.hexOrBuffer(r);var u=new o,c=0;return e.forEach((function(e,n){var o=s(e);if(o.dynamic){var l=i.decode(r,c),h=o.decode(r,l.value.toNumber());c+=l.consumed}else{h=o.decode(r,c);c+=h.consumed}a&&(u[n]=h.value),t[n]&&(u[t[n]]=h.value)})),u}function c(t){var e=t.name+"("+n.getKeys(t.inputs,"type").join(",")+")";return"0x"+new r(n.keccak256(e),"hex").slice(0,4).toString("hex")}function l(t,e){var r=a(n.getKeys(t.inputs,"type"),e).substring(2);return""+c(t)+r}function h(t){var e=t.name+"("+n.getKeys(t.inputs,"type").join(",")+")";return"0x"+n.keccak256(e)}function d(t,e,i){var o=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3],a=t.inputs.filter((function(t){return!t.indexed})),c=n.getKeys(a,"name",!0),l=n.getKeys(a,"type"),h=u(c,l,n.hexOrBuffer(e),o),d=t.anonymous?0:1;return t.inputs.filter((function(t){return t.indexed})).map((function(t,e){var n=new r(i[e+d].slice(2),"hex"),o=s(t.type);h[t.name]=o.decode(n,0).value})),h._eventName=t.name,h}function f(t,e){var r=!(arguments.length>2&&arguments[2]!==undefined)||arguments[2];if(t&&e.topics[0]===h(t))return d(t,e.data,e.topics,r)}e.exports={encodeParams:a,decodeParams:u,encodeMethod:l,decodeMethod:function(t,e){return u(n.getKeys(t.outputs,"name",!0),n.getKeys(t.outputs,"type"),n.hexOrBuffer(e))},encodeEvent:function(t,e){return l(t,e)},decodeEvent:d,decodeLogItem:f,logDecoder:function(t){var e=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],r={};return t.filter((function(t){return"event"===t.type})).map((function(t){r[h(t)]=t})),function(t){return t.map((function(t){return f(r[t.topics[0]],t,e)})).filter((function(t){return t}))}},eventSignature:h,encodeSignature:c}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-abi/lib/index.js"}],[1393,{"babel-runtime/core-js/json/stringify":1892,"babel-runtime/core-js/object/assign":1893,"babel-runtime/core-js/object/define-property":1895,"babel-runtime/core-js/object/keys":1896,"babel-runtime/helpers/asyncToGenerator":1901,"babel-runtime/regenerator":2018,"ethjs-format":2644,"ethjs-rpc":2647,"promise-to-callback":5500},function(){with(this)return function(){"use strict";return function(t,e,r){var n=c(t("babel-runtime/regenerator")),i=c(t("babel-runtime/core-js/json/stringify")),s=c(t("babel-runtime/helpers/asyncToGenerator")),o=c(t("babel-runtime/core-js/object/define-property")),a=c(t("babel-runtime/core-js/object/keys")),u=c(t("babel-runtime/core-js/object/assign"));function c(t){return t&&t.__esModule?t:{default:t}}var l=t("ethjs-format"),h=t("ethjs-rpc"),d=t("promise-to-callback");function f(t,e){var r=this,n=e||{};if(!(this instanceof f))throw new Error('[ethjs-query] the Eth object requires the "new" flag in order to function normally (i.e. `const eth = new Eth(provider);`).');if("object"!=typeof t)throw new Error("[ethjs-query] the Eth object requires that the first input 'provider' must be an object, got '"+typeof t+"' (i.e. 'const eth = new Eth(provider);')");r.options=(0,u.default)({debug:n.debug||!1,logger:n.logger||console,jsonSpace:n.jsonSpace||0}),r.rpc=new h(t),r.setProvider=r.rpc.setProvider}function p(t,e){return function(){var r,o=(r=(0,s.default)(n.default.mark((function r(){var s,o;return n.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(h.length<e[2])){r.next=2;break}throw new Error("[ethjs-query] method '"+f+"' requires at least "+e[2]+" input (format type "+e[0][0]+"), "+h.length+" provided. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+t.toLowerCase());case 2:if(!(h.length>e[0].length)){r.next=4;break}throw new Error("[ethjs-query] method '"+f+"' requires at most "+e[0].length+" params, "+h.length+" provided '"+(0,i.default)(h,null,c.options.jsonSpace)+"'. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+t.toLowerCase());case 4:e[3]&&h.length<e[3]&&h.push("latest"),this.log("attempting method formatting for '"+f+"' with inputs "+(0,i.default)(h,null,this.options.jsonSpace)),r.prev=6,u=l.formatInputs(t,h),this.log("method formatting success for '"+f+"' with formatted result: "+(0,i.default)(u,null,this.options.jsonSpace)),r.next=14;break;case 11:throw r.prev=11,r.t0=r.catch(6),new Error("[ethjs-query] while formatting inputs '"+(0,i.default)(h,null,this.options.jsonSpace)+"' for method '"+f+"' error: "+r.t0);case 14:return r.next=16,this.rpc.sendAsync({method:t,params:u});case 16:return s=r.sent,r.prev=17,this.log("attempting method formatting for '"+f+"' with raw outputs: "+(0,i.default)(s,null,this.options.jsonSpace)),o=l.formatOutputs(t,s),this.log("method formatting success for '"+f+"' formatted result: "+(0,i.default)(o,null,this.options.jsonSpace)),r.abrupt("return",o);case 24:throw r.prev=24,r.t1=r.catch(17),new Error("[ethjs-query] while formatting outputs from RPC '"+(0,i.default)(s,null,this.options.jsonSpace)+"' for method '"+f+"' "+r.t1);case 28:case"end":return r.stop()}}),r,this,[[6,11],[17,24]])}))),function(){return r.apply(this,arguments)}),a=null,u=null,c=this,h=[].slice.call(arguments),f=t.replace("eth_","");h.length>0&&"function"==typeof h[h.length-1]&&(a=h.pop());var p=o.call(this);return a?d(p)(a):p}}e.exports=f,f.prototype.log=function(t){this.options.debug&&this.options.logger.log("[ethjs-query log] "+t)},(0,a.default)(l.schema.methods).forEach((function(t){(0,o.default)(f.prototype,t.replace("eth_",""),{enumerable:!0,value:p(t,l.schema.methods[t])})}))}}},{package:"ethjs-query",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-query/lib/index.js"}],[1390,{"./contract":1388,"./has-tx-object":1389,"babel-runtime/core-js/object/assign":1893,"ethjs-abi":1391,"ethjs-filter":2643,"ethjs-util":2651,"js-sha3":1400},function(){with(this)return function(){"use strict";return function(t,e,r){var n,i=t("babel-runtime/core-js/object/assign"),s=(n=i)&&n.__esModule?n:{default:n};var o=t("ethjs-abi"),a=(t("js-sha3").keccak_256,t("ethjs-filter"),t("ethjs-util").getKeys),u=t("./contract"),c=t("./has-tx-object");function l(t){return t.filter((function(t){return"constructor"===t.type}))[0]}e.exports=function(t){return function(e,r,n){if(!Array.isArray(e))throw new Error("[ethjs-contract] Contract ABI must be type Array, got type "+typeof e);if(void 0!==r&&"string"!=typeof r)throw new Error("[ethjs-contract] Contract bytecode must be type String, got type "+typeof r);if(void 0!==n&&"object"!=typeof n)throw new Error("[ethjs-contract] Contract default tx object must be type Object, got type "+typeof e);var i={at:function(i){return new u({address:i,query:t,contractBytecode:r,contractDefaultTxObject:n,contractABI:e})},new:function(){var i={},u=null,h=[].slice.call(arguments);"function"==typeof h[h.length-1]&&(u=h.pop()),c(h)&&(i=h.pop());var d=l(e),f=(0,s.default)({},n,i);if(r&&(f.data=r),d){var p=o.encodeParams(a(d.inputs,"type"),h).substring(2);f.data=""+f.data+p}return u?t.sendTransaction(f,u):t.sendTransaction(f)}};return i}}}}},{package:"ethjs-contract",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-contract/lib/index.js"}],[4521,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=(t,e,r)=>new Promise(((n,i)=>{if(r=Object.assign({concurrency:Infinity},r),"function"!=typeof e)throw new TypeError("Mapper function is required");const s=r.concurrency;if(!("number"==typeof s&&s>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${s}\` (${typeof s})`);const o=[],a=t[Symbol.iterator]();let u=!1,c=!1,l=0,h=0;const d=()=>{if(u)return;const t=a.next(),r=h;if(h++,t.done)return c=!0,void(0===l&&n(o));l++,Promise.resolve(t.value).then((t=>e(t,r))).then((t=>{o[r]=t,l--,d()}),(t=>{u=!0,i(t)}))};for(let t=0;t<s&&(d(),!c);t++);}))}}},{package:"p-map",file:"/home/circleci/project/node_modules/ipfs-log/node_modules/p-map/index.js"}],[5450,{},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t=>new Promise((e=>{e(t())}));e.exports=(t,e)=>n((function r(){if(t())return n(e).then(r)}))}}},{package:"p-whilst",file:"/home/circleci/project/node_modules/p-whilst/index.js"}],[4810,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={space:"",cycles:!1,replacer:(t,e)=>e,stringify:JSON.stringify}}}},{package:"json-stringify-deterministic",file:"/home/circleci/project/node_modules/json-stringify-deterministic/lib/defaults.js"}],[4812,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={isArray:Array.isArray,assign:Object.assign,isObject:t=>"object"==typeof t,isFunction:t=>"function"==typeof t,isBoolean:t=>"boolean"==typeof t,isRegex:t=>t instanceof RegExp,keys:Object.keys}}}},{package:"json-stringify-deterministic",file:"/home/circleci/project/node_modules/json-stringify-deterministic/lib/util.js"}],[6078,{buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0});var n=t("buffer");r.default=function(t){var e=t.length,r=e%4;if(!r)return t;var i=e,s=4-r,o=e+s,a=n.Buffer.alloc(o);for(a.write(t);s--;)a.write("=",i++);return a.toString()}}}},{package:"uport-base64url",file:"/home/circleci/project/node_modules/uport-base64url/dist/pad-string.js"}],[5412,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=t=>t!==undefined&&null!==t}}},{package:"orbit-db-identity-provider",file:"/home/circleci/project/node_modules/orbit-db-identity-provider/src/is-defined.js"}],[5410,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=class{async getId(t){}async signIdentity(t,e){}static async verifyIdentity(t){}static get type(){throw new Error("'static get type ()' needs to be defined in the inheriting class")}get type(){return this.constructor.type}}}}},{package:"orbit-db-identity-provider",file:"/home/circleci/project/node_modules/orbit-db-identity-provider/src/identity-provider-interface.js"}],[2032,{buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var r=e.length,n=r%4;if(!n)return e;var i=r,s=4-n,o=r+s,a=t.alloc(o);for(a.write(e);s--;)a.write("=",i++);return a.toString()}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"base64url",file:"/home/circleci/project/node_modules/base64url/dist/pad-string.js"}],[2343,{buffer:2157,"js-sha256":4796,"js-sha3":4797},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=function(t){return s.Buffer.from(n.sha256.arrayBuffer(t))},r.keccak=o,r.toEthereumAddress=function(t){return"0x".concat(o(s.Buffer.from(t.slice(2),"hex")).slice(-20).toString("hex"))};var n=t("js-sha256"),i=t("js-sha3"),s=t("buffer");function o(t){return s.Buffer.from(i.keccak_256.buffer(t))}}}},{package:"did-jwt",file:"/home/circleci/project/node_modules/did-jwt/lib/Digest.js"}],[202,{"./defineProperty.js":189},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./defineProperty.js");e.exports=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach((function(e){n(t,e,r[e])}))}return t},e.exports.default=e.exports,e.exports.__esModule=!0}}},{package:"@babel/runtime",file:"/home/circleci/project/node_modules/@babel/runtime/helpers/objectSpread.js"}],[2348,{"./Digest":2343,"@babel/runtime/helpers/interopRequireDefault":195,base64url:2033,elliptic:2391,tweetnacl:6070,"tweetnacl-util":6069},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.toSignatureObject=l,r.verifyES256K=h,r.verifyRecoverableES256K=d,r.verifyEd25519=f;var i=t("elliptic"),s=t("./Digest"),o=n(t("base64url")),a=n(t("tweetnacl")),u=n(t("tweetnacl-util")),c=new i.ec("secp256k1");function l(t){var e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],r=o.default.toBuffer(t);if(r.length!==(e?65:64))throw new Error("wrong signature length");var n=r.slice(0,32).toString("hex"),i=r.slice(32,64).toString("hex"),s={r:n,s:i};return e&&(s.recoveryParam=r[64]),s}function h(t,e,r){var n=(0,s.sha256)(t),i=l(e),o=r.find((function(t){var e=t.publicKeyHex;return c.keyFromPublic(e,"hex").verify(n,i)}));if(!o)throw new Error("Signature invalid for JWT");return o}function d(t,e,r){var n=l(e,!0),i=(0,s.sha256)(t),o=c.recoverPubKey(i,n,n.recoveryParam),a=o.encode("hex"),u=o.encode("hex",!0),h=(0,s.toEthereumAddress)(a),d=r.find((function(t){var e=t.publicKeyHex,r=t.ethereumAddress;return e===a||e===u||r===h}));if(!d)throw new Error("Signature invalid for JWT");return d}function f(t,e,r){var n=u.default.decodeUTF8(t),i=u.default.decodeBase64(o.default.toBase64(e)),s=r.find((function(t){var e=t.publicKeyBase64;return a.default.sign.detached.verify(n,i,u.default.decodeBase64(e))}));if(!s)throw new Error("Signature invalid for JWT");return s}var p={ES256K:h,"ES256K-R":d,Ed25519:f};function m(t){var e=p[t];if(!e)throw new Error("Unsupported algorithm ".concat(t));return e}m.toSignatureObject=l,e.exports=m}}},{package:"did-jwt",file:"/home/circleci/project/node_modules/did-jwt/lib/VerifierAlgorithm.js"}],[2346,{"@babel/runtime/helpers/asyncToGenerator":185,"@babel/runtime/helpers/interopRequireDefault":195,"@babel/runtime/regenerator":215,base64url:2033,buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.ES256KSigner=u,r.Ed25519Signer=c;var i=n(t("@babel/runtime/regenerator")),s=n(t("@babel/runtime/helpers/asyncToGenerator")),o=n(t("base64url")),a=t("buffer");function u(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0];function e(e){var r=e.r,n=e.s,i=e.recoveryParam,s=a.Buffer.alloc(t?65:64);if(a.Buffer.from(r,"hex").copy(s,0),a.Buffer.from(n,"hex").copy(s,32),t){if(i===undefined)throw new Error("Signer did not return a recoveryParam");s[64]=i}return o.default.encode(s)}return function(){var t=(0,s.default)(i.default.mark((function t(r,n){var s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(r);case 2:return s=t.sent,t.abrupt("return",e(s));case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()}function c(){return function(){var t=(0,s.default)(i.default.mark((function t(e,r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()}var l={ES256K:u(),"ES256K-R":u(!0),Ed25519:c()};e.exports=function(t){var e=l[t];if(!e)throw new Error("Unsupported algorithm ".concat(t));return e}}}},{package:"did-jwt",file:"/home/circleci/project/node_modules/did-jwt/lib/SignerAlgorithm.js"}],[5396,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=(t,e)=>t.utils.isAddress(e)}}},{package:"orbit-db-access-controllers",file:"/home/circleci/project/node_modules/orbit-db-access-controllers/src/utils/is-valid-eth-address.js"}],[5395,{"orbit-db-io":5414},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("orbit-db-io");e.exports={read:async(t,e,r={})=>{const i=await n.read(t,e,r);return"string"==typeof i.write?JSON.parse(i.write):i.write},write:n.write}}}},{package:"orbit-db-access-controllers",file:"/home/circleci/project/node_modules/orbit-db-access-controllers/src/utils/io.js"}],[5444,{},function(){with(this)return function(){"use strict";return function(t,e,r){const n=(t,e,r)=>new Promise(((n,i)=>{if(r=Object.assign({concurrency:Infinity},r),"function"!=typeof e)throw new TypeError("Mapper function is required");const{concurrency:s}=r;if(!("number"==typeof s&&s>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${s}\` (${typeof s})`);const o=[],a=t[Symbol.iterator]();let u=!1,c=!1,l=0,h=0;const d=()=>{if(u)return;const t=a.next(),r=h;if(h++,t.done)return c=!0,void(0===l&&n(o));l++,Promise.resolve(t.value).then((t=>e(t,r))).then((t=>{o[r]=t,l--,d()}),(t=>{u=!0,i(t)}))};for(let t=0;t<s&&(d(),!c);t++);}));e.exports=n,e.exports.default=n}}},{package:"p-map",file:"/home/circleci/project/node_modules/p-map/index.js"}],[4565,{buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("buffer"),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,r),r.Buffer=o),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return e!==undefined?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}}},{package:"safe-buffer",file:"/home/circleci/project/node_modules/ipfs-pubsub-1on1/node_modules/safe-buffer/index.js"}],[5266,{"../is-buffer/index.js":4764},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){function e(t){return t!==undefined&&""!==t}function n(t,e){return Object.hasOwnProperty.call(t,e)}function i(t,e){return Object.hasOwnProperty.call(t,e)&&e}r.compare=function(e,r){if(t.isBuffer(e)){for(var n=Math.min(e.length,r.length),i=0;i<n;i++){var s=e[i]-r[i];if(s)return s}return e.length-r.length}return e<r?-1:e>r?1:0};var s=r.lowerBoundKey=function(t){return i(t,"gt")||i(t,"gte")||i(t,"min")||(t.reverse?i(t,"end"):i(t,"start"))||undefined},o=r.lowerBound=function(t,e){var r=s(t);return r?t[r]:e},a=r.lowerBoundInclusive=function(t){return!n(t,"gt")},u=r.upperBoundInclusive=function(t){return!n(t,"lt")},c=r.lowerBoundExclusive=function(t){return!a(t)},l=r.upperBoundExclusive=function(t){return!u(t)},h=r.upperBoundKey=function(t){return i(t,"lt")||i(t,"lte")||i(t,"max")||(t.reverse?i(t,"start"):i(t,"end"))||undefined},d=r.upperBound=function(t,e){var r=h(t);return r?t[r]:e};function f(t){return t}r.start=function(t,e){return t.reverse?d(t,e):o(t,e)},r.end=function(t,e){return t.reverse?o(t,e):d(t,e)},r.startInclusive=function(t){return t.reverse?u(t):a(t)},r.endInclusive=function(t){return t.reverse?a(t):u(t)},r.toLtgt=function(t,e,i,s,o){e=e||{},i=i||f;var a=arguments.length>3,u=r.lowerBoundKey(t),c=r.upperBoundKey(t);return u?"gt"===u?e.gt=i(t.gt,!1):e.gte=i(t[u],!1):a&&(e.gte=i(s,!1)),c?"lt"===c?e.lt=i(t.lt,!0):e.lte=i(t[c],!0):a&&(e.lte=i(o,!0)),null!=t.reverse&&(e.reverse=!!t.reverse),n(e,"max")&&delete e.max,n(e,"min")&&delete e.min,n(e,"start")&&delete e.start,n(e,"end")&&delete e.end,e},r.contains=function(t,n,i){i=i||r.compare;var s=o(t);if(e(s)&&((a=i(n,s))<0||0===a&&c(t)))return!1;var a,u=d(t);if(e(u)&&((a=i(n,u))>0||0===a&&l(t)))return!1;return!0},r.filter=function(t,e){return function(n){return r.contains(t,n,e)}}}).call(this)}).call(this,{isBuffer:t("../is-buffer/index.js")})}}},{package:"ltgt",file:"/home/circleci/project/node_modules/ltgt/index.js"}],[1746,{},function(){with(this)return function(){"use strict";return function(t,e,r){function n(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(t,e){this._checkWritten();var r=this.db._checkKey(t)||this.db._checkValue(e);if(r)throw r;return t=this.db._serializeKey(t),e=this.db._serializeValue(e),this._put(t,e),this},n.prototype._put=function(t,e){this._operations.push({type:"put",key:t,value:e})},n.prototype.del=function(t){this._checkWritten();var e=this.db._checkKey(t);if(e)throw e;return t=this.db._serializeKey(t),this._del(t),this},n.prototype._del=function(t){this._operations.push({type:"del",key:t})},n.prototype.clear=function(){return this._checkWritten(),this._clear(),this},n.prototype._clear=function(){this._operations=[]},n.prototype.write=function(t,e){if(this._checkWritten(),"function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("write() requires a callback argument");"object"==typeof t&&null!==t||(t={}),this._written=!0,this._write(t,e)},n.prototype._write=function(t,e){this.db._batch(this._operations,t,e)},e.exports=n}}},{package:"abstract-leveldown",file:"/home/circleci/project/node_modules/abstract-leveldown/abstract-chained-batch.js"}],[1747,{_process:5498},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){function r(t){if("object"!=typeof t||null===t)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=t,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var r=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return r._ended?(t.nextTick(e,new Error("cannot call next() after end()")),r):r._nexting?(t.nextTick(e,new Error("cannot call next() before previous next() has completed")),r):(r._nexting=!0,r._next((function(){r._nexting=!1,e.apply(null,arguments)})),r)},r.prototype._next=function(e){t.nextTick(e)},r.prototype.seek=function(t){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");t=this.db._serializeKey(t),this._seek(t)},r.prototype._seek=function(t){},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return t.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},r.prototype._end=function(e){t.nextTick(e)},e.exports=r}).call(this)}).call(this,t("_process"))}}},{package:"abstract-leveldown",file:"/home/circleci/project/node_modules/abstract-leveldown/abstract-iterator.js"}],[1748,{"../is-buffer/index.js":4764,"./abstract-chained-batch":1746,"./abstract-iterator":1747,_process:5498,xtend:6248},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r,n){(function(){var i=t("xtend"),s=t("./abstract-iterator"),o=t("./abstract-chained-batch"),a=Object.prototype.hasOwnProperty,u="start end gt gte lt lte".split(" ");function c(){this.status="new"}function l(t){return-1!==u.indexOf(t)}c.prototype.open=function(t,e){var r=this,n=this.status;if("function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("open() requires a callback argument");"object"==typeof t&&null!==t||(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status="opening",this._open(t,(function(t){if(t)return r.status=n,e(t);r.status="open",e()}))},c.prototype._open=function(t,e){n.nextTick(e)},c.prototype.close=function(t){var e=this,r=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");this.status="closing",this._close((function(n){if(n)return e.status=r,t(n);e.status="closed",t()}))},c.prototype._close=function(t){n.nextTick(t)},c.prototype.get=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("get() requires a callback argument");var i=this._checkKey(t);if(i)return n.nextTick(r,i);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),e.asBuffer=!1!==e.asBuffer,this._get(t,e,r)},c.prototype._get=function(t,e,r){n.nextTick((function(){r(new Error("NotFound"))}))},c.prototype.put=function(t,e,r,i){if("function"==typeof r&&(i=r),"function"!=typeof i)throw new Error("put() requires a callback argument");var s=this._checkKey(t)||this._checkValue(e);if(s)return n.nextTick(i,s);t=this._serializeKey(t),e=this._serializeValue(e),"object"==typeof r&&null!==r||(r={}),this._put(t,e,r,i)},c.prototype._put=function(t,e,r,i){n.nextTick(i)},c.prototype.del=function(t,e,r){if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("del() requires a callback argument");var i=this._checkKey(t);if(i)return n.nextTick(r,i);t=this._serializeKey(t),"object"==typeof e&&null!==e||(e={}),this._del(t,e,r)},c.prototype._del=function(t,e,r){n.nextTick(r)},c.prototype.batch=function(t,e,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof e&&(r=e),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return n.nextTick(r,new Error("batch(array) requires an array argument"));if(0===t.length)return n.nextTick(r);"object"==typeof e&&null!==e||(e={});for(var s=new Array(t.length),o=0;o<t.length;o++){if("object"!=typeof t[o]||null===t[o])return n.nextTick(r,new Error("batch(array) element must be an object and not `null`"));var a=i(t[o]);if("put"!==a.type&&"del"!==a.type)return n.nextTick(r,new Error("`type` must be 'put' or 'del'"));var u=this._checkKey(a.key);if(u)return n.nextTick(r,u);if(a.key=this._serializeKey(a.key),"put"===a.type){var c=this._checkValue(a.value);if(c)return n.nextTick(r,c);a.value=this._serializeValue(a.value)}s[o]=a}this._batch(s,e,r)},c.prototype._batch=function(t,e,r){n.nextTick(r)},c.prototype._setupIteratorOptions=function(t){return(t=function(t,e){var r={};for(var n in e)if(a.call(e,n)){var i=e[n];l(n)&&(i=t._serializeKey(i)),r[n]=i}return r}(this,t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},c.prototype.iterator=function(t){return"object"==typeof t&&null!==t||(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},c.prototype._iterator=function(t){return new s(this)},c.prototype._chainedBatch=function(){return new o(this)},c.prototype._serializeKey=function(t){return t},c.prototype._serializeValue=function(t){return t},c.prototype._checkKey=function(t){return null===t||t===undefined?new Error("key cannot be `null` or `undefined`"):r.isBuffer(t)&&0===t.length?new Error("key cannot be an empty Buffer"):""===t?new Error("key cannot be an empty String"):Array.isArray(t)&&0===t.length?new Error("key cannot be an empty Array"):void 0},c.prototype._checkValue=function(t){if(null===t||t===undefined)return new Error("value cannot be `null` or `undefined`")},e.exports=c}).call(this)}).call(this,{isBuffer:t("../is-buffer/index.js")},t("_process"))}}},{package:"abstract-leveldown",file:"/home/circleci/project/node_modules/abstract-leveldown/abstract-leveldown.js"}],[6071,{buffer:2157,"is-typedarray":4784},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){var n=t("is-typedarray").strict;e.exports=function(t){if(n(t)){var e=r.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(e=e.slice(t.byteOffset,t.byteOffset+t.byteLength)),e}return r.from(t)}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"typedarray-to-buffer",file:"/home/circleci/project/node_modules/typedarray-to-buffer/index.js"}],[4472,{"./messageChannel":4473,"./mutation.js":4474,"./nextTick":4475,"./stateChange":4476,"./timeout":4477},function(){with(this)return function(){"use strict";return function(t,e,r){var n,i,s,o=[t("./nextTick"),t("./mutation.js"),t("./messageChannel"),t("./stateChange"),t("./timeout")],a=-1,u=[],c=!1;function l(){n&&i&&(n=!1,i.length?u=i.concat(u):a=-1,u.length&&h())}function h(){if(!n){c=!1,n=!0;for(var t=u.length,e=setTimeout(l);t;){for(i=u,u=[];i&&++a<t;)i[a].run();a=-1,t=u.length}i=null,a=-1,n=!1,clearTimeout(e)}}for(var d=-1,f=o.length;++d<f;)if(o[d]&&o[d].test&&o[d].test()){s=o[d].install(h);break}function p(t,e){this.fun=t,this.array=e}p.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},e.exports=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),c||n||(c=!0,s())}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/index.js"}],[5424,{elliptic:2391},function(){with(this)return function(){"use strict";return function(t,e,r){const n=new(0,t("elliptic").ec)("secp256k1");e.exports={verify:async(t,e,r)=>{if(!t)throw new Error("No signature given");if(!e)throw new Error("Given publicKey was undefined");if(!r)throw new Error("Given input data was undefined");let i=!1;const s=n.keyPair({pub:e,pubEnc:"hex"});try{i=n.verify(r,t,s)}catch(t){}return Promise.resolve(i)}}}}},{package:"orbit-db-keystore",file:"/home/circleci/project/node_modules/orbit-db-keystore/src/verifiers/verifierv0.js"}],[5425,{"libp2p-crypto":4928,"safe-buffer/":5817},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("libp2p-crypto"),i=t("safe-buffer/").Buffer;e.exports={verify:async(t,e,r)=>{if(!t)throw new Error("No signature given");if(!e)throw new Error("Given publicKey was undefined");if(!r)throw new Error("Given input data was undefined");i.isBuffer(r)||(r=i.from(r));let s=!1;try{const c=n.keys.supportedKeys.secp256k1.unmarshalSecp256k1PublicKey(i.from(e,"hex"));s=await(o=c,a=r,u=i.from(t,"hex"),new Promise(((t,e)=>{o.verify(a,u,((r,n)=>{r||t(n),e(n)}))})))}catch(t){}var o,a,u;return Promise.resolve(s)}}}}},{package:"orbit-db-keystore",file:"/home/circleci/project/node_modules/orbit-db-keystore/src/verifiers/verifierv1.js"}],[5419,{"../messages.json":5421,"bn.js":2113,"create-hash":2261,elliptic:2391,"safe-buffer":5817},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("safe-buffer").Buffer,i=t("create-hash"),s=t("bn.js"),o=t("elliptic").ec,a=t("../messages.json"),u=new o("secp256k1"),c=u.curve;function l(t){var e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){var r=new s(e);if(r.cmp(c.p)>=0)return null;var n=(r=r.toRed(c.red)).redSqr().redIMul(r).redIAdd(c.b).redSqrt();return 3===t!==n.isOdd()&&(n=n.redNeg()),u.keyPair({pub:{x:r,y:n}})}(e,t.slice(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){var n=new s(e),i=new s(r);if(n.cmp(c.p)>=0||i.cmp(c.p)>=0)return null;if(n=n.toRed(c.red),i=i.toRed(c.red),(6===t||7===t)&&i.isOdd()!==(7===t))return null;var o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(c.b)).isZero()?u.keyPair({pub:{x:n,y:i}}):null}(e,t.slice(1,33),t.slice(33,65));default:return null}}r.privateKeyVerify=function(t){var e=new s(t);return e.cmp(c.n)<0&&!e.isZero()},r.privateKeyExport=function(t,e){var r=new s(t);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(u.keyFromPrivate(t).getPublic(e,!0))},r.privateKeyNegate=function(t){var e=new s(t);return e.isZero()?n.alloc(32):c.n.sub(e).umod(c.n).toArrayLike(n,"be",32)},r.privateKeyModInverse=function(t){var e=new s(t);if(e.cmp(c.n)>=0||e.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return e.invm(c.n).toArrayLike(n,"be",32)},r.privateKeyTweakAdd=function(t,e){var r=new s(e);if(r.cmp(c.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new s(t)),r.cmp(c.n)>=0&&r.isub(c.n),r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},r.privateKeyTweakMul=function(t,e){var r=new s(e);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new s(t)),r.cmp(c.n)&&(r=r.umod(c.n)),r.toArrayLike(n,"be",32)},r.publicKeyCreate=function(t,e){var r=new s(t);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(u.keyFromPrivate(t).getPublic(e,!0))},r.publicKeyConvert=function(t,e){var r=l(t);if(null===r)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(e,!0))},r.publicKeyVerify=function(t){return null!==l(t)},r.publicKeyTweakAdd=function(t,e,r){var i=l(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new s(e)).cmp(c.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var o=c.g.mul(e).add(i.pub);if(o.isInfinity())throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(o.encode(!0,r))},r.publicKeyTweakMul=function(t,e,r){var i=l(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new s(e)).cmp(c.n)>=0||e.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(e).encode(!0,r))},r.publicKeyCombine=function(t,e){for(var r=new Array(t.length),i=0;i<t.length;++i)if(r[i]=l(t[i]),null===r[i])throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var s=r[0].pub,o=1;o<r.length;++o)s=s.add(r[o].pub);if(s.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(s.encode(!0,e))},r.signatureNormalize=function(t){var e=new s(t.slice(0,32)),r=new s(t.slice(32,64));if(e.cmp(c.n)>=0||r.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(t);return 1===r.cmp(u.nh)&&c.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},r.signatureExport=function(t){var e=t.slice(0,32),r=t.slice(32,64);if(new s(e).cmp(c.n)>=0||new s(r).cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:e,s:r}},r.signatureImport=function(t){var e=new s(t.r);e.cmp(c.n)>=0&&(e=new s(0));var r=new s(t.s);return r.cmp(c.n)>=0&&(r=new s(0)),n.concat([e.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},r.sign=function(t,e,r,i){if("function"==typeof r){var o=r;r=function(r){var u=o(t,e,null,i,r);if(!n.isBuffer(u)||32!==u.length)throw new Error(a.ECDSA_SIGN_FAIL);return new s(u)}}var l=new s(e);if(l.cmp(c.n)>=0||l.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var h=u.sign(t,e,{canonical:!0,k:r,pers:i});return{signature:n.concat([h.r.toArrayLike(n,"be",32),h.s.toArrayLike(n,"be",32)]),recovery:h.recoveryParam}},r.verify=function(t,e,r){var n={r:e.slice(0,32),s:e.slice(32,64)},i=new s(n.r),o=new s(n.s);if(i.cmp(c.n)>=0||o.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(1===o.cmp(u.nh)||i.isZero()||o.isZero())return!1;var h=l(r);if(null===h)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return u.verify(t,n,{x:h.pub.x,y:h.pub.y})},r.recover=function(t,e,r,i){var o={r:e.slice(0,32),s:e.slice(32,64)},l=new s(o.r),h=new s(o.s);if(l.cmp(c.n)>=0||h.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(l.isZero()||h.isZero())throw new Error;var d=u.recoverPubKey(t,o,r);return n.from(d.encode(!0,i))}catch(t){throw new Error(a.ECDSA_RECOVER_FAIL)}},r.ecdh=function(t,e){var n=r.ecdhUnsafe(t,e,!0);return i("sha256").update(n).digest()},r.ecdhUnsafe=function(t,e,r){var i=l(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var o=new s(e);if(o.cmp(c.n)>=0||o.isZero())throw new Error(a.ECDH_FAIL);return n.from(i.pub.mul(o).encode(!0,r))}}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/elliptic/index.js"}],[5420,{"./assert":5417,"./der":5418,"./messages.json":5421},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./assert"),i=t("./der"),s=t("./messages.json");function o(t,e){return t===undefined?e:(n.isBoolean(t,s.COMPRESSED_TYPE_INVALID),t)}e.exports=function(t){return{privateKeyVerify:function(e){return n.isBuffer(e,s.EC_PRIVATE_KEY_TYPE_INVALID),32===e.length&&t.privateKeyVerify(e)},privateKeyExport:function(e,r){n.isBuffer(e,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=o(r,!0);var a=t.privateKeyExport(e,r);return i.privateKeyExport(e,a,r)},privateKeyImport:function(e){if(n.isBuffer(e,s.EC_PRIVATE_KEY_TYPE_INVALID),(e=i.privateKeyImport(e))&&32===e.length&&t.privateKeyVerify(e))return e;throw new Error(s.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(e){return n.isBuffer(e,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyNegate(e)},privateKeyModInverse:function(e){return n.isBuffer(e,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyModInverse(e)},privateKeyTweakAdd:function(e,r){return n.isBuffer(e,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),t.privateKeyTweakAdd(e,r)},privateKeyTweakMul:function(e,r){return n.isBuffer(e,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),t.privateKeyTweakMul(e,r)},publicKeyCreate:function(e,r){return n.isBuffer(e,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r=o(r,!0),t.publicKeyCreate(e,r)},publicKeyConvert:function(e,r){return n.isBuffer(e,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r=o(r,!0),t.publicKeyConvert(e,r)},publicKeyVerify:function(e){return n.isBuffer(e,s.EC_PUBLIC_KEY_TYPE_INVALID),t.publicKeyVerify(e)},publicKeyTweakAdd:function(e,r,i){return n.isBuffer(e,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),i=o(i,!0),t.publicKeyTweakAdd(e,r,i)},publicKeyTweakMul:function(e,r,i){return n.isBuffer(e,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,s.TWEAK_LENGTH_INVALID),i=o(i,!0),t.publicKeyTweakMul(e,r,i)},publicKeyCombine:function(e,r){n.isArray(e,s.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(e,s.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<e.length;++i)n.isBuffer(e[i],s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e[i],33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID);return r=o(r,!0),t.publicKeyCombine(e,r)},signatureNormalize:function(e){return n.isBuffer(e,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(e,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),t.signatureNormalize(e)},signatureExport:function(e){n.isBuffer(e,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(e,64,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=t.signatureExport(e);return i.signatureExport(r)},signatureImport:function(e){n.isBuffer(e,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(e,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(e);if(r)return t.signatureImport(r);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(e){n.isBuffer(e,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(e,s.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(e);if(r)return t.signatureImport(r);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(e,r,i){n.isBuffer(e,s.MSG32_TYPE_INVALID),n.isBufferLength(e,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID);var o=null,a=null;return i!==undefined&&(n.isObject(i,s.OPTIONS_TYPE_INVALID),i.data!==undefined&&(n.isBuffer(i.data,s.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,s.OPTIONS_DATA_LENGTH_INVALID),o=i.data),i.noncefn!==undefined&&(n.isFunction(i.noncefn,s.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),t.sign(e,r,a,o)},verify:function(e,r,i){return n.isBuffer(e,s.MSG32_TYPE_INVALID),n.isBufferLength(e,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),t.verify(e,r,i)},recover:function(e,r,i,a){return n.isBuffer(e,s.MSG32_TYPE_INVALID),n.isBufferLength(e,32,s.MSG32_LENGTH_INVALID),n.isBuffer(r,s.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,s.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,s.RECOVERY_ID_VALUE_INVALID),a=o(a,!0),t.recover(e,r,i,a)},ecdh:function(e,r){return n.isBuffer(e,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),t.ecdh(e,r)},ecdhUnsafe:function(e,r,i){return n.isBuffer(e,s.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,s.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),i=o(i,!0),t.ecdhUnsafe(e,r,i)}}}}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/index.js"}],[4888,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(){var t,e=new Promise((function(e,r){t=function(t,n){t?r(t):e(n)}}));return t.promise=e,t}}}},{package:"levelup",file:"/home/circleci/project/node_modules/levelup/lib/promisify.js"}],[4886,{},function(){with(this)return function(){"use strict";return function(t,e,r){r.getCallback=function(t,e){return"function"==typeof t?t:e},r.getOptions=function(t){return"object"==typeof t&&null!==t?t:{}}}}},{package:"levelup",file:"/home/circleci/project/node_modules/levelup/lib/common.js"}],[4885,{"./common":4886,"./promisify":4888,"level-errors":4863},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("level-errors").WriteError,i=t("./promisify"),s=t("./common").getCallback,o=t("./common").getOptions;function a(t){this._levelup=t,this.batch=t.db.batch(),this.ops=[],this.length=0}a.prototype.put=function(t,e){try{this.batch.put(t,e)}catch(t){throw new n(t)}return this.ops.push({type:"put",key:t,value:e}),this.length++,this},a.prototype.del=function(t){try{this.batch.del(t)}catch(t){throw new n(t)}return this.ops.push({type:"del",key:t}),this.length++,this},a.prototype.clear=function(){try{this.batch.clear()}catch(t){throw new n(t)}return this.ops=[],this.length=0,this},a.prototype.write=function(t,e){var r,a=this._levelup,u=this.ops;(e=s(t,e))||(r=(e=i()).promise),t=o(t);try{this.batch.write(t,(function(t){if(t)return e(new n(t));a.emit("batch",u),e()}))}catch(t){throw new n(t)}return r},e.exports=a}}},{package:"levelup",file:"/home/circleci/project/node_modules/levelup/lib/batch.js"}],[2335,{"./deferred-iterator":2334,"abstract-leveldown":1749,inherits:4482},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("abstract-leveldown").AbstractLevelDOWN,i=t("inherits"),s=t("./deferred-iterator"),o="put get del batch".split(" ");function a(t){n.call(this,""),this._db=t,this._operations=[],this._iterators=[],u(this)}function u(t){o.forEach((function(e){t["_"+e]=function(){this._operations.push({method:e,args:arguments})}})),"function"==typeof t._db.approximateSize&&(t.approximateSize=function(){this._operations.push({method:"approximateSize",args:arguments})}),t._iterator=function(t){var e=new s(t);return this._iterators.push(e),e}}i(a,n),a.prototype._open=function(t,e){var r=this;this._db.open(t,(function(t){if(t)return e(t);r._operations.forEach((function(t){r._db[t.method].apply(r._db,t.args)})),r._operations=[],r._iterators.forEach((function(t){t.setDb(r._db)})),r._iterators=[],function(t){o.concat("iterator").forEach((function(e){t["_"+e]=function(){return this._db[e].apply(this._db,arguments)}})),t._db.approximateSize&&(t.approximateSize=function(){return this._db.approximateSize.apply(this._db,arguments)})}(r),e()}))},a.prototype._close=function(t){var e=this;this._db.close((function(r){if(r)return t(r);u(e),t()}))},a.prototype._serializeKey=function(t){return t},a.prototype._serializeValue=function(t){return t},e.exports=a,e.exports.DeferredIterator=s}}},{package:"deferred-leveldown",file:"/home/circleci/project/node_modules/deferred-leveldown/deferred-leveldown.js"}],[4863,{errno:2433},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("errno").create,i=n("LevelUPError"),s=n("NotFoundError",i);s.prototype.notFound=!0,s.prototype.status=404,e.exports={LevelUPError:i,InitializationError:n("InitializationError",i),OpenError:n("OpenError",i),ReadError:n("ReadError",i),WriteError:n("WriteError",i),NotFoundError:s,EncodingError:n("EncodingError",i)}}}},{package:"level-errors",file:"/home/circleci/project/node_modules/level-errors/errors.js"}],[4864,{inherits:4482,"readable-stream":4879,xtend:6248},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("inherits"),i=t("readable-stream").Readable,s=t("xtend");function o(t,e){if(!(this instanceof o))return new o(t,e);e=e||{},i.call(this,s(e,{objectMode:!0})),this._iterator=t,this._options=e,this.on("end",this.destroy.bind(this,null,null))}e.exports=o,n(o,i),o.prototype._read=function(){var t=this,e=this._options;this.destroyed||this._iterator.next((function(r,n,i){if(!t.destroyed)return r?t.destroy(r):void(n===undefined&&i===undefined?t.push(null):!1!==e.keys&&!1===e.values?t.push(n):!1===e.keys&&!1!==e.values?t.push(i):t.push({key:n,value:i}))}))},o.prototype._destroy=function(t,e){this._iterator.end((function(r){e(t||r)}))}}}},{package:"level-iterator-stream",file:"/home/circleci/project/node_modules/level-iterator-stream/index.js"}],[5559,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t,e){var r,n;function i(s){if(r=s,n)return i.abort();!function i(){for(var s=!0,o=!1;s;)if(o=!1,r(null,(function(a,u){if(o=!0,a=a||n){if(s=!1,e)e(!0===a?null:a);else if(a&&!0!==a)throw a}else t&&!1===t(u)||n?(s=!1,r(n||!0,e||function(){})):s||i()})),!o)return void(s=!1)}()}return i.abort=function(t,e){if("function"==typeof t&&(e=t,t=!0),n=t||!0,r)return r(n,e||function(){})},i}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sinks/drain.js"}],[1813,{"./eachOfLimit":1812,"./internal/doLimit":1820},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0});var n=s(t("./eachOfLimit")),i=s(t("./internal/doLimit"));function s(t){return t&&t.__esModule?t:{default:t}}r.default=(0,i.default)(n.default,1),e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/eachOfSeries.js"}],[5939,{"is-plain-obj":4778},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("is-plain-obj");e.exports=(t,e)=>{if(!n(t))throw new TypeError("Expected a plain object");if("function"==typeof(e=e||{}))throw new TypeError("Specify the compare function as an option instead");const r=e.deep,i=[],s=[],o=t=>{const a=i.indexOf(t);if(-1!==a)return s[a];const u={},c=Object.keys(t).sort(e.compare);i.push(t),s.push(u);for(let e=0;e<c.length;e++){const i=c[e],s=t[i];if(r&&Array.isArray(s)){const t=[];for(let e=0;e<s.length;e++)t[e]=n(s[e])?o(s[e]):s[e];u[i]=t}else u[i]=r&&n(s)?o(s):s}return u};return o(t)}}}},{package:"sort-keys",file:"/home/circleci/project/node_modules/sort-keys/index.js"}],[4831,{},function(){with(this)return function(){"use strict";return function(t,e,r){function n(t){if("__proto__"===t||"constructor"===t||"prototype"===t)throw new Error("setting of prototype values not supported")}e.exports=function(t,e,r){var i,s,o;Array.isArray(e)&&(i=e.slice(0));"string"==typeof e&&(i=e.split("."));"symbol"==typeof e&&(i=[e]);if(!Array.isArray(i))throw new Error("props arg must be an array, a string or a symbol");if(!(s=i.pop()))return!1;n(s);for(;o=i.shift();)if(n(o),void 0===t[o]&&(t[o]={}),!(t=t[o])||"object"!=typeof t)return!1;return t[s]=r,!0}}}},{package:"just-safe-set",file:"/home/circleci/project/node_modules/just-safe-set/index.js"}],[1845,{"./internal/queue":1834,"./internal/wrapAsync":1839},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){var r=(0,i.default)(t);return(0,n.default)((function(t,e){r(t[0],e)}),e,1)};var n=s(t("./internal/queue")),i=s(t("./internal/wrapAsync"));function s(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/queue.js"}],[2028,{},function(){with(this)return function(){"use strict";return function(t,e,r){var n=function(t,e){return e||(e={}),t.split("").forEach((function(t,r){t in e||(e[t]=r)})),e},i={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",charmap:{0:14,1:8}};i.charmap=n(i.alphabet,i.charmap);var s={alphabet:"0123456789ABCDEFGHJKMNPQRSTVWXYZ",charmap:{O:0,I:1,L:1}};s.charmap=n(s.alphabet,s.charmap);var o={alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",charmap:{}};function a(t){if(this.buf=[],this.shift=8,this.carry=0,t){switch(t.type){case"rfc4648":this.charmap=r.rfc4648.charmap;break;case"crockford":this.charmap=r.crockford.charmap;break;case"base32hex":this.charmap=r.base32hex.charmap;break;default:throw new Error("invalid type")}t.charmap&&(this.charmap=t.charmap)}}function u(t){if(this.buf="",this.shift=3,this.carry=0,t){switch(t.type){case"rfc4648":this.alphabet=r.rfc4648.alphabet;break;case"crockford":this.alphabet=r.crockford.alphabet;break;case"base32hex":this.alphabet=r.base32hex.alphabet;break;default:throw new Error("invalid type")}t.alphabet?this.alphabet=t.alphabet:t.lc&&(this.alphabet=this.alphabet.toLowerCase())}}o.charmap=n(o.alphabet,o.charmap),a.prototype.charmap=i.charmap,a.prototype.write=function(t){var e=this.charmap,r=this.buf,n=this.shift,i=this.carry;return t.toUpperCase().split("").forEach((function(t){if("="!=t){var s=255&e[t];(n-=5)>0?i|=s<<n:n<0?(r.push(i|s>>-n),i=s<<(n+=8)&255):(r.push(i|s),n=8,i=0)}})),this.shift=n,this.carry=i,this},a.prototype.finalize=function(t){return t&&this.write(t),8!==this.shift&&0!==this.carry&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf},u.prototype.alphabet=i.alphabet,u.prototype.write=function(t){var e,r,n,i=this.shift,s=this.carry;for(n=0;n<t.length;n++)e=s|(r=t[n])>>i,this.buf+=this.alphabet[31&e],i>5&&(e=r>>(i-=5),this.buf+=this.alphabet[31&e]),s=r<<(i=5-i),i=8-i;return this.shift=i,this.carry=s,this},u.prototype.finalize=function(t){return t&&this.write(t),3!==this.shift&&(this.buf+=this.alphabet[31&this.carry],this.shift=3,this.carry=0),this.buf},r.encode=function(t,e){return new u(e).finalize(t)},r.decode=function(t,e){return new a(e).finalize(t)},r.Decoder=a,r.Encoder=u,r.charmap=n,r.crockford=s,r.rfc4648=i,r.base32hex=o}}},{package:"base32.js",file:"/home/circleci/project/node_modules/base32.js/base32.js"}],[5557,{"./reduce":5564},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./reduce");e.exports=function(t){return n((function(t,e){return t.push(e),t}),[],t)}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sinks/collect.js"}],[2308,{"./keytransform":2309,"./mount":2310,"./namespace":2311,"./shard":2313,"./sharding":2314,"./tiered":2315},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("./keytransform"),i=t("./sharding"),s=t("./mount"),o=t("./tiered"),a=t("./namespace"),u=t("./shard");r.KeytransformDatastore=n,r.ShardingDatastore=i,r.MountDatastore=s,r.TieredDatastore=o,r.NamespaceDatastore=a,r.shard=u}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/index.js"}],[1846,{"./internal/doParallel":1821,"./internal/reject":1835},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0});var n=s(t("./internal/reject")),i=s(t("./internal/doParallel"));function s(t){return t&&t.__esModule?t:{default:t}}r.default=(0,i.default)(n.default),e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/reject.js"}],[2323,{buffer:2157,"encoding-down":2407,"interface-datastore":4489,leveldown:2321,levelup:4887,"pull-stream":5555},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("pull-stream"),i=t("levelup"),s=t("interface-datastore").utils.asyncFilter,o=t("interface-datastore").utils.asyncSort,a=t("interface-datastore").Key,u=t("interface-datastore").Errors,c=t("encoding-down");e.exports=class{constructor(e,r){let n;r&&r.db?(n=r.db,delete r.db):n=t("leveldown"),this.db=i(c(n(e),{valueEncoding:"binary"}),Object.assign({},r,{compression:!1}),(t=>{if(t)throw t}))}open(t){this.db.open((e=>{if(e)return t(u.dbOpenFailedError(e));t()}))}put(t,e,r){this.db.put(t.toString(),e,(t=>{if(t)return r(u.dbWriteFailedError(t));r()}))}get(t,e){this.db.get(t.toString(),((t,r)=>{if(t)return e(u.notFoundError(t));e(null,r)}))}has(t,e){this.db.get(t.toString(),((t,r)=>{if(t)return t.notFound?void e(null,!1):void e(t);e(null,!0)}))}delete(t,e){this.db.del(t.toString(),(t=>{if(t)return e(u.dbDeleteFailedError(t));e()}))}close(t){this.db.close(t)}batch(){const t=[];return{put:(e,r)=>{t.push({type:"put",key:e.toString(),value:r})},delete:e=>{t.push({type:"del",key:e.toString()})},commit:e=>{this.db.batch(t,e)}}}query(t){let e=!0;null!=t.keysOnly&&(e=!t.keysOnly);const i=this.db.db.iterator({keys:!0,values:e,keyAsBuffer:!0});let u=[(t,n)=>{if(t)return i.end((e=>{n(e||t)}));i.next(((t,s,o)=>{if(t)return n(t);if(null==t&&null==s&&null==o)return i.end((t=>{n(t||!0)}));const u={key:new a(s,!1)};e&&(u.value=r.from(o)),n(null,u)}))}],c=[];if(null!=t.prefix){const e=t.prefix;c.push(((t,r)=>r(null,t.key.toString().startsWith(e))))}if(null!=t.filters&&(c=c.concat(t.filters)),u=u.concat(c.map((t=>s(t)))),null!=t.orders&&(u=u.concat(t.orders.map((t=>o(t))))),null!=t.offset){let e=0;u.push(n.filter((()=>e++>=t.offset)))}return null!=t.limit&&u.push(n.take(t.limit)),n.apply(null,u)}}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"datastore-level",file:"/home/circleci/project/node_modules/datastore-level/src/index.js"}],[4911,{"./crypto":4910,buffer:2157,multihashes:5312},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("multihashes"),i=t("./crypto");function s(t,e,r,i){if("function"==typeof r&&(i=r,r=undefined),!i)throw new Error("Missing callback");s.digest(t,e,r,((t,s)=>{if(t)return i(t);i(null,n.encode(s,e,r))}))}e.exports=s,s.Buffer=r,s.multihash=n,s.digest=function(t,e,r,n){if("function"==typeof r&&(n=r,r=undefined),!n)throw new Error("Missing callback");let i,o=n;r&&(o=(t,e)=>{if(t)return n(t);n(null,e.slice(0,r))});try{i=s.createHash(e)}catch(t){return o(t)}i(t,o)},s.createHash=function(t){if(t=n.coerceCode(t),!s.functions[t])throw new Error("multihash function "+t+" not yet supported");return s.functions[t]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions)}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/libp2p-crypto/node_modules/multihashing-async/src/index.js"}],[4931,{"async/nextTick":1843,buffer:2157,tweetnacl:6070},function(){with(this)return function(){"use strict";return function(t,e,r){(function(e){(function(){const n=t("tweetnacl"),i=t("async/nextTick");r.publicKeyLength=n.sign.publicKeyLength,r.privateKeyLength=n.sign.secretKeyLength,r.generateKey=function(t){i((()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)}))},r.generateKeyFromSeed=function(t,e){i((()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)}))},r.hashAndSign=function(t,r,s){i((()=>{s(null,e.from(n.sign.detached(r,t)))}))},r.hashAndVerify=function(t,e,r,s){i((()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return s(t)}s(null,i)}))}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/circleci/project/node_modules/libp2p-crypto/src/keys/ed25519.js"}],[1856,{"./internal/onlyOnce":1832,"./internal/slice":1837,"./internal/wrapAsync":1839,"lodash/noop":5253},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e,r){r=(0,s.default)(r||n.default);var a=(0,o.default)(e);if(!t())return r(null);var u=function(e){if(e)return r(e);if(t())return a(u);var n=(0,i.default)(arguments,1);r.apply(null,[null].concat(n))};a(u)};var n=a(t("lodash/noop")),i=a(t("./internal/slice")),s=a(t("./internal/onlyOnce")),o=a(t("./internal/wrapAsync"));function a(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/whilst.js"}],[5353,{"./forge":5347},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");n.pki=n.pki||{};var i=e.exports=n.pki.oids=n.oids=n.oids||{};function s(t,e){i[t]=e,i[e]=t}function o(t,e){i[t]=e}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("1.3.14.3.2.29","sha1WithRSASignature"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("2.16.840.1.101.3.4.2.4","sha224"),s("2.16.840.1.101.3.4.2.5","sha512-224"),s("2.16.840.1.101.3.4.2.6","sha512-256"),s("1.2.840.113549.2.2","md2"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.4","surname"),s("2.5.4.5","serialNumber"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.12","title"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("2.5.4.42","givenName"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),o("2.5.29.1","authorityKeyIdentifier"),o("2.5.29.2","keyAttributes"),o("2.5.29.3","certificatePolicies"),o("2.5.29.4","keyUsageRestriction"),o("2.5.29.5","policyMapping"),o("2.5.29.6","subtreesConstraint"),o("2.5.29.7","subjectAltName"),o("2.5.29.8","issuerAltName"),o("2.5.29.9","subjectDirectoryAttributes"),o("2.5.29.10","basicConstraints"),o("2.5.29.11","nameConstraints"),o("2.5.29.12","policyConstraints"),o("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),o("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),o("2.5.29.20","cRLNumber"),o("2.5.29.21","cRLReason"),o("2.5.29.22","expirationDate"),o("2.5.29.23","instructionCode"),o("2.5.29.24","invalidityDate"),o("2.5.29.25","cRLDistributionPoints"),o("2.5.29.26","issuingDistributionPoint"),o("2.5.29.27","deltaCRLIndicator"),o("2.5.29.28","issuingDistributionPoint"),o("2.5.29.29","certificateIssuer"),o("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),o("2.5.29.33","policyMappings"),o("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),o("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),o("2.5.29.46","freshestCRL"),o("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/oids.js"}],[5350,{"./forge":5347},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/md.js"}],[5346,{"./cipher":5344,"./cipherModes":5345,"./forge":5347,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");function i(t,e){n.cipher.registerAlgorithm(t,(function(){return new n.des.Algorithm(t,e)}))}t("./cipher"),t("./cipherModes"),t("./util"),e.exports=n.des=n.des||{},n.des.startEncrypting=function(t,e,r,n){var i=p({key:t,output:r,decrypt:!1,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createEncryptionCipher=function(t,e){return p({key:t,output:null,decrypt:!1,mode:e})},n.des.startDecrypting=function(t,e,r,n){var i=p({key:t,output:r,decrypt:!0,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createDecryptionCipher=function(t,e){return p({key:t,output:null,decrypt:!0,mode:e})},n.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return f(r._keys,t,e,!1)},decrypt:function(t,e){return f(r._keys,t,e,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=n.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=function(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=t.length()>8?3:1,y=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<g;w++){var _=t.getInt32(),k=t.getInt32();_^=(e=252645135&(_>>>4^k))<<4,_^=e=65535&((k^=e)>>>-16^_),_^=(e=858993459&(_>>>2^(k^=e<<-16)))<<2,_^=e=65535&((k^=e)>>>-16^_),_^=(e=1431655765&(_>>>1^(k^=e<<-16)))<<1,_^=e=16711935&((k^=e)>>>8^_),e=(_^=(e=1431655765&(_>>>1^(k^=e<<8)))<<1)<<8|(k^=e)>>>20&240,_=k<<24|k<<8&16711680|k>>>8&65280|k>>>24&240,k=e;for(var E=0;E<v.length;++E){v[E]?(_=_<<2|_>>>26,k=k<<2|k>>>26):(_=_<<1|_>>>27,k=k<<1|k>>>27),k&=-15;var A=r[(_&=-15)>>>28]|n[_>>>24&15]|i[_>>>20&15]|s[_>>>16&15]|o[_>>>12&15]|a[_>>>8&15]|u[_>>>4&15],S=c[k>>>28]|l[k>>>24&15]|h[k>>>20&15]|d[k>>>16&15]|f[k>>>12&15]|p[k>>>8&15]|m[k>>>4&15];e=65535&(S>>>16^A),y[b++]=A^e,y[b++]=S^e<<16}}return y}(e),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],a=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],h=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(t,e,r,n){var i,f,p=32===t.length?3:9;i=3===p?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=e[0],g=e[1];m^=(f=252645135&(m>>>4^g))<<4,m^=(f=65535&(m>>>16^(g^=f)))<<16,m^=f=858993459&((g^=f)>>>2^m),m^=f=16711935&((g^=f<<2)>>>8^m),m=(m^=(f=1431655765&(m>>>1^(g^=f<<8)))<<1)<<1|m>>>31,g=(g^=f)<<1|g>>>31;for(var y=0;y<p;y+=3){for(var v=i[y+1],b=i[y+2],w=i[y];w!=v;w+=b){var _=g^t[w],k=(g>>>4|g<<28)^t[w+1];f=m,m=g,g=f^(o[_>>>24&63]|u[_>>>16&63]|l[_>>>8&63]|d[63&_]|s[k>>>24&63]|a[k>>>16&63]|c[k>>>8&63]|h[63&k])}f=m,m=g,g=f}g=g>>>1|g<<31,g^=f=1431655765&((m=m>>>1|m<<31)>>>1^g),g^=(f=16711935&(g>>>8^(m^=f<<1)))<<8,g^=(f=858993459&(g>>>2^(m^=f)))<<2,g^=f=65535&((m^=f)>>>16^g),g^=f=252645135&((m^=f<<16)>>>4^g),m^=f<<4,r[0]=m,r[1]=g}function p(t){var e,r="DES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=t,i.call(e,r)},e}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/des.js"}],[5356,{"./forge":5347,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./util");var i=e.exports=n.pem=n.pem||{};function s(t){for(var e=t.name+": ",r=[],n=function(t,e){return" "+e},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+"\r\n";var s=0,o=-1;for(i=0;i<e.length;++i,++s)if(s>65&&-1!==o){var a=e[o];","===a?(++o,e=e.substr(0,o)+"\r\n "+e.substr(o)):e=e.substr(0,o)+"\r\n"+a+e.substr(o+1),s=i-o-1,o=-1,++i}else" "!==e[i]&&"\t"!==e[i]&&","!==e[i]||(o=i);return e}function o(t){return t.replace(/^\s+/,"")}i.encode=function(t,e){e=e||{};var r,i="-----BEGIN "+t.type+"-----\r\n";if(t.procType&&(i+=s(r={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]})),t.contentDomain&&(i+=s(r={name:"Content-Domain",values:[t.contentDomain]})),t.dekInfo&&(r={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&r.values.push(t.dekInfo.parameters),i+=s(r)),t.headers)for(var o=0;o<t.headers.length;++o)i+=s(t.headers[o]);return t.procType&&(i+="\r\n"),i+=n.util.encode64(t.body,e.maxline||64)+"\r\n",i+="-----END "+t.type+"-----\r\n"},i.decode=function(t){for(var e,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,a=/\r?\n/;e=i.exec(t);){var u=e[1];"NEW CERTIFICATE REQUEST"===u&&(u="CERTIFICATE REQUEST");var c={type:u,procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(e[3])};if(r.push(c),e[2]){for(var l=e[2].split(a),h=0;e&&h<l.length;){for(var d=l[h].replace(/\s+$/,""),f=h+1;f<l.length;++f){var p=l[f];if(!/\s/.test(p[0]))break;d+=p,h=f}if(e=d.match(s)){for(var m={name:e[1],values:[]},g=e[2].split(","),y=0;y<g.length;++y)m.values.push(o(g[y]));if(c.procType)if(c.contentDomain||"Content-Domain"!==m.name)if(c.dekInfo||"DEK-Info"!==m.name)c.headers.push(m);else{if(0===m.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" '+"header must have at least one subfield.");c.dekInfo={algorithm:g[0],parameters:g[1]||null}}else c.contentDomain=g[0]||"";else{if("Proc-Type"!==m.name)throw new Error("Invalid PEM formatted message. The first "+'encapsulated header must be "Proc-Type".');if(2!==m.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" '+"header must have two subfields.");c.procType={version:g[0],type:g[1]}}}++h}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" '+'header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/pem.js"}],[5364,{"./forge":5347,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./util");var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],o=function(t,e){return t<<e&65535|(65535&t)>>16-e},a=function(t,e){return(65535&t)>>e|t<<16-e&65535};e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(t,e){"string"==typeof t&&(t=n.util.createBuffer(t)),e=e||128;var r,s=t,o=t.length(),a=e,u=Math.ceil(a/8),c=255>>(7&a);for(r=o;r<128;r++)s.putByte(i[s.at(r-1)+s.at(r-o)&255]);for(s.setAt(128-u,i[s.at(128-u)&c]),r=127-u;r>=0;r--)s.setAt(r,i[s.at(r+1)^s.at(r+u)]);return s};var u=function(t,e,r){var i,u,c,l,h=!1,d=null,f=null,p=null,m=[];for(t=n.rc2.expandKey(t,e),c=0;c<64;c++)m.push(t.getInt16Le());r?(i=function(t){for(c=0;c<4;c++)t[c]+=m[l]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),t[c]=o(t[c],s[c]),l++},u=function(t){for(c=0;c<4;c++)t[c]+=m[63&t[(c+3)%4]]}):(i=function(t){for(c=3;c>=0;c--)t[c]=a(t[c],s[c]),t[c]-=m[l]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),l--},u=function(t){for(c=3;c>=0;c--)t[c]-=m[63&t[(c+3)%4]]});var g=function(t){var e=[];for(c=0;c<4;c++){var n=d.getInt16Le();null!==p&&(r?n^=p.getInt16Le():p.putInt16Le(n)),e.push(65535&n)}l=r?0:63;for(var i=0;i<t.length;i++)for(var s=0;s<t[i][0];s++)t[i][1](e);for(c=0;c<4;c++)null!==p&&(r?p.putInt16Le(e[c]):e[c]^=p.getInt16Le()),f.putInt16Le(e[c])},y=null;return y={start:function(t,e){t&&"string"==typeof t&&(t=n.util.createBuffer(t)),h=!1,d=n.util.createBuffer(),f=e||new n.util.createBuffer,p=t,y.output=f},update:function(t){for(h||d.putBuffer(t);d.length()>=8;)g([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(t){var e=!0;if(r)if(t)e=t(8,d,!r);else{var n=8===d.length()?8:8-d.length();d.fillWithByte(n,n)}if(e&&(h=!0,y.update()),!r&&(e=0===d.length()))if(t)e=t(8,f,!r);else{var i=f.length(),s=f.at(i-1);s>i?e=!1:f.truncate(s)}return e}}};n.rc2.startEncrypting=function(t,e,r){var i=n.rc2.createEncryptionCipher(t,128);return i.start(e,r),i},n.rc2.createEncryptionCipher=function(t,e){return u(t,e,!0)},n.rc2.startDecrypting=function(t,e,r){var i=n.rc2.createDecryptionCipher(t,128);return i.start(e,r),i},n.rc2.createDecryptionCipher=function(t,e){return u(t,e,!1)}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/rc2.js"}],[5341,{"./cipher":5344,"./cipherModes":5345,"./forge":5347,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");function i(t,e){n.cipher.registerAlgorithm(t,(function(){return new n.aes.Algorithm(t,e)}))}t("./cipher"),t("./cipherModes"),t("./util"),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(t,e,r,n){var i=p({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},n.aes.createEncryptionCipher=function(t,e){return p({key:t,output:null,decrypt:!1,mode:e})},n.aes.startDecrypting=function(t,e,r,n){var i=p({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},n.aes.createDecryptionCipher=function(t,e){return p({key:t,output:null,decrypt:!0,mode:e})},n.aes.Algorithm=function(t,e){l||h();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return f(r._w,t,e,!1)},decrypt:function(t,e){return f(r._w,t,e,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=n.util.createBuffer();for(var i=0;i<e.length;++i)r.putByte(e[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){e=r,r=[];var s=e.length();if(16===s||24===s||32===s){s>>>=2;for(i=0;i<s;++i)r.push(e.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var o=this.mode.name,a=-1!==["CFB","OFB","CTR","GCM"].indexOf(o);this._w=d(r,t.decrypt&&!a),this._init=!0}},n.aes._expandKey=function(t,e){return l||h(),d(t,e)},n.aes._updateBlock=f,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var s,o,a,u,c,l=!1;function h(){l=!0,a=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;s=new Array(256),o=new Array(256),u=new Array(4),c=new Array(4);for(e=0;e<4;++e)u[e]=new Array(256),c[e]=new Array(256);var r,n,i,h,d,f,p,m=0,g=0;for(e=0;e<256;++e){h=(h=g^g<<1^g<<2^g<<3^g<<4)>>8^255&h^99,s[m]=h,o[h]=m,f=(d=t[h])<<24^h<<16^h<<8^h^d,p=((r=t[m])^(n=t[r])^(i=t[n]))<<24^(m^i)<<16^(m^n^i)<<8^m^r^i;for(var y=0;y<4;++y)u[y][m]=f,c[y][h]=p,f=f<<24|f>>>8,p=p<<24|p>>>8;0===m?m=g=1:(m=r^t[t[t[r^i]]],g^=t[t[g]])}}function d(t,e){for(var r,n=t.slice(0),i=1,o=n.length,u=4*(o+6+1),l=o;l<u;++l)r=n[l-1],l%o==0?(r=s[r>>>16&255]<<24^s[r>>>8&255]<<16^s[255&r]<<8^s[r>>>24]^a[i]<<24,i++):o>6&&l%o==4&&(r=s[r>>>24]<<24^s[r>>>16&255]<<16^s[r>>>8&255]<<8^s[255&r]),n[l]=n[l-o]^r;if(e){for(var h,d=c[0],f=c[1],p=c[2],m=c[3],g=n.slice(0),y=(l=0,(u=n.length)-4);l<u;l+=4,y-=4)if(0===l||l===u-4)g[l]=n[y],g[l+1]=n[y+3],g[l+2]=n[y+2],g[l+3]=n[y+1];else for(var v=0;v<4;++v)h=n[y+v],g[l+(3&-v)]=d[s[h>>>24]]^f[s[h>>>16&255]]^p[s[h>>>8&255]]^m[s[255&h]];n=g}return n}function f(t,e,r,n){var i,a,l,h,d,f,p,m,g,y,v,b,w=t.length/4-1;n?(i=c[0],a=c[1],l=c[2],h=c[3],d=o):(i=u[0],a=u[1],l=u[2],h=u[3],d=s),f=e[0]^t[0],p=e[n?3:1]^t[1],m=e[2]^t[2],g=e[n?1:3]^t[3];for(var _=3,k=1;k<w;++k)y=i[f>>>24]^a[p>>>16&255]^l[m>>>8&255]^h[255&g]^t[++_],v=i[p>>>24]^a[m>>>16&255]^l[g>>>8&255]^h[255&f]^t[++_],b=i[m>>>24]^a[g>>>16&255]^l[f>>>8&255]^h[255&p]^t[++_],g=i[g>>>24]^a[f>>>16&255]^l[p>>>8&255]^h[255&m]^t[++_],f=y,p=v,m=b;r[0]=d[f>>>24]<<24^d[p>>>16&255]<<16^d[m>>>8&255]<<8^d[255&g]^t[++_],r[n?3:1]=d[p>>>24]<<24^d[m>>>16&255]<<16^d[g>>>8&255]<<8^d[255&f]^t[++_],r[2]=d[m>>>24]<<24^d[g>>>16&255]<<16^d[f>>>8&255]<<8^d[255&p]^t[++_],r[n?1:3]=d[g>>>24]<<24^d[f>>>16&255]<<16^d[p>>>8&255]<<8^d[255&m]^t[++_]}function p(t){var e,r="AES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=t,i.call(e,r)},e}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/aes.js"}],[5363,{"./aes":5341,"./forge":5347,"./prng":5361,"./sha256":5367,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./aes"),t("./sha256"),t("./prng"),t("./util"),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},i=new Array(4),s=n.util.createBuffer();function o(){var t=n.prng.create(r);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}r.formatKey=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),n.aes._expandKey(t,!1)},r.formatSeed=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},r.cipher=function(t,e){return n.aes._updateBlock(t,e,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},r.increment=function(t){return++t[3],t},r.md=n.md.sha256;var a=o(),u=null,c=n.util.globalScope,l=c.crypto||c.msCrypto;if(l&&l.getRandomValues&&(u=function(t){return l.getRandomValues(t)}),n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"==typeof window||(window.document,undefined),a.collectInt(+new Date,32),"undefined"!=typeof navigator){var h="";for(var d in navigator)try{"string"==typeof navigator[d]&&(h+=navigator[d])}catch(t){}a.collect(h),h=null}t&&(t().mousemove((function(t){a.collectInt(t.clientX,16),a.collectInt(t.clientY,16)})),t().keypress((function(t){a.collectInt(t.charCode,8)})))}if(n.random)for(var d in a)n.random[d]=a[d];else n.random=a;n.random.createInstance=o,e.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/random.js"}],[5349,{"./forge":5347},function(){with(this)return function(){"use strict";return function(t,e,r){var n,i=t("./forge");e.exports=i.jsbn=i.jsbn||{};function s(t,e,r){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new s(null)}function a(t,e,r,n,i,s){for(var o=16383&e,a=e>>14;--s>=0;){var u=16383&this.data[t],c=this.data[t++]>>14,l=a*u+c*o;i=((u=o*u+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+a*c,r.data[n++]=268435455&u}return i}i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=a,n=28):"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(t,e,r,n,i,s){for(var o=32767&e,a=e>>15;--s>=0;){var u=32767&this.data[t],c=this.data[t++]>>15,l=a*u+c*o;i=((u=o*u+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):"Netscape"!=navigator.appName?(s.prototype.am=function(t,e,r,n,i,s){for(;--s>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=67108863&o}return i},n=26):(s.prototype.am=a,n=28),s.prototype.DB=n,s.prototype.DM=(1<<n)-1,s.prototype.DV=1<<n;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-n,s.prototype.F2=2*n-52;var u,c,l=new Array;for(u="0".charCodeAt(0),c=0;c<=9;++c)l[u++]=c;for(u="a".charCodeAt(0),c=10;c<36;++c)l[u++]=c;for(u="A".charCodeAt(0),c=10;c<36;++c)l[u++]=c;function h(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function d(t,e){var r=l[t.charCodeAt(e)];return null==r?-1:r}function f(t){var e=o();return e.fromInt(t),e}function p(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function m(t){this.m=t}function g(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function y(t,e){return t&e}function v(t,e){return t|e}function b(t,e){return t^e}function w(t,e){return t&~e}function _(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function k(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function E(){}function A(t){return t}function S(t){this.r2=o(),this.q3=o(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}m.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},m.prototype.revert=function(t){return t},m.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},m.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},m.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.convert=function(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(s.ZERO)>0&&this.m.subTo(e,e),e},g.prototype.revert=function(t){var e=o();return t.copyTo(e),this.reduce(e),e},g.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t.data[e],n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},g.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},g.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},s.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},s.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0},s.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var a=8==r?255&t[n]:d(t,n);a<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==o?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t},s.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s},s.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s},s.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,s=(1<<i)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e.data[r+o+1]=this.data[r]>>i|a,a=(this.data[r]&s)<<n;for(r=o-1;r>=0;--r)e.data[r]=0;e.data[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},s.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&s)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}},s.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()},s.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&s.ZERO.subTo(e,e)},s.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()},s.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=o());var a=o(),u=this.s,c=t.s,l=this.DB-p(n.data[n.t-1]);l>0?(n.lShiftTo(l,a),i.lShiftTo(l,r)):(n.copyTo(a),i.copyTo(r));var h=a.t,d=a.data[h-1];if(0!=d){var f=d*(1<<this.F1)+(h>1?a.data[h-2]>>this.F2:0),m=this.FV/f,g=(1<<this.F1)/f,y=1<<this.F2,v=r.t,b=v-h,w=null==e?o():e;for(a.dlShiftTo(b,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),s.ONE.dlShiftTo(h,w),w.subTo(a,a);a.t<h;)a.data[a.t++]=0;for(;--b>=0;){var _=r.data[--v]==d?this.DM:Math.floor(r.data[v]*m+(r.data[v-1]+y)*g);if((r.data[v]+=a.am(0,_,r,b,0,h))<_)for(a.dlShiftTo(b,w),r.subTo(w,r);r.data[v]<--_;)r.subTo(w,r)}null!=e&&(r.drShiftTo(h,e),u!=c&&s.ZERO.subTo(e,e)),r.t=h,r.clamp(),l>0&&r.rShiftTo(l,r),u<0&&s.ZERO.subTo(r,r)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},s.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},s.prototype.exp=function(t,e){if(t>4294967295||t<1)return s.ONE;var r=o(),n=o(),i=e.convert(this),a=p(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var u=r;r=n,n=u}return e.revert(r)},s.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(r=this.data[o]>>a)>0&&(i=!0,s=h(r));o>=0;)a<e?(r=(this.data[o]&(1<<a)-1)<<e-a,r|=this.data[--o]>>(a+=this.DB-e)):(r=this.data[o]>>(a-=e)&n,a<=0&&(a+=this.DB,--o)),r>0&&(i=!0),i&&(s+=h(r));return i?s:"0"},s.prototype.negate=function(){var t=o();return s.ZERO.subTo(this,t),t},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this.data[r]-t.data[r]))return e;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this.data[this.t-1]^this.s&this.DM)},s.prototype.mod=function(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(s.ZERO)>0&&t.subTo(e,e),e},s.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new m(e):new g(e),this.exp(t,r)},s.ZERO=f(0),s.ONE=f(1),E.prototype.convert=A,E.prototype.revert=A,E.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},E.prototype.sqrTo=function(t,e){t.squareTo(e)},S.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e},S.prototype.revert=function(t){return t},S.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},S.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},S.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var M=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],I=(1<<26)/M[M.length-1];s.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},s.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=f(r),i=o(),s=o(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(t)+a},s.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,a=0,u=0;u<t.length;++u){var c=d(t,u);c<0?"-"==t.charAt(u)&&0==this.signum()&&(i=!0):(a=e*a+c,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(s.ONE.shiftLeft(t-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(s.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},s.prototype.bitwiseTo=function(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},s.prototype.changeBit=function(t,e){var r=s.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},s.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()},s.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},s.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()},s.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},s.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r},s.prototype.millerRabin=function(t){var e=this.subtract(s.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n,i=e.shiftRight(r),o={nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}},a=0;a<t;++a){do{n=new s(this.bitLength(),o)}while(n.compareTo(s.ONE)<=0||n.compareTo(e)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(s.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<r&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},s.prototype.clone=function(){var t=o();return this.copyTo(t),t},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},s.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this.data[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this.data[t]&(1<<n)-1)<<8-n,r|=this.data[--t]>>(n+=this.DB-8)):(r=this.data[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},s.prototype.equals=function(t){return 0==this.compareTo(t)},s.prototype.min=function(t){return this.compareTo(t)<0?this:t},s.prototype.max=function(t){return this.compareTo(t)>0?this:t},s.prototype.and=function(t){var e=o();return this.bitwiseTo(t,y,e),e},s.prototype.or=function(t){var e=o();return this.bitwiseTo(t,v,e),e},s.prototype.xor=function(t){var e=o();return this.bitwiseTo(t,b,e),e},s.prototype.andNot=function(t){var e=o();return this.bitwiseTo(t,w,e),e},s.prototype.not=function(){for(var t=o(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},s.prototype.shiftLeft=function(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},s.prototype.shiftRight=function(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},s.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+_(this.data[t]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=k(this.data[r]^e);return t},s.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this.data[e]&1<<t%this.DB)},s.prototype.setBit=function(t){return this.changeBit(t,v)},s.prototype.clearBit=function(t){return this.changeBit(t,w)},s.prototype.flipBit=function(t){return this.changeBit(t,b)},s.prototype.add=function(t){var e=o();return this.addTo(t,e),e},s.prototype.subtract=function(t){var e=o();return this.subTo(t,e),e},s.prototype.multiply=function(t){var e=o();return this.multiplyTo(t,e),e},s.prototype.divide=function(t){var e=o();return this.divRemTo(t,e,null),e},s.prototype.remainder=function(t){var e=o();return this.divRemTo(t,null,e),e},s.prototype.divideAndRemainder=function(t){var e=o(),r=o();return this.divRemTo(t,e,r),new Array(e,r)},s.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),s=f(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new m(e):e.isEven()?new S(e):new g(e);var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=n.convert(this),r>1){var h=o();for(n.sqrTo(a[1],h);u<=l;)a[u]=o(),n.mulTo(h,a[u-2],a[u]),u+=2}var d,y,v=t.t-1,b=!0,w=o();for(i=p(t.data[v])-1;v>=0;){for(i>=c?d=t.data[v]>>i-c&l:(d=(t.data[v]&(1<<i+1)-1)<<c-i,v>0&&(d|=t.data[v-1]>>this.DB+i-c)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--v),b)a[d].copyTo(s),b=!1;else{for(;u>1;)n.sqrTo(s,w),n.sqrTo(w,s),u-=2;u>0?n.sqrTo(s,w):(y=s,s=w,w=y),n.mulTo(w,a[d],s)}for(;v>=0&&0==(t.data[v]&1<<i);)n.sqrTo(s,w),y=s,s=w,w=y,--i<0&&(i=this.DB-1,--v)}return n.revert(s)},s.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return s.ZERO;for(var r=t.clone(),n=this.clone(),i=f(1),o=f(0),a=f(0),u=f(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),o.subTo(u,o)):(n.subTo(r,n),e&&a.subTo(i,a),u.subTo(o,u))}return 0!=n.compareTo(s.ONE)?s.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},s.prototype.pow=function(t){return this.exp(t,new E)},s.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},s.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r.data[0]<=M[M.length-1]){for(e=0;e<M.length;++e)if(r.data[0]==M[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<M.length;){for(var n=M[e],i=e+1;i<M.length&&n<I;)n*=M[i++];for(n=r.modInt(n);e<i;)if(n%M[e++]==0)return!1}return r.millerRabin(t)}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/jsbn.js"}],[5360,{"./forge":5347,"./jsbn":5349,"./random":5363,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./util"),t("./jsbn"),t("./random"),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],s=new r(null);s.fromInt(30);var o=function(t,e){return t|e};t.generateProbablePrime=function(t,e,i){"function"==typeof e&&(i=e,e={});var s=(e=e||{}).algorithm||"PRIMEINC";"string"==typeof s&&(s={name:s}),s.options=s.options||{};var o=e.prng||n.random,u={nextBytes:function(t){for(var e=o.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}};if("PRIMEINC"===s.name)return function(t,e,i,s){if("workers"in i)return function(t,e,i,s){if("undefined"==typeof Worker)return a(t,e,i,s);var o=c(t,e),u=i.workers,l=i.workLoad||100,h=30*l/8,d=i.workerScript||"forge/prime.worker.js";if(-1===u)return n.util.estimateCores((function(t,e){t&&(e=2),u=e-1,f()}));function f(){u=Math.max(1,u);for(var n=[],i=0;i<u;++i)n[i]=new Worker(d);for(i=0;i<u;++i)n[i].addEventListener("message",f);var a=!1;function f(i){if(!a){0;var u=i.data;if(u.found){for(var d=0;d<n.length;++d)n[d].terminate();return a=!0,s(null,new r(u.prime,16))}o.bitLength()>t&&(o=c(t,e));var f=o.toString(16);i.target.postMessage({hex:f,workLoad:l}),o.dAddOffset(h,0)}}}f()}(t,e,i,s);return a(t,e,i,s)}(t,u,s.options,i);throw new Error("Invalid prime generation algorithm: "+s.name)}}function a(t,e,r,n){var i=c(t,e),s=function(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}(i.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var o=10;"maxBlockTime"in r&&(o=r.maxBlockTime),u(i,t,e,0,s,o,n)}function u(t,e,r,s,o,a,l){var h=+new Date;do{if(t.bitLength()>e&&(t=c(e,r)),t.isProbablePrime(o))return l(null,t);t.dAddOffset(i[s++%8],0)}while(a<0||+new Date-h<a);n.util.setImmediate((function(){u(t,e,r,s,o,a,l)}))}function c(t,e){var n=new r(t,e),i=t-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),o,n),n.dAddOffset(31-n.mod(s).byteValue(),0),n}}()}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/prime.js"}],[5357,{"./forge":5347,"./random":5363,"./sha1":5366,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./util"),t("./random"),t("./sha1");var i=e.exports=n.pkcs1=n.pkcs1||{};function s(t,e,r){r||(r=n.md.sha1.create());for(var i="",s=Math.ceil(e/r.digestLength),o=0;o<s;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);r.start(),r.update(t+a),i+=r.digest().getBytes()}return i.substring(0,e)}i.encode_rsa_oaep=function(t,e,r){var i,o,a,u;"string"==typeof r?(i=r,o=arguments[3]||undefined,a=arguments[4]||undefined):r&&(i=r.label||undefined,o=r.seed||undefined,a=r.md||undefined,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),a?a.start():a=n.md.sha1.create(),u||(u=a);var c=Math.ceil(t.n.bitLength()/8),l=c-2*a.digestLength-2;if(e.length>l)throw(g=new Error("RSAES-OAEP input message length is too long.")).length=e.length,g.maxLength=l,g;i||(i=""),a.update(i,"raw");for(var h=a.digest(),d="",f=l-e.length,p=0;p<f;p++)d+="\0";var m=h.getBytes()+d+""+e;if(o){if(o.length!==a.digestLength){var g;throw(g=new Error("Invalid RSAES-OAEP seed. The seed length must "+"match the digest length.")).seedLength=o.length,g.digestLength=a.digestLength,g}}else o=n.random.getBytes(a.digestLength);var y=s(o,c-a.digestLength-1,u),v=n.util.xorBytes(m,y,m.length),b=s(v,a.digestLength,u),w=n.util.xorBytes(o,b,o.length);return"\0"+w+v},i.decode_rsa_oaep=function(t,e,r){var i,o,a;"string"==typeof r?(i=r,o=arguments[3]||undefined):r&&(i=r.label||undefined,o=r.md||undefined,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var u=Math.ceil(t.n.bitLength()/8);if(e.length!==u)throw(v=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,v.expectedLength=u,v;if(o===undefined?o=n.md.sha1.create():o.start(),a||(a=o),u<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),o.update(i,"raw");for(var c=o.digest().getBytes(),l=e.charAt(0),h=e.substring(1,o.digestLength+1),d=e.substring(1+o.digestLength),f=s(d,o.digestLength,a),p=n.util.xorBytes(h,f,h.length),m=s(p,u-o.digestLength-1,a),g=n.util.xorBytes(d,m,d.length),y=g.substring(0,o.digestLength),v="\0"!==l,b=0;b<o.digestLength;++b)v|=c.charAt(b)!==y.charAt(b);for(var w=1,_=o.digestLength,k=o.digestLength;k<g.length;k++){var E=g.charCodeAt(k),A=1&E^1,S=w?65534:0;v|=E&S,_+=w&=A}if(v||1!==g.charCodeAt(_))throw new Error("Invalid RSAES-OAEP padding.");return g.substring(_+1)}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/pkcs1.js"}],[4936,{"../nodeify":4939,"../random-bytes":4941,"../webcrypto":4943,"./rsa-utils":4938,buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){(function(e){(function(){const n=t("../nodeify"),i=t("../webcrypto"),s=t("../random-bytes");function o(t){return Promise.all([i.subtle.exportKey("jwk",t.privateKey),i.subtle.exportKey("jwk",t.publicKey)])}r.utils=t("./rsa-utils"),r.generateKey=function(t,e){n(i.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(o).then((t=>({privateKey:t[0],publicKey:t[1]}))),e)},r.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]);var s;n(Promise.all([r,(s=t,i.subtle.importKey("jwk",{kty:s.kty,n:s.n,e:s.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))]).then((t=>o({privateKey:t[0],publicKey:t[1]}))).then((t=>({privateKey:t[0],publicKey:t[1]}))),e)},r.getRandomValues=s,r.hashAndSign=function(t,r,s){n(i.subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]).then((t=>i.subtle.sign({name:"RSASSA-PKCS1-v1_5"},t,Uint8Array.from(r)))).then((t=>e.from(t))),s)},r.hashAndVerify=function(t,e,r,s){n(i.subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]).then((t=>i.subtle.verify({name:"RSASSA-PKCS1-v1_5"},t,e,r))),s)}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/circleci/project/node_modules/libp2p-crypto/src/keys/rsa-browser.js"}],[5368,{"./forge":5347,"./md":5350,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./md"),t("./util");var i=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var s=n.sha384=n.sha512.sha384=n.sha512.sha384||{};s.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=s,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(t){if(a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a=!0),void 0===t&&(t="SHA-512"),!(t in c))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=c[t],r=null,i=n.util.createBuffer(),s=new Array(80),h=0;h<80;++h)s[h]=new Array(2);var d=64;switch(t){case"SHA-384":d=48;break;case"SHA-512/256":d=32;break;case"SHA-512/224":d=28}var f={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:d,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var t=f.messageLengthSize/4,s=0;s<t;++s)f.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(e.length);for(s=0;s<e.length;++s)r[s]=e[s].slice(0);return f}};return f.start(),f.update=function(t,e){"utf8"===e&&(t=n.util.encodeUtf8(t));var o=t.length;f.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=f.fullMessageLength.length-1;a>=0;--a)f.fullMessageLength[a]+=o[1],o[1]=o[0]+(f.fullMessageLength[a]/4294967296>>>0),f.fullMessageLength[a]=f.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return i.putBytes(t),l(r,s,i),(i.read>2048||0===i.length())&&i.compact(),f},f.digest=function(){var e=n.util.createBuffer();e.putBytes(i.bytes());var a,u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1;e.putBytes(o.substr(0,f.blockLength-u));for(var c=8*f.fullMessageLength[0],h=0;h<f.fullMessageLength.length-1;++h)c+=(a=8*f.fullMessageLength[h+1])/4294967296>>>0,e.putInt32(c>>>0),c=a>>>0;e.putInt32(c);var d=new Array(r.length);for(h=0;h<r.length;++h)d[h]=r[h].slice(0);l(d,s,e);var p,m=n.util.createBuffer();p="SHA-512"===t?d.length:"SHA-384"===t?d.length-2:d.length-4;for(h=0;h<p;++h)m.putInt32(d[h][0]),h===p-1&&"SHA-512/224"===t||m.putInt32(d[h][1]);return m},f};var o=null,a=!1,u=null,c=null;function l(t,e,r){for(var n,i,s,o,a,c,l,h,d,f,p,m,g,y,v,b,w,_,k,E,A,S,M,I,C,x,j,T,B,P,R,N,O,L=r.length();L>=128;){for(j=0;j<16;++j)e[j][0]=r.getInt32()>>>0,e[j][1]=r.getInt32()>>>0;for(;j<80;++j)n=(((T=(P=e[j-2])[0])>>>19|(B=P[1])<<13)^(B>>>29|T<<3)^T>>>6)>>>0,i=((T<<13|B>>>19)^(B<<3|T>>>29)^(T<<26|B>>>6))>>>0,s=(((T=(N=e[j-15])[0])>>>1|(B=N[1])<<31)^(T>>>8|B<<24)^T>>>7)>>>0,o=((T<<31|B>>>1)^(T<<24|B>>>8)^(T<<25|B>>>7))>>>0,R=e[j-7],O=e[j-16],B=i+R[1]+o+O[1],e[j][0]=n+R[0]+s+O[0]+(B/4294967296>>>0)>>>0,e[j][1]=B>>>0;for(p=t[0][0],m=t[0][1],g=t[1][0],y=t[1][1],v=t[2][0],b=t[2][1],w=t[3][0],_=t[3][1],k=t[4][0],E=t[4][1],A=t[5][0],S=t[5][1],M=t[6][0],I=t[6][1],C=t[7][0],x=t[7][1],j=0;j<80;++j)l=((k>>>14|E<<18)^(k>>>18|E<<14)^(E>>>9|k<<23))>>>0,h=(M^k&(A^M))>>>0,a=((p>>>28|m<<4)^(m>>>2|p<<30)^(m>>>7|p<<25))>>>0,c=((p<<4|m>>>28)^(m<<30|p>>>2)^(m<<25|p>>>7))>>>0,d=(p&g|v&(p^g))>>>0,f=(m&y|b&(m^y))>>>0,B=x+(((k<<18|E>>>14)^(k<<14|E>>>18)^(E<<23|k>>>9))>>>0)+((I^E&(S^I))>>>0)+u[j][1]+e[j][1],n=C+l+h+u[j][0]+e[j][0]+(B/4294967296>>>0)>>>0,i=B>>>0,s=a+d+((B=c+f)/4294967296>>>0)>>>0,o=B>>>0,C=M,x=I,M=A,I=S,A=k,S=E,k=w+n+((B=_+i)/4294967296>>>0)>>>0,E=B>>>0,w=v,_=b,v=g,b=y,g=p,y=m,p=n+s+((B=i+o)/4294967296>>>0)>>>0,m=B>>>0;B=t[0][1]+m,t[0][0]=t[0][0]+p+(B/4294967296>>>0)>>>0,t[0][1]=B>>>0,B=t[1][1]+y,t[1][0]=t[1][0]+g+(B/4294967296>>>0)>>>0,t[1][1]=B>>>0,B=t[2][1]+b,t[2][0]=t[2][0]+v+(B/4294967296>>>0)>>>0,t[2][1]=B>>>0,B=t[3][1]+_,t[3][0]=t[3][0]+w+(B/4294967296>>>0)>>>0,t[3][1]=B>>>0,B=t[4][1]+E,t[4][0]=t[4][0]+k+(B/4294967296>>>0)>>>0,t[4][1]=B>>>0,B=t[5][1]+S,t[5][0]=t[5][0]+A+(B/4294967296>>>0)>>>0,t[5][1]=B>>>0,B=t[6][1]+I,t[6][0]=t[6][0]+M+(B/4294967296>>>0)>>>0,t[6][1]=B>>>0,B=t[7][1]+x,t[7][0]=t[7][0]+C+(B/4294967296>>>0)>>>0,t[7][1]=B>>>0,L-=128}}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/sha512.js"}],[5508,{"./parse":5509,"./stringify":5510},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./parse"),i=t("./stringify");e.exports=n,e.exports.parse=n,e.exports.stringify=i}}},{package:"protocol-buffers-schema",file:"/home/circleci/project/node_modules/protocol-buffers-schema/index.js"}],[5516,{"./decode":5512,"./encode":5513,"./encoding-length":5514,"./encodings":5515,varint:6109},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./encodings"),i=t("./decode"),s=t("./encode"),o=t("./encoding-length"),a=t("varint");e.exports=function(t,e){var r={},u={},c={},l=function(t,e){t.enums&&t.enums.forEach((function(t){t.id=e+(e?".":"")+t.name,u[t.id]=t,l(t,t.id)})),t.messages&&t.messages.forEach((function(n){n.id=e+(e?".":"")+n.name,r[n.id]=n,n.fields.forEach((function(n){if(n.map){var i="Map_"+n.map.from+"_"+n.map.to,s={name:i,enums:[],messages:[],fields:[{name:"key",type:n.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:n.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:e+(e?".":"")+i};r[s.id]||(r[s.id]=s,t.messages.push(s)),n.type=i,n.repeated=!0}})),l(n,n.id)}))};l(t,"");var h=function(t,e){t.messages.forEach((function(r){e[r.name]=d(r.name,t.id)})),t.enums.forEach((function(t){e[t.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach((function(r){e[r]=t[r].value})),e}(t.values)})),e.type=2,e.message=!0,e.name=t.name;var r={};t.fields.forEach((function(t){t.oneof&&(r[t.oneof]||(r[t.oneof]=[]),r[t.oneof].push(t.name))}));var n=t.fields.map((function(e){return d(e.type,t.id)})),a=o(t,n,r),u=s(t,d,n,r,a),c=i(t,d,n);return u.bytes=c.bytes=0,e.buffer=!0,e.encode=u,e.decode=c,e.encodingLength=a,e},d=function(t,i,s){if(e&&e[t])return e[t];if(n[t])return n[t];var o,l,d=(i?i+"."+t:t).split(".").map((function(e,r,n){return n.slice(0,r).concat(t).join(".")})).reverse().reduce((function(t,e){return t||r[e]||u[e]}),null);if(!1===s)return d;if(!d)throw new Error("Could not resolve "+t);return d.values?(o=d,l=Object.keys(o.values||[]).map((function(t){return parseInt(o.values[t].value,10)})),n.make(0,(function t(e,r,n){if(!l.length||-1===l.indexOf(e))throw new Error("Invalid enum value: "+e);return a.encode(e,r,n),t.bytes=a.encode.bytes,r}),(function t(e,r){var n=a.decode(e,r);if(!l.length||-1===l.indexOf(n))throw new Error("Invalid enum value: "+n);return t.bytes=a.decode.bytes,n}),a.encodingLength)):c[d.id]||h(d,c[d.id]={})};return(t.enums||[]).concat((t.messages||[]).map((function(t){return d(t.id)})))}}}},{package:"protons",file:"/home/circleci/project/node_modules/protons/src/compile/index.js"}],[4929,{"../nodeify":4939,"../util":4942,"../webcrypto":4943,"asn1.js":1761,buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){(function(e){(function(){const n=t("../webcrypto"),i=t("../nodeify"),s=t("asn1.js").bignum,o=t("../util"),a=o.toBase64,u=o.toBn,c={"P-256":256,"P-384":384,"P-521":521};r.generateEphmeralKeyPair=function(t,r){i(n.subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]).then((r=>{const o=(o,u,l)=>{let h;"function"==typeof u&&(l=u,u=undefined),h=u?n.subtle.importKey("jwk",function(t,e){const r=d(t,e.public);return r.d=a(new s(e.private)),r}(t,u),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):Promise.resolve(r.privateKey);const f=Promise.all([n.subtle.importKey("jwk",d(t,o),{name:"ECDH",namedCurve:t},!1,[]),h]);i(f.then((e=>n.subtle.deriveBits({name:"ECDH",namedCurve:t,public:e[0]},e[1],c[t]))).then((t=>e.from(t))),l)};return n.subtle.exportKey("jwk",r.publicKey).then((t=>({key:h(t),genSharedKey:o})))})),r)};const l={"P-256":32,"P-384":48,"P-521":66};function h(t){const r=l[t.crv];return e.concat([e.from([4]),u(t.x).toArrayLike(e,"be",r),u(t.y).toArrayLike(e,"be",r)],1+2*r)}function d(t,r){const n=l[t];if(!r.slice(0,1).equals(e.from([4])))throw new Error("Invalid key format");const i=new s(r.slice(1,n+1)),o=new s(r.slice(1+n));return{kty:"EC",crv:t,x:a(i,n),y:a(o,n),ext:!0}}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/circleci/project/node_modules/libp2p-crypto/src/keys/ecdh-browser.js"}],[4904,{"./crypto":4903,buffer:2157,multihashes:5312},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("multihashes"),i=t("./crypto");function s(t,e,r,i){if("function"==typeof r&&(i=r,r=undefined),!i)throw new Error("Missing callback");s.digest(t,e,r,((t,s)=>{if(t)return i(t);i(null,n.encode(s,e,r))}))}e.exports=s,s.Buffer=r,s.multihash=n,s.digest=function(t,e,r,n){if("function"==typeof r&&(n=r,r=undefined),!n)throw new Error("Missing callback");let i,o=n;r&&(o=(t,e)=>{if(t)return n(t);n(null,e.slice(0,r))});try{i=s.createHash(e)}catch(t){return o(t)}i(t,o)},s.createHash=function(t){if(t=n.coerceCode(t),!s.functions[t])throw new Error("multihash function "+t+" not yet supported");return s.functions[t]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions),s.validate=(t,e,i)=>{s(t,n.decode(e).name,((t,n)=>{if(t)return i(t);i(t,0===r.compare(e,n))}))}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/index.js"}],[4906,{"async/setImmediate":1849,"multihashing-async":4904,secp256k1:4913},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("secp256k1"),i=t("multihashing-async"),s=t("async/setImmediate"),o="sha2-256";e.exports=t=>{function e(t){if(!n.privateKeyVerify(t))throw new Error("Invalid private key")}return{generateKey:function(e){let r;do{r=t(32)}while(!n.privateKeyVerify(r));var i,o;i=null,o=r,s((()=>e(i,o)))},privateKeyLength:32,hashAndSign:function(t,e,r){const a=(t,e)=>s((()=>r(t,e)));i.digest(e,o,((e,r)=>{if(e)return a(e);try{const e=n.sign(r,t),i=n.signatureExport(e.signature);return a(null,i)}catch(e){a(e)}}))},hashAndVerify:function(t,e,r,a){const u=(t,e)=>s((()=>a(t,e)));i.digest(r,o,((r,i)=>{if(r)return u(r);try{e=n.signatureImport(e);const r=n.verify(i,e,t);return u(null,r)}catch(r){u(r)}}))},compressPublicKey:function(t){if(!n.publicKeyVerify(t))throw new Error("Invalid public key");return n.publicKeyConvert(t,!0)},decompressPublicKey:function(t){return n.publicKeyConvert(t,!1)},validatePrivateKey:e,validatePublicKey:function(t){if(!n.publicKeyVerify(t))throw new Error("Invalid public key")},computePublicKey:function(t){return e(t),n.publicKeyCreate(t)}}}}}},{package:"libp2p-crypto-secp256k1",file:"/home/circleci/project/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/src/crypto.js"}],[4765,{"./lib/node":4766},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./lib/node");function i(t,e){for(var r in e=new n(t,e),t){var s=t[r];if(s instanceof Object&&(e.contains(s)||i(s,e)))return!0}return!1}e.exports=function(t){if(!(t instanceof Object))throw new TypeError('"obj" must be an object (or inherit from it)');return i(t)}}}},{package:"is-circular",file:"/home/circleci/project/node_modules/is-circular/index.js"}],[4751,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports="// An IPFS MerkleDAG Link\nmessage PBLink {\n\n  // multihash of the target object\n  optional bytes Hash = 1;\n\n  // utf string name. should be unique per object\n  optional string Name = 2;\n\n  // cumulative size of target object\n  optional uint64 Tsize = 3;\n}\n\n// An IPFS MerkleDAG Node\nmessage PBNode {\n\n  // refs to other objects\n  repeated PBLink Links = 2;\n\n  // opaque user data\n  optional bytes Data = 1;\n}"}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/dag.proto.js"}],[4755,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={addEnumerableGetters:(t,e)=>{for(const r of e){let e,n=t;for(;e===undefined;){if(n=Object.getPrototypeOf(n),null===n)throw new Error(`no getter named '${r}' found`);e=Object.getOwnPropertyDescriptor(n,r)}if(e.get===undefined)throw new Error(`no getter named '${r}' found`);Object.defineProperty(t,r,{enumerable:!0,get:e.get})}},hidePrivateFields:t=>{for(const e in t)"_"===e[0]&&Object.defineProperty(t,e,{enumerable:!1})}}}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/visibility.js"}],[4743,{"./index":4742},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("./index");e.exports.createDagLinkFromB58EncodedHash=function(t){return new n(t.Name||t.name||"",t.Tsize||t.Size||t.size||0,t.Hash||t.hash||t.multihash||t.cid)}}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/dag-link/util.js"}],[4745,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=(t,e,r)=>{["",...Object.keys(t)].includes(e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>t._links[r].Hash})}}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/dag-node/addNamedLink.js"}],[4746,{"./create":4747,"./util":4750},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("./util"),i=n.cloneLinks,s=n.cloneData,o=t("./create");e.exports=function(t){const e=s(t),r=i(t);return o(e,r)}}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/dag-node/clone.js"}],[4744,{"../dag-link":4742,"./create":4747,"./index":4748,"./util":4750},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("./util"),i=n.cloneLinks,s=n.cloneData,o=n.toDAGLink,a=t("../dag-link"),u=t("./index"),c=t("./create");e.exports=async(t,e)=>{const r=i(t),n=s(t),l=await(async t=>a.isDAGLink(t)?t:u.isDAGNode(t)?o(t,{}):new a(t.Name||t.name,t.Tsize||t.size,t.Hash||t.multihash||t.hash||t.cid))(e);return r.push(l),c(n,r)}}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/dag-node/addLink.js"}],[4749,{"../../../is-buffer/index.js":4764,"./create":4747,"./util":4750,cids:2195},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("./util"),i=n.cloneLinks,s=n.cloneData,o=t("./create"),a=t("cids");e.exports=(t,e)=>{const n=s(t);let u=i(t);if("string"==typeof e)u=u.filter((t=>t.Name!==e));else{if(!r.isBuffer(e)&&!a.isCID(e))throw new Error("second arg needs to be a name or CID");u=u.filter((t=>!t.Hash.equals(e)))}return o(n,u)}}).call(this)}).call(this,{isBuffer:t("../../../is-buffer/index.js")})}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/dag-node/rmLink.js"}],[4747,{"../dag-link":4742,"../util.js":4754,"./index.js":4748,"./util.js":4750,buffer:2157,stable:5941},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("stable"),{serialize:i}=t("../util.js"),s=t("./util.js").linkSort,o=t("./index.js"),a=t("../dag-link");e.exports=(t,e=[])=>{if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new Error("Passed 'data' is not a buffer or a string!");e=e.map((t=>a.isDAGLink(t)?t:a.util.createDagLinkFromB58EncodedHash(t))),e=n(e,s);const u=i({Data:t,Links:e});return new o(t,e,u.length)}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/dag-node/create.js"}],[5314,{"./blake":5313,"./sha":5316,"./utils":5317,buffer:2157,"js-sha3":4797,"murmurhash3js-revisited":5330},function(){with(this)return function(){"use strict";return function(t,e,r){const{Buffer:n}=t("buffer"),i=t("js-sha3"),s=t("murmurhash3js-revisited"),o=t("./sha"),{fromNumberTo32BitBuf:a}=t("./utils"),u=t=>async e=>{switch(t){case"sha3-224":return n.from(i.sha3_224.arrayBuffer(e));case"sha3-256":return n.from(i.sha3_256.arrayBuffer(e));case"sha3-384":return n.from(i.sha3_384.arrayBuffer(e));case"sha3-512":return n.from(i.sha3_512.arrayBuffer(e));case"shake-128":return n.from(i.shake128.create(128).update(e).arrayBuffer());case"shake-256":return n.from(i.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return n.from(i.keccak224.arrayBuffer(e));case"keccak-256":return n.from(i.keccak256.arrayBuffer(e));case"keccak-384":return n.from(i.keccak384.arrayBuffer(e));case"keccak-512":return n.from(i.keccak512.arrayBuffer(e));case"murmur3-128":return n.from(s.x64.hash128(e),"hex");case"murmur3-32":return a(s.x86.hash32(e));default:throw new TypeError(`${t} is not a supported algorithm`)}};e.exports={sha1:o("sha1"),sha2256:o("sha2-256"),sha2512:o("sha2-512"),dblSha2256:o("dbl-sha2-256"),sha3224:u("sha3-224"),sha3256:u("sha3-256"),sha3384:u("sha3-384"),sha3512:u("sha3-512"),shake128:u("shake-128"),shake256:u("shake-256"),keccak224:u("keccak-224"),keccak256:u("keccak-256"),keccak384:u("keccak-384"),keccak512:u("keccak-512"),murmur3128:u("murmur3-128"),murmur332:u("murmur3-32"),addBlake:t("./blake")}}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/multihashing-async/src/crypto.js"}],[4457,{_process:5498},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){
/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
!function(){var r="object"==typeof window?window:{};!r.HI_BASE32_NO_NODE_JS&&"object"==typeof t&&t.versions&&t.versions.node&&(r=global);var n=!r.HI_BASE32_NO_COMMON_JS&&"object"==typeof e&&e.exports,i="function"==typeof define&&define.amd,s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),o={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},a=[0,0,0,0,0,0,0,0],u=function(t,e){e.length>10&&(e="..."+e.substr(-10));var r=new Error("Decoded data is not valid UTF-8."+" Maybe try base32.decode.asBytes()?"+" Partial data after reading "+t+" bytes: "+e+" <-");throw r.position=t,r},c=function(t){if(!/^[A-Z2-7=]+$/.test(t))throw new Error("Invalid base32 characters");for(var e,r,n,i,s,a,u,c,l=[],h=0,d=(t=t.replace(/=/g,"")).length,f=0,p=d>>3<<3;f<p;)e=o[t.charAt(f++)],r=o[t.charAt(f++)],n=o[t.charAt(f++)],i=o[t.charAt(f++)],s=o[t.charAt(f++)],a=o[t.charAt(f++)],u=o[t.charAt(f++)],c=o[t.charAt(f++)],l[h++]=255&(e<<3|r>>>2),l[h++]=255&(r<<6|n<<1|i>>>4),l[h++]=255&(i<<4|s>>>1),l[h++]=255&(s<<7|a<<2|u>>>3),l[h++]=255&(u<<5|c);var m=d-p;return 2===m?(e=o[t.charAt(f++)],r=o[t.charAt(f++)],l[h++]=255&(e<<3|r>>>2)):4===m?(e=o[t.charAt(f++)],r=o[t.charAt(f++)],n=o[t.charAt(f++)],i=o[t.charAt(f++)],l[h++]=255&(e<<3|r>>>2),l[h++]=255&(r<<6|n<<1|i>>>4)):5===m?(e=o[t.charAt(f++)],r=o[t.charAt(f++)],n=o[t.charAt(f++)],i=o[t.charAt(f++)],s=o[t.charAt(f++)],l[h++]=255&(e<<3|r>>>2),l[h++]=255&(r<<6|n<<1|i>>>4),l[h++]=255&(i<<4|s>>>1)):7===m&&(e=o[t.charAt(f++)],r=o[t.charAt(f++)],n=o[t.charAt(f++)],i=o[t.charAt(f++)],s=o[t.charAt(f++)],a=o[t.charAt(f++)],u=o[t.charAt(f++)],l[h++]=255&(e<<3|r>>>2),l[h++]=255&(r<<6|n<<1|i>>>4),l[h++]=255&(i<<4|s>>>1),l[h++]=255&(s<<7|a<<2|u>>>3)),l},l=function(t,e){if(!e)return function(t){for(var e,r,n="",i=t.length,s=0,o=0;s<i;)if((e=t[s++])<=127)n+=String.fromCharCode(e);else{e>191&&e<=223?(r=31&e,o=1):e<=239?(r=15&e,o=2):e<=247?(r=7&e,o=3):u(s,n);for(var a=0;a<o;++a)((e=t[s++])<128||e>191)&&u(s,n),r<<=6,r+=63&e;r>=55296&&r<=57343&&u(s,n),r>1114111&&u(s,n),r<=65535?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296+(r>>10)),n+=String.fromCharCode(56320+(1023&r)))}return n}(c(t));if(!/^[A-Z2-7=]+$/.test(t))throw new Error("Invalid base32 characters");var r,n,i,s,a,l,h,d,f="",p=t.indexOf("=");-1===p&&(p=t.length);for(var m=0,g=p>>3<<3;m<g;)r=o[t.charAt(m++)],n=o[t.charAt(m++)],i=o[t.charAt(m++)],s=o[t.charAt(m++)],a=o[t.charAt(m++)],l=o[t.charAt(m++)],h=o[t.charAt(m++)],d=o[t.charAt(m++)],f+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|i<<1|s>>>4))+String.fromCharCode(255&(s<<4|a>>>1))+String.fromCharCode(255&(a<<7|l<<2|h>>>3))+String.fromCharCode(255&(h<<5|d));var y=p-g;return 2===y?(r=o[t.charAt(m++)],n=o[t.charAt(m++)],f+=String.fromCharCode(255&(r<<3|n>>>2))):4===y?(r=o[t.charAt(m++)],n=o[t.charAt(m++)],i=o[t.charAt(m++)],s=o[t.charAt(m++)],f+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|i<<1|s>>>4))):5===y?(r=o[t.charAt(m++)],n=o[t.charAt(m++)],i=o[t.charAt(m++)],s=o[t.charAt(m++)],a=o[t.charAt(m++)],f+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|i<<1|s>>>4))+String.fromCharCode(255&(s<<4|a>>>1))):7===y&&(r=o[t.charAt(m++)],n=o[t.charAt(m++)],i=o[t.charAt(m++)],s=o[t.charAt(m++)],a=o[t.charAt(m++)],l=o[t.charAt(m++)],h=o[t.charAt(m++)],f+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|i<<1|s>>>4))+String.fromCharCode(255&(s<<4|a>>>1))+String.fromCharCode(255&(a<<7|l<<2|h>>>3))),f},h={encode:function(t,e){var r="string"!=typeof t;return r&&t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),r?function(t){for(var e,r,n,i,o,a="",u=t.length,c=0,l=5*parseInt(u/5);c<l;)e=t[c++],r=t[c++],n=t[c++],i=t[c++],o=t[c++],a+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|o>>>5)]+s[31&o];var h=u-l;return 1===h?(e=t[c],a+=s[e>>>3]+s[e<<2&31]+"======"):2===h?(e=t[c++],r=t[c],a+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[r<<4&31]+"===="):3===h?(e=t[c++],r=t[c++],n=t[c],a+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[n<<1&31]+"==="):4===h&&(e=t[c++],r=t[c++],n=t[c++],i=t[c],a+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"="),a}(t):e?function(t){for(var e,r,n,i,o,a="",u=t.length,c=0,l=5*parseInt(u/5);c<l;)e=t.charCodeAt(c++),r=t.charCodeAt(c++),n=t.charCodeAt(c++),i=t.charCodeAt(c++),o=t.charCodeAt(c++),a+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|o>>>5)]+s[31&o];var h=u-l;return 1===h?(e=t.charCodeAt(c),a+=s[e>>>3]+s[e<<2&31]+"======"):2===h?(e=t.charCodeAt(c++),r=t.charCodeAt(c),a+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[r<<4&31]+"===="):3===h?(e=t.charCodeAt(c++),r=t.charCodeAt(c++),n=t.charCodeAt(c),a+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[n<<1&31]+"==="):4===h&&(e=t.charCodeAt(c++),r=t.charCodeAt(c++),n=t.charCodeAt(c++),i=t.charCodeAt(c),a+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"="),a}(t):function(t){var e,r,n,i,o,u,c,l=!1,h="",d=0,f=0,p=t.length;do{for(a[0]=a[5],a[1]=a[6],a[2]=a[7],c=f;d<p&&c<5;++d)(u=t.charCodeAt(d))<128?a[c++]=u:u<2048?(a[c++]=192|u>>6,a[c++]=128|63&u):u<55296||u>=57344?(a[c++]=224|u>>12,a[c++]=128|u>>6&63,a[c++]=128|63&u):(u=65536+((1023&u)<<10|1023&t.charCodeAt(++d)),a[c++]=240|u>>18,a[c++]=128|u>>12&63,a[c++]=128|u>>6&63,a[c++]=128|63&u);f=c-5,d===p&&++d,d>p&&c<6&&(l=!0),e=a[0],c>4?(r=a[1],n=a[2],i=a[3],o=a[4],h+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|o>>>5)]+s[31&o]):1===c?h+=s[e>>>3]+s[e<<2&31]+"======":2===c?(r=a[1],h+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[r<<4&31]+"===="):3===c?(r=a[1],n=a[2],h+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[n<<1&31]+"==="):(r=a[1],n=a[2],i=a[3],h+=s[e>>>3]+s[31&(e<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"=")}while(!l);return h}(t)},decode:l};l.asBytes=c,n?e.exports=h:(r.base32=h,i&&define((function(){return h})))}()}).call(this)}).call(this,t("_process"))}}},{package:"hi-base32",file:"/home/circleci/project/node_modules/hi-base32/src/base32.js"}],[4495,{buffer:2157,os:5441},function(){with(this)return function(){"use strict";return function(t,e,r){var n=r,i=t("buffer").Buffer,s=t("os");n.toBuffer=function(t,e,r){var n;if(r=~~r,this.isV4Format(t))n=e||new i(r+4),t.split(/\./g).map((function(t){n[r++]=255&parseInt(t,10)}));else if(this.isV6Format(t)){var s,o=t.split(":",8);for(s=0;s<o.length;s++){var a;this.isV4Format(o[s])&&(a=this.toBuffer(o[s]),o[s]=a.slice(0,2).toString("hex")),a&&++s<8&&o.splice(s,0,a.slice(2,4).toString("hex"))}if(""===o[0])for(;o.length<8;)o.unshift("0");else if(""===o[o.length-1])for(;o.length<8;)o.push("0");else if(o.length<8){for(s=0;s<o.length&&""!==o[s];s++);var u=[s,1];for(s=9-o.length;s>0;s--)u.push("0");o.splice.apply(o,u)}for(n=e||new i(r+16),s=0;s<o.length;s++){var c=parseInt(o[s],16);n[r++]=c>>8&255,n[r++]=255&c}}if(!n)throw Error("Invalid ip address: "+t);return n},n.toString=function(t,e,r){e=~~e;var n=[];if(4===(r=r||t.length-e)){for(var i=0;i<r;i++)n.push(t[e+i]);n=n.join(".")}else if(16===r){for(i=0;i<r;i+=2)n.push(t.readUInt16BE(e+i).toString(16));n=(n=(n=n.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n};var o=/^(\d{1,3}\.){3,3}\d{1,3}$/,a=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function u(t){return t?t.toLowerCase():"ipv4"}n.isV4Format=function(t){return o.test(t)},n.isV6Format=function(t){return a.test(t)},n.fromPrefixLen=function(t,e){var r=4;"ipv6"===(e=t>32?"ipv6":u(e))&&(r=16);for(var s=new i(r),o=0,a=s.length;o<a;++o){var c=8;t<8&&(c=t),t-=c,s[o]=255&~(255>>c)}return n.toString(s)},n.mask=function(t,e){t=n.toBuffer(t),e=n.toBuffer(e);var r=new i(Math.max(t.length,e.length)),s=0;if(t.length===e.length)for(s=0;s<t.length;s++)r[s]=t[s]&e[s];else if(4===e.length)for(s=0;s<e.length;s++)r[s]=t[t.length-4+s]&e[s];else{for(s=0;s<r.length-6;s++)r[s]=0;for(r[10]=255,r[11]=255,s=0;s<t.length;s++)r[s+12]=t[s]&e[s+12];s+=12}for(;s<r.length;s++)r[s]=0;return n.toString(r)},n.cidr=function(t){var e=t.split("/"),r=e[0];if(2!==e.length)throw new Error("invalid CIDR subnet: "+r);var i=n.fromPrefixLen(parseInt(e[1],10));return n.mask(r,i)},n.subnet=function(t,e){for(var r=n.toLong(n.mask(t,e)),i=n.toBuffer(e),s=0,o=0;o<i.length;o++)if(255===i[o])s+=8;else for(var a=255&i[o];a;)a=a<<1&255,s++;var u=Math.pow(2,32-s);return{networkAddress:n.fromLong(r),firstAddress:u<=2?n.fromLong(r):n.fromLong(r+1),lastAddress:u<=2?n.fromLong(r+u-1):n.fromLong(r+u-2),broadcastAddress:n.fromLong(r+u-1),subnetMask:e,subnetMaskLength:s,numHosts:u<=2?u:u-2,length:u,contains:function(t){return r===n.toLong(n.mask(t,e))}}},n.cidrSubnet=function(t){var e=t.split("/"),r=e[0];if(2!==e.length)throw new Error("invalid CIDR subnet: "+r);var i=n.fromPrefixLen(parseInt(e[1],10));return n.subnet(r,i)},n.not=function(t){for(var e=n.toBuffer(t),r=0;r<e.length;r++)e[r]=255^e[r];return n.toString(e)},n.or=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;++r)t[r]|=e[r];return n.toString(t)}var i=t,s=e;e.length>t.length&&(i=e,s=t);var o=i.length-s.length;for(r=o;r<i.length;++r)i[r]|=s[r-o];return n.toString(i)},n.isEqual=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(4===e.length){var i=e;e=t,t=i}for(r=0;r<10;r++)if(0!==e[r])return!1;var s=e.readUInt16BE(10);if(0!==s&&65535!==s)return!1;for(r=0;r<4;r++)if(t[r]!==e[r+12])return!1;return!0},n.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.isPublic=function(t){return!n.isPrivate(t)},n.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.loopback=function(t){if("ipv4"!==(t=u(t))&&"ipv6"!==t)throw new Error("family must be ipv4 or ipv6");return"ipv4"===t?"127.0.0.1":"fe80::1"},n.address=function(t,e){var r,i=s.networkInterfaces();if(e=u(e),t&&"private"!==t&&"public"!==t){var o=i[t].filter((function(t){return t.family.toLowerCase()===e}));return 0===o.length?undefined:o[0].address}return(r=Object.keys(i).map((function(r){var s=i[r].filter((function(r){return r.family=r.family.toLowerCase(),r.family===e&&!n.isLoopback(r.address)&&(!t||("public"===t?n.isPrivate(r.address):n.isPublic(r.address)))}));return s.length?s[0].address:undefined})).filter(Boolean)).length?r[0]:n.loopback(e)},n.toLong=function(t){var e=0;return t.split(".").forEach((function(t){e<<=8,e+=parseInt(t)})),e>>>0},n.fromLong=function(t){return(t>>>24)+"."+(t>>16&255)+"."+(t>>8&255)+"."+(255&t)}}}},{package:"ip",file:"/home/circleci/project/node_modules/ip/lib/ip.js"}],[4774,{"ip-regex":4494},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("ip-regex"),i=e.exports=t=>n({exact:!0}).test(t);i.v4=t=>n.v4({exact:!0}).test(t),i.v6=t=>n.v6({exact:!0}).test(t)}}},{package:"is-ip",file:"/home/circleci/project/node_modules/is-ip/index.js"}],[5333,{},function(){with(this)return function(){"use strict";return function(t,e,r){!function(t,n){var i={version:"3.0.1",x86:{},x64:{}};function s(t,e){return(65535&t)*e+(((t>>>16)*e&65535)<<16)}function o(t,e){return t<<e|t>>>32-e}function a(t){return t=s(t^=t>>>16,2246822507),t=s(t^=t>>>13,3266489909),t^=t>>>16}function u(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]+e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]+e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]+e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]+e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function c(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]*e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]*e[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=t[3]*e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]*e[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[2]*e[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[3]*e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(t,e){return 32===(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function h(t,e){return 0===(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function d(t,e){return[t[0]^e[0],t[1]^e[1]]}function f(t){return t=d(t,[0,t[0]>>>1]),t=d(t=c(t,[4283543511,3981806797]),[0,t[0]>>>1]),t=d(t=c(t,[3301882366,444984403]),[0,t[0]>>>1])}i.x86.hash32=function(t,e){e=e||0;for(var r=(t=t||"").length%4,n=t.length-r,i=e,u=0,c=3432918353,l=461845907,h=0;h<n;h+=4)u=s(u=255&t.charCodeAt(h)|(255&t.charCodeAt(h+1))<<8|(255&t.charCodeAt(h+2))<<16|(255&t.charCodeAt(h+3))<<24,c),u=s(u=o(u,15),l),i=s(i=o(i^=u,13),5)+3864292196;switch(u=0,r){case 3:u^=(255&t.charCodeAt(h+2))<<16;case 2:u^=(255&t.charCodeAt(h+1))<<8;case 1:u=s(u^=255&t.charCodeAt(h),c),i^=u=s(u=o(u,15),l)}return(i=a(i^=t.length))>>>0},i.x86.hash128=function(t,e){e=e||0;for(var r=(t=t||"").length%16,n=t.length-r,i=e,u=e,c=e,l=e,h=0,d=0,f=0,p=0,m=597399067,g=2869860233,y=951274213,v=2716044179,b=0;b<n;b+=16)h=255&t.charCodeAt(b)|(255&t.charCodeAt(b+1))<<8|(255&t.charCodeAt(b+2))<<16|(255&t.charCodeAt(b+3))<<24,d=255&t.charCodeAt(b+4)|(255&t.charCodeAt(b+5))<<8|(255&t.charCodeAt(b+6))<<16|(255&t.charCodeAt(b+7))<<24,f=255&t.charCodeAt(b+8)|(255&t.charCodeAt(b+9))<<8|(255&t.charCodeAt(b+10))<<16|(255&t.charCodeAt(b+11))<<24,p=255&t.charCodeAt(b+12)|(255&t.charCodeAt(b+13))<<8|(255&t.charCodeAt(b+14))<<16|(255&t.charCodeAt(b+15))<<24,h=o(h=s(h,m),15),i=o(i^=h=s(h,g),19),i=s(i+=u,5)+1444728091,d=o(d=s(d,g),16),u=o(u^=d=s(d,y),17),u=s(u+=c,5)+197830471,f=o(f=s(f,y),17),c=o(c^=f=s(f,v),15),c=s(c+=l,5)+2530024501,p=o(p=s(p,v),18),l=o(l^=p=s(p,m),13),l=s(l+=i,5)+850148119;switch(h=0,d=0,f=0,p=0,r){case 15:p^=t.charCodeAt(b+14)<<16;case 14:p^=t.charCodeAt(b+13)<<8;case 13:p=s(p^=t.charCodeAt(b+12),v),l^=p=s(p=o(p,18),m);case 12:f^=t.charCodeAt(b+11)<<24;case 11:f^=t.charCodeAt(b+10)<<16;case 10:f^=t.charCodeAt(b+9)<<8;case 9:f=s(f^=t.charCodeAt(b+8),y),c^=f=s(f=o(f,17),v);case 8:d^=t.charCodeAt(b+7)<<24;case 7:d^=t.charCodeAt(b+6)<<16;case 6:d^=t.charCodeAt(b+5)<<8;case 5:d=s(d^=t.charCodeAt(b+4),g),u^=d=s(d=o(d,16),y);case 4:h^=t.charCodeAt(b+3)<<24;case 3:h^=t.charCodeAt(b+2)<<16;case 2:h^=t.charCodeAt(b+1)<<8;case 1:h=s(h^=t.charCodeAt(b),m),i^=h=s(h=o(h,15),g)}return i^=t.length,i+=u^=t.length,i+=c^=t.length,u+=i+=l^=t.length,c+=i,l+=i,i=a(i),i+=u=a(u),i+=c=a(c),u+=i+=l=a(l),c+=i,l+=i,("00000000"+(i>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)},i.x64.hash128=function(t,e){e=e||0;for(var r=(t=t||"").length%16,n=t.length-r,i=[0,e],s=[0,e],o=[0,0],a=[0,0],p=[2277735313,289559509],m=[1291169091,658871167],g=0;g<n;g+=16)o=[255&t.charCodeAt(g+4)|(255&t.charCodeAt(g+5))<<8|(255&t.charCodeAt(g+6))<<16|(255&t.charCodeAt(g+7))<<24,255&t.charCodeAt(g)|(255&t.charCodeAt(g+1))<<8|(255&t.charCodeAt(g+2))<<16|(255&t.charCodeAt(g+3))<<24],a=[255&t.charCodeAt(g+12)|(255&t.charCodeAt(g+13))<<8|(255&t.charCodeAt(g+14))<<16|(255&t.charCodeAt(g+15))<<24,255&t.charCodeAt(g+8)|(255&t.charCodeAt(g+9))<<8|(255&t.charCodeAt(g+10))<<16|(255&t.charCodeAt(g+11))<<24],o=l(o=c(o,p),31),i=u(i=l(i=d(i,o=c(o,m)),27),s),i=u(c(i,[0,5]),[0,1390208809]),a=l(a=c(a,m),33),s=u(s=l(s=d(s,a=c(a,p)),31),i),s=u(c(s,[0,5]),[0,944331445]);switch(o=[0,0],a=[0,0],r){case 15:a=d(a,h([0,t.charCodeAt(g+14)],48));case 14:a=d(a,h([0,t.charCodeAt(g+13)],40));case 13:a=d(a,h([0,t.charCodeAt(g+12)],32));case 12:a=d(a,h([0,t.charCodeAt(g+11)],24));case 11:a=d(a,h([0,t.charCodeAt(g+10)],16));case 10:a=d(a,h([0,t.charCodeAt(g+9)],8));case 9:a=c(a=d(a,[0,t.charCodeAt(g+8)]),m),s=d(s,a=c(a=l(a,33),p));case 8:o=d(o,h([0,t.charCodeAt(g+7)],56));case 7:o=d(o,h([0,t.charCodeAt(g+6)],48));case 6:o=d(o,h([0,t.charCodeAt(g+5)],40));case 5:o=d(o,h([0,t.charCodeAt(g+4)],32));case 4:o=d(o,h([0,t.charCodeAt(g+3)],24));case 3:o=d(o,h([0,t.charCodeAt(g+2)],16));case 2:o=d(o,h([0,t.charCodeAt(g+1)],8));case 1:o=c(o=d(o,[0,t.charCodeAt(g)]),p),i=d(i,o=c(o=l(o,31),m))}return i=u(i=d(i,[0,t.length]),s=d(s,[0,t.length])),s=u(s,i),i=u(i=f(i),s=f(s)),s=u(s,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)},void 0!==r?(void 0!==e&&e.exports&&(r=e.exports=i),r.murmurHash3=i):"function"==typeof define&&define.amd?define([],(function(){return i})):(i._murmurHash3=t.murmurHash3,i.noConflict=function(){return t.murmurHash3=i._murmurHash3,i._murmurHash3=n,i.noConflict=n,i},t.murmurHash3=i)}(this)}}},{package:"murmurhash3js",file:"/home/circleci/project/node_modules/murmurhash3js/lib/murmurHash3js.js"}],[2110,{"./blake2b":2108,"./blake2s":2109},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./blake2b"),i=t("./blake2s");e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}}}},{package:"blakejs",file:"/home/circleci/project/node_modules/blakejs/index.js"}],[5372,{_process:5498,"is-promise":4779,promise:5501,timers:6013},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r,n){(function(){var i,s=t("promise"),o=t("is-promise");function a(t,e){return"function"!=typeof e?t:t.then((function(t){i((function(){e(null,t)}))}),(function(t){i((function(){e(t)}))}))}function u(t){return a(this,t)}function c(t){if(t&&o(t)){t.nodeify=u;var e=t.then;return t.then=function(){return c(e.apply(this,arguments))},t}"function"==typeof t?t.prototype.nodeify=u:s.prototype.nodeify=u}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),c(this)}i="function"==typeof n?n:"object"==typeof r&&r&&r.nextTick?r.nextTick:function(t){setTimeout(t,0)},e.exports=a,a.extend=c,a.Promise=l,l.prototype=Object.create(s.prototype),l.prototype.constructor=l}).call(this)}).call(this,t("_process"),t("timers").setImmediate)}}},{package:"nodeify",file:"/home/circleci/project/node_modules/nodeify/index.js"}],[5348,{"./forge":5347,"./md":5350,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./md"),t("./util"),(e.exports=n.hmac=n.hmac||{}).create=function(){var t=null,e=null,r=null,i=null,s={start:function(s,o){if(null!==s)if("string"==typeof s){if(!((s=s.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+s+'"');e=n.md.algorithms[s].create()}else e=s;if(null===o)o=t;else{if("string"==typeof o)o=n.util.createBuffer(o);else if(n.util.isArray(o)){var a=o;o=n.util.createBuffer();for(var u=0;u<a.length;++u)o.putByte(a[u])}var c=o.length();c>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),c=o.length();for(u=0;u<c;++u){a=o.at(u);r.putByte(54^a),i.putByte(92^a)}if(c<e.blockLength)for(a=e.blockLength-c,u=0;u<a;++u)r.putByte(54),i.putByte(92);t=o,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},update:function(t){e.update(t)},getMac:function(){var t=e.digest().bytes();return e.start(),e.update(i),e.update(t),e.digest()}};return s.digest=s.getMac,s}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/hmac.js"}],[5343,{buffer:2156},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){var r={};e.exports=r;var n={};r.encode=function(t,e,r){if("string"!=typeof e)throw new TypeError('"alphabet" must be a string.');if(r!==undefined&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(t instanceof Uint8Array){var i=0,s=e.length,o=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%s,c=c/s|0;for(;c>0;)a.push(c%s),c=c/s|0}for(i=0;0===t[i]&&i<t.length-1;++i)n+=o;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}else n=function(t,e){var r=0,n=e.length,i=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var o=0,a=t.at(r);o<s.length;++o)a+=s[o]<<8,s[o]=a%n,a=a/n|0;for(;a>0;)s.push(a%n),a=a/n|0}var u="";for(r=0;0===t.at(r)&&r<t.length()-1;++r)u+=i;for(r=s.length-1;r>=0;--r)u+=e[s[r]];return u}(t,e);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},r.decode=function(e,r){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var s=0;s<r.length;++s)i[r.charCodeAt(s)]=s}e=e.replace(/\s/g,"");var o=r.length,a=r.charAt(0),u=[0];for(s=0;s<e.length;s++){var c=i[e.charCodeAt(s)];if(c===undefined)return;for(var l=0,h=c;l<u.length;++l)h+=u[l]*o,u[l]=255&h,h>>=8;for(;h>0;)u.push(255&h),h>>=8}for(var d=0;e[d]===a&&d<e.length-1;++d)u.push(0);return void 0!==t?t.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/baseN.js"}],[5561,{"./collect":5557,"./concat":5558,"./drain":5559,"./find":5560,"./log":5562,"./on-end":5563,"./reduce":5564},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={drain:t("./drain"),onEnd:t("./on-end"),log:t("./log"),find:t("./find"),reduce:t("./reduce"),collect:t("./collect"),concat:t("./concat")}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sinks/index.js"}],[5568,{"./count":5565,"./empty":5566,"./error":5567,"./infinite":5569,"./keys":5570,"./once":5571,"./values":5572},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={keys:t("./keys"),once:t("./once"),values:t("./values"),count:t("./count"),infinite:t("./infinite"),empty:t("./empty"),error:t("./error")}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sources/index.js"}],[5577,{"./async-map":5573,"./filter":5575,"./filter-not":5574,"./flatten":5576,"./map":5578,"./non-unique":5579,"./take":5580,"./through":5581,"./unique":5582},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={map:t("./map"),asyncMap:t("./async-map"),filter:t("./filter"),filterNot:t("./filter-not"),through:t("./through"),take:t("./take"),unique:t("./unique"),nonUnique:t("./non-unique"),flatten:t("./flatten")}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/index.js"}],[4616,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports="message Data {\n  enum DataType {\n    Raw = 0;\n    Directory = 1;\n    File = 2;\n    Metadata = 3;\n    Symlink = 4;\n    HAMTShard = 5;\n  }\n\n  required DataType Type = 1;\n  optional bytes Data = 2;\n  optional uint64 filesize = 3;\n  repeated uint64 blocksizes = 4;\n\n  optional uint64 hashType = 5;\n  optional uint64 fanout = 6;\n}\n\nmessage Metadata {\n  optional string MimeType = 1;\n}"}}},{package:"ipfs-unixfs",file:"/home/circleci/project/node_modules/ipfs-unixfs/src/unixfs.proto.js"}],[1819,{"./breakLoop":1818,"lodash/noop":5253},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return function(r,s,o,a){a=a||n.default;var u,c=!1;r(s,(function(r,n,s){o(r,(function(n,o){n?s(n):t(o)&&!u?(c=!0,u=e(!0,r),s(null,i.default)):s()}))}),(function(t){t?a(t):a(null,c?u:e(!1))}))}};var n=s(t("lodash/noop")),i=s(t("./breakLoop"));function s(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/internal/createTester.js"}],[1830,{},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return!t},e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/internal/notId.js"}],[4388,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t){if(t){if("function"==typeof t[Symbol.iterator])return t[Symbol.iterator]();if("function"==typeof t[Symbol.asyncIterator])return t[Symbol.asyncIterator]();if("function"==typeof t.next)return t}throw new Error("argument is not an iterator or iterable")}}}},{package:"get-iterator",file:"/home/circleci/project/node_modules/get-iterator/index.js"}],[1841,{"./internal/doParallelLimit":1822,"./internal/map":1829},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0});var n=s(t("./internal/doParallelLimit")),i=s(t("./internal/map"));function s(t){return t&&t.__esModule?t:{default:t}}r.default=(0,n.default)(i.default),e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/mapLimit.js"}],[4488,{"err-code":2431},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("err-code");e.exports.dbOpenFailedError=t=>(t=t||new Error("Cannot open database"),n(t,"ERR_DB_OPEN_FAILED")),e.exports.dbDeleteFailedError=t=>(t=t||new Error("Delete failed"),n(t,"ERR_DB_DELETE_FAILED")),e.exports.dbWriteFailedError=t=>(t=t||new Error("Write failed"),n(t,"ERR_DB_WRITE_FAILED")),e.exports.notFoundError=t=>(t=t||new Error("Not Found"),n(t,"ERR_NOT_FOUND"))}}},{package:"interface-datastore",file:"/home/circleci/project/node_modules/interface-datastore/src/errors.js"}],[4491,{"./errors":4488,"./key":4490,"./utils":4492,"async/setImmediate":1849,"pull-stream":5555},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("pull-stream"),i=t("async/setImmediate"),s=t("./utils").asyncFilter,o=t("./utils").asyncSort,a=t("./key"),u=t("./errors");e.exports=class{constructor(){this.data={}}open(t){i(t)}put(t,e,r){this.data[t.toString()]=e,i(r)}get(t,e){this.has(t,((r,n)=>r?e(r):n?void e(null,this.data[t.toString()]):e(u.notFoundError())))}has(t,e){i((()=>{e(null,this.data[t.toString()]!==undefined)}))}delete(t,e){delete this.data[t.toString()],i((()=>{e()}))}batch(){let t=[],e=[];return{put(e,r){t.push([e,r])},delete(t){e.push(t)},commit:r=>{t.forEach((t=>{this.data[t[0].toString()]=t[1]})),t=[],e.forEach((t=>{delete this.data[t.toString()]})),e=[],i(r)}}}query(t){let e=[n.keys(this.data),n.map((t=>({key:new a(t),value:this.data[t]})))],r=[];if(null!=t.prefix){const e=t.prefix;r.push(((t,r)=>r(null,t.key.toString().startsWith(e))))}if(null!=t.filters&&(r=r.concat(t.filters)),e=e.concat(r.map((t=>s(t)))),null!=t.orders&&(e=e.concat(t.orders.map((t=>o(t))))),null!=t.offset){let r=0;e.push(n.filter((()=>r++>=t.offset)))}return null!=t.limit&&e.push(n.take(t.limit)),!0===t.keysOnly&&e.push(n.map((t=>({key:t.key})))),n.apply(null,e)}close(t){i(t)}}}}},{package:"interface-datastore",file:"/home/circleci/project/node_modules/interface-datastore/src/memory.js"}],[4492,{os:5441,path:5474,"pull-defer/source":5532,"pull-stream":5555,"uuid/v4":4487},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("pull-stream"),i=t("pull-defer/source"),s=t("path"),o=t("os"),a=t("uuid/v4");r.asyncFilter=function(t){let e,r,n=!1;return function(i){return function s(o,a){if(r)return a(r);o?(r=o,i(o,n?()=>{n?e=a:a(o)}:a)):i(null,((i,o)=>{i?a(i):r?a(r):(n=!0,t(o,((t,i)=>{n=!1,r?(a(r),e(r)):t?s(t,a):i?a(null,o):s(null,a)})))}))}}},r.asyncSort=function(t){const e=i(),r=n.collect(((r,i)=>{if(r)return e.abort(r);t(i,((t,r)=>{if(t)return e.abort(t);e.resolve(n.values(i))}))}));return function(t){return r(t),e}},r.replaceStartWith=function(t,e){const r=new RegExp("^"+e);return t.replace(r,"")},r.tmpdir=()=>s.join(o.tmpdir(),a())}}},{package:"interface-datastore",file:"/home/circleci/project/node_modules/interface-datastore/src/utils.js"}],[4490,{buffer:2157,"class-is":2197,"uuid/v4":4487},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("uuid/v4"),i=t("class-is"),s="/",o=r.from(s),a=o[0];class u{constructor(t,e){if("string"==typeof t?this._buf=r.from(t):r.isBuffer(t)&&(this._buf=t),null==e&&(e=!0),e&&this.clean(),0===this._buf.length||this._buf[0]!==a)throw new Error(`Invalid key: ${this.toString()}`)}toString(t){return this._buf.toString(t||"utf8")}toBuffer(){return this._buf}get[Symbol.toStringTag](){return`[Key ${this.toString()}]`}static withNamespaces(t){return new c(t.join(s))}static random(){return new c(n().replace(/-/g,""))}clean(){for(this._buf&&0!==this._buf.length||(this._buf=r.from(s)),this._buf[0]!==a&&(this._buf=r.concat([o,this._buf]));this._buf.length>1&&this._buf[this._buf.length-1]===a;)this._buf=this._buf.slice(0,-1)}less(t){const e=this.list(),r=t.list();for(let t=0;t<e.length;t++){if(r.length<t+1)return!1;const n=e[t],i=r[t];if(n<i)return!0;if(n>i)return!1}return e.length<r.length}reverse(){return u.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const t=this.namespaces();return t[t.length-1]}list(){return this.toString().split(s).slice(1)}type(){return function(t){const e=t.split(":");if(e.length<2)return"";return e.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(t){const e=t.split(":");return e[e.length-1]}(this.baseNamespace())}instance(t){return new c(this.toString()+":"+t)}path(){let t=this.parent().toString();return t.endsWith(s)||(t+=s),t+=this.type(),new c(t)}parent(){const t=this.list();return 1===t.length?new c(s):new c(t.slice(0,-1).join(s))}child(t){return this.toString()===s?t:t.toString()===s?this:new c(this.toString()+t.toString(),!1)}isAncestorOf(t){return t.toString()!==this.toString()&&t.toString().startsWith(this.toString())}isDecendantOf(t){return t.toString()!==this.toString()&&this.toString().startsWith(t.toString())}isTopLevel(){return 1===this.list().length}}const c=i(u,{className:"Key",symbolName:"@ipfs/interface-datastore/key"});e.exports=c}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"interface-datastore",file:"/home/circleci/project/node_modules/interface-datastore/src/key.js"}],[1825,{},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return e},e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/internal/findGetResult.js"}],[1822,{"./eachOfLimit":1823,"./wrapAsync":1839},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return function(e,r,s,o){return t((0,n.default)(r),e,(0,i.default)(s),o)}};var n=s(t("./eachOfLimit")),i=s(t("./wrapAsync"));function s(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/internal/doParallelLimit.js"}],[4702,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports='\n  syntax = "proto2";\n\n  package ipfs.pin;\n\n  option go_package = "pb";\n\n  message Set {\n    optional uint32 version = 1;\n    optional uint32 fanout = 2;\n    optional fixed32 seed = 3;\n  }\n'}}},{package:"ipfs",file:"/home/circleci/project/node_modules/ipfs/src/core/components/pin.proto.js"}],[4378,{},function(){with(this)return function(){"use strict";return function(t,e,r){function n(t){for(var e=n.BASE,r=0,i=t.length;r<i;r++)e^=t.charCodeAt(r),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}n.BASE=2166136261,e.exports=n}}},{package:"fnv1a",file:"/home/circleci/project/node_modules/fnv1a/index.js"}],[1852,{"./internal/doLimit":1820,"./someLimit":1851},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0});var n=s(t("./someLimit")),i=s(t("./internal/doLimit"));function s(t){return t&&t.__esModule?t:{default:t}}r.default=(0,i.default)(n.default,1),e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/someSeries.js"}],[4724,{buffer:2157,"class-is":2197,"datastore-pubsub":2324,debug:2329,"err-code":2431,ipns:4760,multihashes:5312},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("ipns"),{fromB58String:i,toB58String:s}=t("multihashes"),o=t("datastore-pubsub"),a=t("class-is"),u=t("err-code"),c=t("debug"),l=c("ipfs:ipns:pubsub");l.error=c("ipfs:ipns:pubsub:error");e.exports=a(class{constructor(t,e,r){this._pubsub=t,this._subscriptions={},this._handleSubscriptionKey=this._handleSubscriptionKey.bind(this),this._pubsubDs=new o(t,e,r,n.validator,this._handleSubscriptionKey)}put(t,e,r){this._pubsubDs.put(t,e,r)}get(t,e){this._pubsubDs.get(t,((r,i)=>{if(t.slice(0,n.namespaceLength).toString()===n.namespace){const e=t.toString(),r=s(t.slice(n.namespaceLength));this._subscriptions[e]=r,l(`subscribed pubsub ${e}: ${r}`)}if(r)return e(r);e(null,i)}))}_handleSubscriptionKey(t,e){const r=this._subscriptions[t];if(!r){const r=`key ${t} does not correspond to a subscription`;return l.error(r),e(u(new Error(r),"ERR_INVALID_KEY"))}let s;try{s=n.getIdKeys(i(r))}catch(t){return l.error(t),e(t)}e(null,s.routingKey.toBuffer())}getSubscriptions(t){return t(null,Object.values(this._subscriptions).filter(Boolean).map((t=>`${n.namespace}${t}`)))}cancel(t,e){if("string"!=typeof t){const t="received subscription name is not valid";return l.error(t),e(u(new Error(t),"ERR_INVALID_SUBSCRIPTION_NAME"))}t.startsWith(n.namespace)&&(t=t.substring(n.namespaceLength));const i=Object.keys(this._subscriptions).find((e=>this._subscriptions[e]===t));if(!i)return e(null,{canceled:!1});try{const t=r.from(i);this._pubsubDs.unsubscribe(t)}catch(t){return e(t)}this._subscriptions[i]=undefined,l(`unsubscribed pubsub ${i}: ${t}`),e(null,{canceled:!0})}},{className:"IpnsPubsubDatastore",symbolName:"@js-ipfs/ipns/IpnsPubsubDatastore"})}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ipfs",file:"/home/circleci/project/node_modules/ipfs/src/core/ipns/routing/pubsub-datastore.js"}],[4984,{"./cms":4982,"err-code":2431,"interface-datastore":4489,"libp2p-crypto":4928,"merge-options":5271,"pull-stream/pull":5556,"pull-stream/sinks/collect":5557,"sanitize-filename":5819},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("sanitize-filename"),i=t("merge-options"),s=t("libp2p-crypto"),o=t("interface-datastore"),a=t("pull-stream/sinks/collect"),u=t("pull-stream/pull"),c=t("./cms"),l=t("err-code"),h="/info/",d=14,f=16,p=1e3,m={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function g(t){return!!t&&("string"==typeof t&&t===n(t.trim()))}function y(t,e){const r=800*Math.random()+200;setTimeout(t,r,e,null)}function v(t){return new o.Key("/pkcs8/"+t)}function b(t){return new o.Key(h+t)}e.exports=class{constructor(t,e){if(!t)throw new Error("store is required");this.store=t;const r=i(m,e);if(!r.passPhrase||r.passPhrase.length<20)throw new Error("passPhrase must be least 20 characters");if(r.dek.keyLength<d)throw new Error(`dek.keyLength must be least ${d} bytes`);if(r.dek.salt.length<f)throw new Error(`dek.saltLength must be least ${f} bytes`);if(r.dek.iterationCount<p)throw new Error(`dek.iterationCount must be least ${p}`);const n=s.pbkdf2(r.passPhrase,r.dek.salt,r.dek.iterationCount,r.dek.keyLength,r.dek.hash);Object.defineProperty(this,"_",{value:()=>n})}get cms(){return new c(this)}static generateOptions(){const t=Object.assign({},m),e=3*Math.ceil(f/3);return t.dek.salt=s.randomBytes(e).toString("base64"),t}static get options(){return m}createKey(t,e,r,n){const i=this;if(!g(t)||"self"===t)return y(n,l(new Error(`Invalid key name '${t}'`),"ERR_INVALID_KEY_NAME"));if("string"!=typeof e)return y(n,l(new Error(`Invalid key type '${e}'`),"ERR_INVALID_KEY_TYPE"));if(!Number.isSafeInteger(r))return y(n,l(new Error(`Invalid key size '${r}'`),"ERR_INVALID_KEY_SIZE"));const o=v(t);i.store.has(o,((a,u)=>{if(a)return y(n,a);if(u)return y(n,l(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS"));if("rsa"===e.toLowerCase())if(r<2048)return y(n,l(new Error(`Invalid RSA key size ${r}`),"ERR_INVALID_KEY_SIZE"));s.keys.generateKeyPair(e,r,((e,r)=>{if(e)return y(n,e);r.id(((e,s)=>{if(e)return y(n,e);r.export(this._(),((e,r)=>{if(e)return y(n,e);const a={name:t,id:s},u=i.store.batch();u.put(o,r),u.put(b(t),JSON.stringify(a)),u.commit((t=>{if(t)return y(n,t);n(null,a)}))}))}))}))}))}listKeys(t){const e={prefix:h};u(this.store.query(e),a(((e,r)=>{if(e)return y(t,e);const n=r.map((t=>JSON.parse(t.value)));t(null,n)})))}findKeyById(t,e){this.listKeys(((r,n)=>{if(r)return y(e,r);const i=n.find((e=>e.id===t));e(null,i)}))}findKeyByName(t,e){if(!g(t))return y(e,l(new Error(`Invalid key name '${t}'`),"ERR_INVALID_KEY_NAME"));const r=b(t);this.store.get(r,((r,n)=>{if(r)return y(e,l(new Error(`Key '${t}' does not exist. ${r.message}`),"ERR_KEY_NOT_FOUND"));e(null,JSON.parse(n.toString()))}))}removeKey(t,e){const r=this;if(!g(t)||"self"===t)return y(e,l(new Error(`Invalid key name '${t}'`),"ERR_INVALID_KEY_NAME"));const n=v(t);r.findKeyByName(t,((i,s)=>{if(i)return y(e,i);const o=r.store.batch();o.delete(n),o.delete(b(t)),o.commit((t=>{if(t)return y(e,t);e(null,s)}))}))}renameKey(t,e,r){const n=this;if(!g(t)||"self"===t)return y(r,l(new Error(`Invalid old key name '${t}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!g(e)||"self"===e)return y(r,l(new Error(`Invalid new key name '${e}'`),"ERR_NEW_KEY_NAME_INVALID"));const i=v(t),s=v(e),o=b(t),a=b(e);this.store.get(i,((u,c)=>{if(u)return y(r,l(new Error(`Key '${t}' does not exist. ${u.message}`),"ERR_KEY_NOT_FOUND"));const h=c.toString();n.store.has(s,((t,u)=>t?y(r,t):u?y(r,l(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS")):void n.store.get(o,((t,u)=>{if(t)return y(r,t);const c=JSON.parse(u.toString());c.name=e;const l=n.store.batch();l.put(s,h),l.put(a,JSON.stringify(c)),l.delete(i),l.delete(o),l.commit((t=>{if(t)return y(r,t);r(null,c)}))}))))}))}exportKey(t,e,r){if(!g(t))return y(r,l(new Error(`Invalid key name '${t}'`),"ERR_INVALID_KEY_NAME"));if(!e)return y(r,l(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));const n=v(t);this.store.get(n,((n,i)=>{if(n)return y(r,l(new Error(`Key '${t}' does not exist. ${n.message}`),"ERR_KEY_NOT_FOUND"));const o=i.toString();s.keys.__import__(o,this._(),((t,n)=>{if(t)return y(r,t);n.export(e,r)}))}))}importKey(t,e,r,n){const i=this;if(!g(t)||"self"===t)return y(n,l(new Error(`Invalid key name '${t}'`),"ERR_INVALID_KEY_NAME"));if(!e)return y(n,"PEM encoded key is required");const o=v(t);i.store.has(o,((a,u)=>a?y(n,a):u?y(n,l(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS")):void s.keys.__import__(e,r,((e,r)=>{if(e)return y(n,l(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"));r.id(((e,s)=>{if(e)return y(n,e);r.export(this._(),((e,r)=>{if(e)return y(n,e);const a={name:t,id:s},u=i.store.batch();u.put(o,r),u.put(b(t),JSON.stringify(a)),u.commit((t=>{if(t)return y(n,t);n(null,a)}))}))}))}))))}importPeer(t,e,r){const n=this;if(!g(t))return y(r,l(new Error(`Invalid key name '${t}'`),"ERR_INVALID_KEY_NAME"));if(!e||!e.privKey)return y(r,l(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));const i=e.privKey,s=v(t);n.store.has(s,((e,o)=>e?y(r,e):o?y(r,l(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS")):void i.id(((e,o)=>{if(e)return y(r,e);i.export(this._(),((e,i)=>{if(e)return y(r,e);const a={name:t,id:o},u=n.store.batch();u.put(s,i),u.put(b(t),JSON.stringify(a)),u.commit((t=>{if(t)return y(r,t);r(null,a)}))}))}))))}_getPrivateKey(t,e){if(!g(t))return y(e,l(new Error(`Invalid key name '${t}'`),"ERR_INVALID_KEY_NAME"));this.store.get(v(t),((r,n)=>{if(r)return y(e,l(new Error(`Key '${t}' does not exist. ${r.message}`),"ERR_KEY_NOT_FOUND"));e(null,n.toString())}))}}}}},{package:"libp2p-keychain",file:"/home/circleci/project/node_modules/libp2p-keychain/src/keychain.js"}],[4721,{debug:2329,"err-code":2431,ipns:4760,"libp2p-crypto":4928,"peer-id":5488},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("ipns"),i=t("libp2p-crypto"),s=t("peer-id"),o=t("err-code"),a=t("debug"),u=a("ipfs:ipns:resolver");u.error=a("ipfs:ipns:resolver:error");e.exports=class{constructor(t){this._routing=t}resolve(t,e,r){if("function"==typeof e&&(r=e,e={}),"string"!=typeof t){const t="one or more of the provided parameters are not valid";return u.error(t),r(o(new Error(t),"ERR_INVALID_PARAMETER"))}const n=(e=e||{}).recursive&&"true"===e.recursive.toString(),i=t.split("/");if(3!==i.length||""!==i[0]){const e=`invalid name syntax for ${t}`;return u.error(e),r(o(new Error(e),"ERR_INVALID_NAME_SYNTAX"))}const s=i[2];let a;n&&(a=32),this.resolver(s,a,((e,n)=>{if(e)return r(e);u(`${t} was locally resolved correctly`),r(null,n)}))}resolver(t,e,r){if(0===e){const t="could not resolve name (recursion limit of 32 exceeded)";return u.error(t),r(o(new Error(t),"ERR_RESOLVE_RECURSION_LIMIT"))}this._resolveName(t,((t,n)=>{if(t)return r(t);const i=n.split("/");if("ipfs"===i[1]||!e)return r(null,n);this.resolver(i[2],e-1,r)}))}_resolveName(t,e){let r;try{r=s.createFromB58String(t)}catch(t){return e(t)}const{routingKey:a,routingPubKey:c}=n.getIdKeys(r.toBytes());this._routing.get(a.toBuffer(),((s,l)=>{if(s){if("ERR_NOT_FOUND"!==s.code){const t=`unexpected error getting the ipns record ${r.id}`;return u.error(t),e(o(new Error(t),"ERR_UNEXPECTED_ERROR_GETTING_RECORD"))}const n=`record requested was not found for ${t} (${a}) in the network`;return u.error(n),e(o(new Error(n),"ERR_NO_RECORD_FOUND"))}let h;try{h=n.unmarshal(l)}catch(s){const t="found ipns record that we couldn't convert to a value";return u.error(t),e(o(new Error(t),"ERR_INVALID_RECORD_RECEIVED"))}if(h.pubKey)return this._validateRecord(r,h,e);this._routing.get(a.toBuffer(),((n,s)=>{if(n){if("ERR_NOT_FOUND"!==n.code){const t=`unexpected error getting the public key for the ipns record ${r.id}`;return u.error(t),e(o(new Error(t),"ERR_UNEXPECTED_ERROR_GETTING_PUB_KEY"))}const i=`public key requested was not found for ${t} (${c}) in the network`;return u.error(i),e(o(new Error(i),"ERR_NO_RECORD_FOUND"))}try{r.pubKey=i.keys.unmarshalPublicKey(s)}catch(n){const t="found public key record that we couldn't convert to a value";return u.error(t),e(o(new Error(t),"ERR_INVALID_PUB_KEY_RECEIVED"))}this._validateRecord(r,h,e)}))}))}_validateRecord(t,e,r){n.extractPublicKey(t,e,((t,i)=>{if(t)return r(t);n.validate(i,e,(t=>{if(t)return r(t);r(null,e.value.toString())}))}))}}}}},{package:"ipfs",file:"/home/circleci/project/node_modules/ipfs/src/core/ipns/resolver.js"}],[5797,{ms:5282},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=o;var n=t("ms"),i=o.prototype,s=new Date%1e9;function o(t){t=t||{},this.id=t.id||(1e9*Math.random()>>>0)+s++,this.max=t.max||Infinity,this.items=t.items||[],this._lookup={},this.size=this.items.length,this.lastModified=new Date(t.lastModified||new Date);for(var e,r,n=this.items.length;n--;)e=this.items[n],r=new Date(e.expires)-new Date,this._lookup[e.key]=e,r>0?this.expire(e.key,r):r<=0&&this.delete(e.key)}i.has=function(t){return t in this._lookup},i.get=function(t){if(!this.has(t))return null;var e=this._lookup[t];return e.refresh&&this.expire(t,e.refresh),this.items.splice(this.items.indexOf(e),1),this.items.push(e),e.value},i.meta=function(t){if(!this.has(t))return null;var e=this._lookup[t];return"meta"in e?e.meta:null},i.set=function(t,e,r){var n=this._lookup[t],i=this._lookup[t]={key:t,value:e};return this.lastModified=new Date,n?(clearTimeout(n.timeout),this.items.splice(this.items.indexOf(n),1,i)):(this.size>=this.max&&this.delete(this.items[0].key),this.items.push(i),this.size++),r&&("ttl"in r&&this.expire(t,r.ttl),"meta"in r&&(i.meta=r.meta),r.refresh&&(i.refresh=r.ttl)),this},i.delete=function(t){var e=this._lookup[t];return!!e&&(this.lastModified=new Date,this.items.splice(this.items.indexOf(e),1),clearTimeout(e.timeout),delete this._lookup[t],this.size--,this)},i.expire=function(t,e){var r=e||0,i=this._lookup[t];if(!i)return this;if("string"==typeof r&&(r=n(e)),"number"!=typeof r)throw new TypeError("Expiration time must be a string or number.");return clearTimeout(i.timeout),i.timeout=setTimeout(this.delete.bind(this,i.key),r),i.expires=Number(new Date)+r,this},i.clear=function(){for(var t=this.items.length;t--;)this.delete(this.items[t].key);return this},i.toJSON=function(){for(var t,e=new Array(this.items.length),r=e.length;r--;)t=this.items[r],e[r]={key:t.key,meta:t.meta,value:t.value,expires:t.expires,refresh:t.refresh};return{id:this.id,max:isFinite(this.max)?this.max:undefined,lastModified:this.lastModified,items:e}}}}},{package:"receptacle",file:"/home/circleci/project/node_modules/receptacle/index.js"}],[4719,{"async/series":1848,debug:2329,"err-code":2431,"interface-datastore":4489,ipns:4760,"peer-id":5488},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("peer-id"),{Key:i}=t("interface-datastore"),s=t("async/series"),o=t("err-code"),a=t("debug"),u=a("ipfs:ipns:publisher");u.error=a("ipfs:ipns:publisher:error");const c=t("ipns");e.exports=class{constructor(t,e){this._routing=t,this._datastore=e}publishWithEOL(t,e,r,i){if(!t||!t.bytes){const t="one or more of the provided parameters are not defined";return u.error(t),i(o(new Error(t),"ERR_UNDEFINED_PARAMETER"))}n.createFromPrivKey(t.bytes,((n,s)=>{if(n)return i(n);this._updateOrCreateRecord(t,e,r,s,((t,e)=>{if(t)return i(t);this._putRecordToRouting(e,s,i)}))}))}publish(t,e,r){this.publishWithEOL(t,e,36e5,r)}_putRecordToRouting(t,e,r){if(!n.isPeerId(e)){const t="peerId received is not valid";return u.error(t),r(o(new Error(t),"ERR_INVALID_PEER_ID"))}const i=e._pubKey;c.embedPublicKey(i,t,((n,o)=>{if(n)return r(n);let a;try{a=c.getIdKeys(e.toBytes())}catch(n){return u.error(n),r(n)}s([r=>this._publishEntry(a.routingKey,o||t,e,r),t=>this._publishPublicKey(a.routingPubKey,i,e,t)],(e=>{if(e)return u.error(e),r(e);r(null,o||t)}))}))}_publishEntry(t,e,r,n){if(!i.isKey(t)){const t="datastore key does not have a valid format";return u.error(t),n(o(new Error(t),"ERR_INVALID_DATASTORE_KEY"))}let s;try{s=c.marshal(e)}catch(t){return u.error(t),n(t)}this._routing.put(t.toBuffer(),s,((e,r)=>{if(e){const e=`ipns record for ${t.toString()} could not be stored in the routing`;return u.error(e),n(o(new Error(e),"ERR_PUTTING_TO_ROUTING"))}u(`ipns record for ${t.toString()} was stored in the routing`),n(null,r)}))}_publishPublicKey(t,e,r,n){if(!i.isKey(t)){const t="datastore key does not have a valid format";return u.error(t),n(o(new Error(t),"ERR_INVALID_DATASTORE_KEY"))}if(!e||!e.bytes){const t="one or more of the provided parameters are not defined";return u.error(t),n(o(new Error(t),"ERR_UNDEFINED_PARAMETER"))}this._routing.put(t.toBuffer(),e.bytes,((e,r)=>{if(e){const e=`public key for ${t.toString()} could not be stored in the routing`;return u.error(e),n(o(new Error(e),"ERR_PUTTING_TO_ROUTING"))}u(`public key for ${t.toString()} was stored in the routing`),n(null,r)}))}_getPublished(t,e,r){if(!n.isPeerId(t)){const t="peerId received is not valid";return u.error(t),r(o(new Error(t),"ERR_INVALID_PEER_ID"))}const i=!1!==(e=e||{}).checkRouting;this._datastore.get(c.getLocalKey(t.id),((e,n)=>{if(e){if("ERR_NOT_FOUND"!==e.code){const e=`unexpected error getting the ipns record ${t.id} from datastore`;return u.error(e),r(o(new Error(e),"ERR_UNEXPECTED_DATASTORE_RESPONSE"))}if(!i)return r(o(e));let n;try{n=c.getIdKeys(t.toBytes())}catch(e){return u.error(e),r(e)}this._routing.get(n.routingKey.toBuffer(),((t,e)=>{if(t)return r(t);this._unmarshalData(e,r)}))}else this._unmarshalData(n,r)}))}_unmarshalData(t,e){let r;try{r=c.unmarshal(t)}catch(t){return u.error(t),e(o(t,"ERR_INVALID_RECORD_DATA"))}e(null,r)}_updateOrCreateRecord(t,e,r,i,s){if(!n.isPeerId(i)){const t="peerId received is not valid";return u.error(t),s(o(new Error(t),"ERR_INVALID_PEER_ID"))}this._getPublished(i,{checkRouting:!0},((n,a)=>{if(n&&"ERR_NOT_FOUND"!==n.code){const t=`unexpected error when determining the last published IPNS record for ${i.id}`;return u.error(t),s(o(new Error(t),"ERR_DETERMINING_PUBLISHED_RECORD"))}let l=0;a&&a.sequence!==undefined&&(l=a.value.toString()!==e?a.sequence+1:a.sequence),c.create(t,e,l,r,((t,r)=>{if(t){const t=`ipns record for ${e} could not be created`;return u.error(t),s(o(new Error(t),"ERR_CREATING_IPNS_RECORD"))}const n=c.marshal(r);this._datastore.put(c.getLocalKey(i.id),n,((t,n)=>{if(t){const t=`ipns record for ${e} could not be stored in the datastore`;return u.error(t),s(o(new Error(t),"ERR_STORING_IN_DATASTORE"))}u(`ipns record for ${e} was stored in the datastore`),s(null,r)}))}))}))}}}}},{package:"ipfs",file:"/home/circleci/project/node_modules/ipfs/src/core/ipns/publisher.js"}],[4720,{"../../../../is-buffer/index.js":4764,"async/each":1809,"async/waterfall":1855,debug:2329,"err-code":2431,ipns:4760,"libp2p-crypto":4928,"peer-id":5488},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("ipns"),i=t("libp2p-crypto"),s=t("peer-id"),o=t("err-code"),a=t("debug"),u=t("async/each"),c=t("async/waterfall"),l=a("ipfs:ipns:republisher");l.error=a("ipfs:ipns:republisher:error");e.exports=class{constructor(t,e,r,n,i){this._publisher=t,this._datastore=e,this._peerInfo=r,this._keychain=n,this._options=i,this._republishHandle=null}start(){if(this._republishHandle){const t="already running";throw l.error(t),o(new Error(t),"ERR_REPUBLISH_ALREADY_RUNNING")}const t={_onCancel:null,_timeoutId:null,runPeriodically:(e,r)=>{t._timeoutId=setTimeout((()=>{t._timeoutId=null,e((n=>{if(t._onCancel)return t._onCancel();t.runPeriodically(e,n||r)}))}),r)},cancel:e=>{if(t._timeoutId)return clearTimeout(t._timeoutId),e();t._onCancel=e}},{privKey:e}=this._peerInfo.id,{pass:r}=this._options;t.runPeriodically((t=>{this._republishEntries(e,r,(()=>t(144e5)))}),6e4),this._republishHandle=t}stop(t){const e=this._republishHandle;if(!e){const e="not running";return l.error(e),t(o(new Error(e),"ERR_REPUBLISH_NOT_RUNNING"))}this._republishHandle=null,e.cancel(t)}_republishEntries(t,e,r){this._republishEntry(t,(t=>{if(t){const t="cannot republish entry for the node's private key";l.error(t)}else e?this._keychain.listKeys(((t,n)=>{t?l.error(t):u(n,((t,r)=>{c([r=>this._keychain.exportKey(t.name,e,r),(t,r)=>i.keys.__import__(t,e,r)],((t,e)=>{t?l.error(t):this._republishEntry(e,r)}))}),(t=>{t&&l.error(t),r(null)}))})):r(null)}))}_republishEntry(t,e){if(!t||!t.bytes){const t="one or more of the provided parameters are not defined";return l.error(t),e(o(new Error(t),"ERR_UNDEFINED_PARAMETER"))}c([e=>s.createFromPrivKey(t.bytes,e),(t,e)=>this._getPreviousValue(t,e)],((r,n)=>{if(r)return e("ERR_NO_ENTRY_FOUND"===r.code?null:r);this._publisher.publishWithEOL(t,n,864e5,e)}))}_getPreviousValue(t,e){if(!s.isPeerId(t)){const t="peerId received is not valid";return l.error(t),e(o(new Error(t),"ERR_INVALID_PEER_ID"))}this._datastore.get(n.getLocalKey(t.id),((i,s)=>{if(i&&i.notFound){const r=`no previous entry for record with id: ${t.id}`;return l.error(r),e(o(new Error(r),"ERR_NO_ENTRY_FOUND"))}if(i)return e(i);if(!r.isBuffer(s)){const t="found ipns record that we couldn't process";return l.error(t),e(o(new Error(t),"ERR_INVALID_IPNS_RECORD"))}let a;try{a=n.unmarshal(s)}catch(i){const t="found ipns record that we couldn't convert to a value";return l.error(t),e(o(new Error(t),"ERR_INVALID_IPNS_RECORD"))}e(null,a.value)}))}}}).call(this)}).call(this,{isBuffer:t("../../../../is-buffer/index.js")})}}},{package:"ipfs",file:"/home/circleci/project/node_modules/ipfs/src/core/ipns/republisher.js"}],[4507,{"./constants":4502,"./utils":4515,events:2158},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("events").EventEmitter,i=t("./constants"),s=t("./utils").logger,o=t=>`unwant:${t}`,a=t=>`block:${t}`;e.exports=class extends n{constructor(t){super(),this.setMaxListeners(i.maxListeners),this._log=s(t,"notif"),this._unwantListeners={},this._blockListeners={}}hasBlock(t){const e=`block:${t.cid.buffer.toString()}`;this._log(e),this.emit(e,t)}wantBlock(t,e,r){const n=t.buffer.toString();this._log(`wantBlock:${n}`),this._unwantListeners[n]=()=>{this._log(`manual unwant: ${n}`),this._cleanup(n),r()},this._blockListeners[n]=t=>{this._cleanup(n),e(t)},this.once(o(n),this._unwantListeners[n]),this.once(a(n),this._blockListeners[n])}unwantBlock(t){const e=`unwant:${t.buffer.toString()}`;this._log(e),this.emit(e)}_cleanup(t){this._unwantListeners[t]&&(this.removeListener(o(t),this._unwantListeners[t]),delete this._unwantListeners[t]),this._blockListeners[t]&&(this.removeListener(a(t),this._blockListeners[t]),delete this._blockListeners[t])}}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/notifications.js"}],[4515,{debug:2329},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("debug"),i=(t,e,r)=>{let n=0;const i=r.length;for(;n<i;){if(t(e,r[n]))return!0;n+=1}return!1};e.exports={logger:(t,e)=>{const r=["bitswap"];e&&r.push(e),t&&r.push(`${t.toB58String().slice(0,8)}`);const i=n(r.join(":"));return i.error=n(r.concat(["error"]).join(":")),i},includesWith:i,uniqWith:(t,e)=>{let r=0;const n=e.length,s=[];let o;for(;r<n;)o=e[r],i(t,o,s)||(s[s.length]=o),r+=1;return s},groupBy:(t,e)=>e.reduce(((e,r)=>{const n=t(r);return e[n]?e[n].push(r):e[n]=[r],e}),{}),pullAllWith:(t,e,r)=>e.filter((e=>!i(t,e,r))),sortBy:(t,e)=>Array.prototype.slice.call(e,0).sort(((e,r)=>{const n=t(e),i=t(r);return n<i?-1:n>i?1:0}))}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/utils.js"}],[4503,{"../types/message":4511,"../types/wantlist":4514,"../utils":4515,"./ledger":4504,"async/each":1809,"async/eachSeries":1814,"async/map":1840,"async/nextTick":1843,"async/waterfall":1855,"just-debounce-it":4829},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("async/each"),i=t("async/eachSeries"),s=t("async/waterfall"),o=t("async/nextTick"),a=t("async/map"),u=t("just-debounce-it"),c=t("../types/message"),l=t("../types/wantlist"),h=t("./ledger"),{logger:d,groupBy:f,pullAllWith:p,uniqWith:m}=t("../utils"),g=524288;e.exports=class{constructor(t,e,r,n){this._log=d(t,"engine"),this.blockstore=e,this.network=r,this._stats=n,this.ledgerMap=new Map,this._running=!1,this._tasks=[],this._outbox=u(this._processTasks.bind(this),100)}_sendBlocks(t,e,r){if(e.reduce(((t,e)=>t+e.data.byteLength),0)<g)return this._sendSafeBlocks(t,e,r);let n=0,s=[],a=e.length;i(e,((e,r)=>{if(a--,s.push(e),n+=e.data.byteLength,n>=g||0===a){n=0;const e=s.slice();s=[],this._sendSafeBlocks(t,e,(t=>{t&&this._log("sendblock error: %s",t.message),r()}))}else o(r)}),r)}_sendSafeBlocks(t,e,r){const n=new c(!1);e.forEach((t=>n.addBlock(t))),this.network.sendMessage(t,n,r)}_processTasks(){if(!this._running||!this._tasks.length)return;const t=this._tasks;this._tasks=[];const e=t.map((t=>t.entry)).map((t=>t.cid)),r=m(((t,e)=>t.equals(e)),e),i=f((t=>t.target.toB58String()),t);s([t=>a(r,((t,e)=>{this.blockstore.get(t,e)}),t),(t,r)=>n(Object.values(i),((r,n)=>{const i=r[0].target,s=e.map((e=>t.find((t=>t.cid.equals(e)))));this._sendBlocks(i,s,(t=>{t?this._log.error("should never happen: ",t):s.forEach((t=>this.messageSent(i,t))),n()}))}),r)],(t=>{this._tasks=[],t&&this._log.error(t)}))}wantlistForPeer(t){const e=t.toB58String();return this.ledgerMap.has(e)?this.ledgerMap.get(e).wantlist.sortedEntries():new Map}ledgerForPeer(t){const e=t.toB58String(),r=this.ledgerMap.get(e);return r?{peer:r.partner.toPrint(),value:r.debtRatio(),sent:r.accounting.bytesSent,recv:r.accounting.bytesRecv,exchanged:r.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map((t=>t.partner))}receivedBlocks(t){t.length&&(this.ledgerMap.forEach((e=>{t.map((t=>e.wantlistContains(t))).filter(Boolean).forEach((t=>{this._tasks.push({entry:t,target:e.partner})}))})),this._outbox())}messageReceived(t,e,r){const n=this._findOrCreate(t);if(e.empty)return o(r);if(e.full&&(n.wantlist=new l),this._processBlocks(e.blocks,n),0===e.wantlist.size)return o(r);let i=[],s=[];e.wantlist.forEach((t=>{t.cancel?(n.cancelWant(t.cid),i.push(t)):(n.wants(t.cid,t.priority),s.push(t))})),this._cancelWants(n,t,i),this._addWants(n,t,s,r)}_cancelWants(t,e,r){const n=e.toB58String();this._tasks=p(((t,e)=>{const r=t.target.toB58String()===n,i=t.entry.cid.equals(e.cid);return r&&i}),this._tasks,r)}_addWants(t,e,r,i){n(r,((t,r)=>{this.blockstore.has(t.cid,((n,i)=>{n?this._log.error("failed existence check"):i&&this._tasks.push({entry:t.entry,target:e}),r()}))}),(()=>{this._outbox(),i()}))}_processBlocks(t,e,r){const n=[];t.forEach(((t,r)=>{this._log("got block (%s bytes)",t.data.length),e.receivedBytes(t.data.length),n.push(t.cid)})),this.receivedBlocks(n)}messageSent(t,e){const r=this._findOrCreate(t);r.sentBytes(e?e.data.length:0),e&&e.cid&&r.wantlist.remove(e.cid)}numBytesSentTo(t){return this._findOrCreate(t).accounting.bytesSent}numBytesReceivedFrom(t){return this._findOrCreate(t).accounting.bytesRecv}peerDisconnected(t){}_findOrCreate(t){const e=t.toB58String();if(this.ledgerMap.has(e))return this.ledgerMap.get(e);const r=new h(t);return this.ledgerMap.set(e,r),this._stats&&this._stats.push(e,"peerCount",1),r}start(t){this._running=!0,o((()=>t()))}stop(t){this._running=!1,o((()=>t()))}}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/decision-engine/index.js"}],[4508,{"./stat":4509,events:2158},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("events"),i=t("./stat"),s={movingAverageIntervals:[6e4,3e5,9e5]};e.exports=class extends n{constructor(t,e){super();const r=Object.assign({},s,e);if("number"!=typeof r.computeThrottleTimeout)throw new Error("need computeThrottleTimeout");if("number"!=typeof r.computeThrottleMaxQueueSize)throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=t,this._options=r,this._enabled=this._options.enabled,this._global=new i(t,r),this._global.on("update",(t=>this.emit("update",t))),this._peers=new Map}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(let t of this._peers)t[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(t){return t.toB58String&&(t=t.toB58String()),this._peers.get(t)}push(t,e,r){if(this._enabled&&(this._global.push(e,r),t)){let n=this._peers.get(t);n||(n=new i(this._initialCounters,this._options),this._peers.set(t,n)),n.push(e,r)}}disconnected(t){const e=t.toB58String(),r=this._peers.get(e);r&&(r.stop(),this._peers.delete(e))}}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/stats/index.js"}],[4516,{"../constants":4502,"../types/message":4511,"../types/wantlist":4514,"../utils":4515,"./msg-queue":4517,"async/nextTick":1843},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("async/nextTick"),i=t("../types/message"),s=t("../types/wantlist"),o=t("../constants"),a=t("./msg-queue"),u=t("../utils").logger;e.exports=class{constructor(t,e,r){this.peers=new Map,this.wantlist=new s(r),this.network=e,this._stats=r,this._peerId=t,this._log=u(t,"want")}_addEntries(t,e,r){const n=t.map(((t,r)=>new i.Entry(t,o.kMaxPriority-r,e)));n.forEach((t=>{t.cancel?r?this.wantlist.removeForce(t.cid):this.wantlist.remove(t.cid):(this._log("adding to wl"),this.wantlist.add(t.cid,t.priority))}));for(let t of this.peers.values())t.addEntries(n)}_startPeerHandler(t){let e=this.peers.get(t.toB58String());if(e)return void e.refcnt++;e=new a(this._peerId,t,this.network);const r=new i(!0);for(let t of this.wantlist.entries())r.addEntry(t[1].cid,t[1].priority);return e.addMessage(r),this.peers.set(t.toB58String(),e),e}_stopPeerHandler(t){const e=this.peers.get(t.toB58String());e&&(e.refcnt--,e.refcnt>0||this.peers.delete(t.toB58String()))}wantBlocks(t){this._addEntries(t,!1)}unwantBlocks(t){this._log("unwant blocks: %s",t.length),this._addEntries(t,!0,!0)}cancelWants(t){this._log("cancel wants: %s",t.length),this._addEntries(t,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(t){this._startPeerHandler(t)}disconnected(t){this._stopPeerHandler(t)}start(t){this.timer=setInterval((()=>{this._log("resend full-wantlist");const t=new i(!0);this.wantlist.forEach((e=>{t.addEntry(e.cid,e.priority)})),this.peers.forEach((e=>e.addMessage(t)))}),6e4),n((()=>t()))}stop(t){this.peers.forEach((t=>this.disconnected(t.peerId))),clearInterval(this.timer),n((()=>t()))}}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/want-manager/index.js"}],[4506,{"./constants":4502,"./types/message":4511,"./utils":4515,"async/each":1809,"async/nextTick":1843,"async/waterfall":1855,"pull-length-prefixed":5537,"pull-stream":5555},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("pull-length-prefixed"),i=t("pull-stream"),s=t("async/waterfall"),o=t("async/each"),a=t("async/nextTick"),u=t("./types/message"),c=t("./constants"),l=t("./utils").logger,h="/ipfs/bitswap/1.0.0",d="/ipfs/bitswap/1.1.0";e.exports=class{constructor(t,e,r,n){this._log=l(t.peerInfo.id,"network"),r=r||{},this.libp2p=t,this.bitswap=e,this.b100Only=r.b100Only||!1,this._stats=n,this._running=!1}start(t){this._running=!0,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this),this.libp2p.handle(h,this._onConnection),this.b100Only||this.libp2p.handle(d,this._onConnection),this.libp2p.on("peer:connect",this._onPeerConnect),this.libp2p.on("peer:disconnect",this._onPeerDisconnect),this.libp2p.peerBook.getAllArray().filter((t=>t.isConnected())).forEach((t=>this._onPeerConnect(t))),a((()=>t()))}stop(t){this._running=!1,this.libp2p.unhandle(h),this.b100Only||this.libp2p.unhandle(d),this.libp2p.removeListener("peer:connect",this._onPeerConnect),this.libp2p.removeListener("peer:disconnect",this._onPeerDisconnect),a((()=>t()))}_onConnection(t,e){this._running&&(this._log("incomming new bitswap connection: %s",t),i(e,n.decode(),i.asyncMap(((t,e)=>u.deserialize(t,e))),i.asyncMap(((t,r)=>{e.getPeerInfo(((e,n)=>{if(e)return r(e);this.bitswap._receiveMessage(n.id,t,r)}))})),i.onEnd((t=>{this._log("ending connection"),t&&this.bitswap._receiveError(t)}))))}_onPeerConnect(t){this._running&&this.bitswap._onPeerConnected(t.id)}_onPeerDisconnect(t){this._running&&this.bitswap._onPeerDisconnected(t.id)}findProviders(t,e,r){this.libp2p.contentRouting.findProviders(t,{maxTimeout:c.providerRequestTimeout,maxNumProviders:e},r)}findAndConnect(t,e){s([e=>this.findProviders(t,c.maxProvidersPerRequest,e),(t,e)=>{this._log("connecting to providers",t.map((t=>t.id.toB58String()))),o(t,((t,e)=>this.connectTo(t,e)))}],e)}provide(t,e){this.libp2p.contentRouting.provide(t,e)}sendMessage(t,e,r){if(!this._running)return r(new Error("network isn't running"));const s=t.toB58String()?t.toB58String():t.id.toB58String();this._log("sendMessage to %s",s,e),this._dialPeer(t,((s,o,a)=>{if(s)return r(s);let u;switch(a){case h:u=e.serializeToBitswap100();break;case d:u=e.serializeToBitswap110();break;default:return r(new Error("Unkown protocol: "+a))}!function(t,e,r){i(i.values([e]),n.encode(),t,i.onEnd(r))}(o,u,(t=>{t&&this._log.error(t)})),r(),this._updateSentStats(t,e.blocks)}))}connectTo(t,e){if(!this._running)return e(new Error("network isn't running"));this.libp2p.dial(t,e)}_dialPeer(t,e){this.libp2p.dialProtocol(t,d,((r,n)=>{r?this.libp2p.dialProtocol(t,h,((t,r)=>{if(t)return e(t);e(null,r,h)})):e(null,n,d)}))}_updateSentStats(t,e){const r=t.toB58String();this._stats&&(e.forEach((t=>this._stats.push(r,"dataSent",t.data.length))),this._stats.push(r,"blocksSent",e.size))}}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/network.js"}],[5003,{"./record":5004,"./selection":5006,"./validator":5010},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={Record:t("./record"),validator:t("./validator"),selection:t("./selection")}}}},{package:"libp2p-record",file:"/home/circleci/project/node_modules/libp2p-record/src/index.js"}],[4760,{"./errors":4759,"./pb/ipns.proto":4761,"./utils":4762,"base32-encode":2027,buffer:2157,debug:2329,"interface-datastore":4489,"libp2p-crypto":4928,multihashes:5312,"peer-id":5488,"timestamp-nano":6014},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("base32-encode"),i=t("timestamp-nano"),{Key:s}=t("interface-datastore"),o=t("libp2p-crypto"),a=t("peer-id"),u=t("multihashes"),c=t("debug"),l=c("jsipns");l.error=c("jsipns:error");const h=t("./pb/ipns.proto"),{parseRFC3339:d}=t("./utils"),f=t("./errors"),p=u.names.id,m="/ipns/",g=(t,e,r,n,i,s)=>{w(t,e,i,n,((t,o)=>{if(t)return l.error("record signature creation failed"),s(Object.assign(new Error("record signature verification failed"),{code:f.ERR_SIGNATURE_CREATION}));const a={value:e,signature:o,validityType:i,validity:n,sequence:r};return l(`ipns entry for ${e} created`),s(null,a)}))},y=(t,e,r)=>{const{value:n,validityType:i,validity:s}=e,o=_(n,i,s);t.verify(o,e.signature,((t,e)=>{if(t||!e)return l.error("record signature verification failed"),r(Object.assign(new Error("record signature verification failed"),{code:f.ERR_SIGNATURE_VERIFICATION}));if(i===h.ValidityType.EOL){let t;try{t=d(s.toString())}catch(t){return l.error("unrecognized validity format (not an rfc3339 format)"),r(Object.assign(new Error("unrecognized validity format (not an rfc3339 format)"),{code:f.ERR_UNRECOGNIZED_FORMAT}))}if(t<Date.now())return l.error("record has expired"),r(Object.assign(new Error("record has expired"),{code:f.ERR_IPNS_EXPIRED_RECORD}))}else if(i)return l.error("unrecognized validity type"),r(Object.assign(new Error("unrecognized validity type"),{code:f.ERR_UNRECOGNIZED_VALIDITY}));return l(`ipns entry for ${n} is valid`),r(null,null)}))},v=(t,e,r)=>{if(!e||!t){const t="one or more of the provided parameters are not defined";return l.error(t),r(Object.assign(new Error(t),{code:f.ERR_UNDEFINED_PARAMETER}))}if(e.pubKey){let t;try{t=o.keys.unmarshalPublicKey(e.pubKey)}catch(t){return l.error(t),r(t)}return r(null,t)}t.pubKey?r(null,t.pubKey):r(Object.assign(new Error("no public key is available"),{code:f.ERR_UNDEFINED_PARAMETER}))},b=t=>n(t,"RFC4648",{padding:!1}),w=(t,e,r,n,i)=>{const s=_(e,r,n);t.sign(s,((t,e)=>t?i(t):i(null,e)))},_=(t,e,n)=>{const i=r.from(t),s=r.from((t=>{if("0"===t.toString())return"EOL";{const e=`unrecognized validity type ${t.toString()}`;throw l.error(e),Object.assign(new Error(e),{code:f.ERR_UNRECOGNIZED_VALIDITY})}})(e)),o=r.from(n);return r.concat([i,o,s])},k=t=>{const e=u.decode(t.id);return e.code!==p?null:o.keys.unmarshalPublicKey(e.digest)},E=h.encode,A=h.decode,S={validate:(t,e,r)=>{const n=A(t),i=e.slice("/ipns/".length);let s;try{s=a.createFromBytes(i)}catch(t){return r(t)}v(s,n,((t,e)=>{if(t)return r(t);y(e,n,(t=>{if(t)return r(t);r(null,!0)}))}))},select:(t,e,r)=>{const n=A(t),i=A(e),s=n.sequence>i.sequence?0:1;if("function"!=typeof r)return s;r(null,s)}};e.exports={create:(t,e,r,n,s)=>{const o=new i(Date.now()+Number(n)).toString(),a=h.ValidityType.EOL;g(t,e,r,o,a,s)},createWithExpiration:(t,e,r,n,i)=>{const s=h.ValidityType.EOL;g(t,e,r,n,s,i)},validate:y,embedPublicKey:(t,e,r)=>{if(!t||!t.bytes||!e){const t="one or more of the provided parameters are not defined";return l.error(t),r(Object.assign(new Error(t),{code:f.ERR_UNDEFINED_PARAMETER}))}a.createFromPubKey(t.bytes,((n,i)=>{if(n)return l.error(n),r(Object.assign(new Error(n),{code:f.ERR_PEER_ID_FROM_PUBLIC_KEY}));let s;try{s=k(i)}catch(n){return l.error(n),r(Object.assign(new Error(n),{code:f.ERR_PUBLIC_KEY_FROM_ID}))}if(s)return r(null,null);try{e.pubKey=o.keys.marshalPublicKey(t)}catch(n){return l.error(n),r(n)}r(null,e)}))},extractPublicKey:v,getLocalKey:t=>new s(`/ipns/${b(t)}`),getIdKeys:t=>{const e=r.from("/pk/"),n=r.from("/ipns/");return{routingPubKey:new s(r.concat([e,t])),pkKey:new s(b(r.concat([e,t]))),routingKey:new s(r.concat([n,t])),ipnsKey:new s(b(r.concat([n,t])))}},marshal:E,unmarshal:A,validator:S,namespace:m,namespaceLength:m.length}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ipns",file:"/home/circleci/project/node_modules/ipns/src/index.js"}],[4889,{"async/nextTick":1843,debug:2329,events:2158,mafmt:5268,multiaddr:5286,"peer-id":5488,"peer-info":5489},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("peer-id"),i=t("peer-info"),s=t("multiaddr"),o=t("mafmt"),a=t("events").EventEmitter,u=t("debug"),c=t("async/nextTick"),l=u("libp2p:bootstrap");l.error=u("libp2p:bootstrap:error");(e.exports=class extends a{constructor(t){super(),this._list=t.list,this._interval=t.interval||1e4,this._timer=null}start(t){if(this._timer)return c((()=>t()));this._timer=setInterval((()=>this._discoverBootstrapPeers()),this._interval),c((()=>{t(),this._discoverBootstrapPeers()}))}_discoverBootstrapPeers(){this._list.forEach((t=>{if(!function(t){try{return o.IPFS.matches(t)}catch(t){return!1}}(t))return l.error("Invalid multiaddr");const e=s(t),r=n.createFromB58String(e.getPeerId());i.create(r,((t,r)=>{if(t)return l.error("Invalid bootstrap peer id",t);r.multiaddrs.add(e),this.emit("peer",r)}))}))}stop(t){c(t),this._timer&&(clearInterval(this._timer),this._timer=null)}}).tag="bootstrap"}}},{package:"libp2p-bootstrap",file:"/home/circleci/project/node_modules/libp2p-bootstrap/src/index.js"}],[5544,{"./codec":5541,"./mplex":5545,"./muxer":5546,debug:2329,"pull-abortable":5527,"pull-stream":5555},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("pull-abortable"),i=t("pull-stream"),s=t("debug"),o=t("./codec"),a=t("./mplex"),u=t("./muxer"),c=s("pull-plex");function l(t,e){const r=new a(!e),s=n();i(t,r,s,t);const o=new u(t,r);return o.once("error",(t=>{c.err("got error",t),s.abort(t)})),o.on("close",(()=>{c("closing muxer"),s.abort()})),o}c.err=s("pull-plex:err"),(r=e.exports=l).pullMplex=a,r.multicodec=o,r.dialer=t=>l(t,!1),r.listener=t=>l(t,!0)}}},{package:"pull-mplex",file:"/home/circleci/project/node_modules/pull-mplex/src/index.js"}],[5059,{"./listener":5060,"class-is":2197,debug:2329,"interface-connection":4484,mafmt:5268,"multiaddr-to-uri":5283,"pull-ws/client":5588},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("pull-ws/client"),i=t("mafmt"),s=t("class-is"),o=t("interface-connection").Connection,a=t("multiaddr-to-uri"),u=t("debug")("libp2p:websockets:dialer"),c=t("./listener");e.exports=s(class{dial(t,e,r){"function"==typeof e&&(r=e,e={}),r=r||function(){};const i=a(t);u("dialing %s",i);const s=n(i,{binary:!0,onConnect:t=>{r(t)}}),c=new o(s);return c.getObservedAddrs=e=>e(null,[t]),c.close=t=>s.close(t),c}createListener(t,e){return"function"==typeof t&&(e=t,t={}),c(t,e)}filter(t){return Array.isArray(t)||(t=[t]),t.filter((t=>!t.protoNames().includes("p2p-circuit")&&(t.protoNames().includes("ipfs")&&(t=t.decapsulate("ipfs")),i.WebSockets.matches(t)||i.WebSocketsSecure.matches(t))))}},{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})}}},{package:"libp2p-websockets",file:"/home/circleci/project/node_modules/libp2p-websockets/src/index.js"}],[4956,{"./constants":4955,"./message":4959,"./network":4960,"./private":4964,"./providers":4965,"./query":4967,"./query-manager":4966,"./random-walk":4971,"./routing":4972,"./utils":4981,assert:1776,"async/each":1809,"async/filter":1816,"async/timeout":1853,"async/waterfall":1855,"err-code":2431,events:2158,"interface-datastore":4489,"libp2p-crypto":4928,"libp2p-record":5003,"peer-id":5488,"peer-info":5489,"promise-to-callback":5500},function(){with(this)return function(){"use strict";return function(t,e,r){const{EventEmitter:n}=t("events"),i=t("libp2p-record"),s=t("interface-datastore").MemoryDatastore,o=t("async/waterfall"),a=t("async/each"),u=t("async/filter"),c=t("async/timeout"),l=t("peer-id"),h=t("peer-info"),d=t("libp2p-crypto"),f=t("promise-to-callback"),p=t("err-code"),m=t("./routing"),g=t("./utils"),y=t("./constants"),v=t("./query"),b=t("./network"),w=t("./private"),_=t("./providers"),k=t("./message"),E=t("./random-walk"),A=t("./query-manager"),S=t("assert");e.exports=class extends n{constructor(t,e){super(),S(t,"libp2p-kad-dht requires a instance of Switch"),(e=e||{}).validators=e.validators||{},e.selectors=e.selectors||{},this.switch=t,this.kBucketSize=e.kBucketSize||y.K,this.concurrency=e.concurrency||y.ALPHA,this.disjointPaths=Math.ceil(this.kBucketSize/2),this.routingTable=new m(this.peerInfo.id,this.kBucketSize),this.datastore=e.datastore||new s,this.providers=new _(this.datastore,this.peerInfo.id),this.validators={pk:i.validator.validators.pk,...e.validators},this.selectors={pk:i.selection.selectors.pk,...e.selectors},this.network=new b(this),this._log=g.logger(this.peerInfo.id);const r=w(this);Object.keys(r).forEach((t=>{this[t]=r[t]})),this.randomWalk=new E(this,e.randomWalk),this._queryManager=new A}get isStarted(){return this._running}start(t){this._running=!0,this._queryManager.start(),this.network.start((e=>{if(e)return t(e);this.randomWalk.start(),t()}))}stop(t){this._running=!1,this.randomWalk.stop(),this.providers.stop(),this._queryManager.stop(),this.network.stop(t)}get peerInfo(){return this.switch._peerInfo}get peerBook(){return this.switch._peerBook}put(t,e,r,n){"function"==typeof r?(n=r,r={}):r=r||{},this._log("PutValue %b",t),o([r=>g.createPutRecord(t,e,r),(e,n)=>o([r=>this._putLocal(t,e,r),e=>this.getClosestPeers(t,{shallow:!0},e),(n,i)=>{r.minPeers=r.minPeers||n.length,u(n,((r,n)=>{this._putValueToPeer(t,e,r,(t=>{if(t)return this._log.error("Failed to put to peer (%b): %s",r.id,t),n(null,!1);n(null,!0)}))}),((t,e)=>{if(t)return i(t);if(r.minPeers>e.length){const t=p(new Error("Failed to put value to enough peers"),"ERR_NOT_ENOUGH_PUT_PEERS");return this._log.error(t),i(t)}i()}))}],n)],n)}get(t,e,r){"function"==typeof e?(r=e,e={}):e=e||{},e.maxTimeout||e.timeout?e.maxTimeout&&!e.timeout&&(e.timeout=e.maxTimeout):e.timeout=y.minute,this._get(t,e,r)}getMany(t,e,r,n){"function"==typeof r?(n=r,r={}):r=r||{},r.maxTimeout||r.timeout?r.maxTimeout&&!r.timeout&&(r.timeout=r.maxTimeout):r.timeout=y.minute,this._log("getMany %b (%s)",t,e);let i=[];this._getLocal(t,((s,a)=>{if(s&&0===e)return n(s);if(null==s&&i.push({val:a.value,from:this.peerInfo.id}),i.length>=e)return n(null,i);const u=[];o([e=>g.convertBuffer(t,e),(n,s)=>{const o=this.routingTable.closestPeers(n,this.kBucketSize);if(this._log("peers in rt: %d",o.length),0===o.length){const t="Failed to lookup key! No peers from routing table!";return this._log.error(t),s(p(new Error(t),"ERR_NO_PEERS_IN_ROUTING_TABLE"))}const a=new v(this,t,((r,n)=>{const s=g.pathSize(e-i.length,n),o=[];return u.push(o),async e=>{let r,n,i;try{const i=await this._getValueOrPeersAsync(e,t);r=i.record,n=i.peers}catch(t){if("ERR_INVALID_RECORD"!==t.code)throw t;i=t}const a={closerPeers:n};return(r&&r.value||i)&&o.push({val:r&&r.value,from:e}),o.length>=s&&(a.pathComplete=!0),a}}));c((t=>{f(a.run(o))(t)}),r.timeout)(((t,e)=>{a.stop(),s(t,e)}))}],(t=>{if(i=[].concat.apply(i,u).slice(0,e),t&&0===i.length)return n(t);n(null,i)}))}))}getClosestPeers(t,e,r){this._log("getClosestPeers to %b",t),"function"==typeof e&&(r=e,e={shallow:!1}),g.convertBuffer(t,((n,i)=>{if(n)return r(n);const s=this.routingTable.closestPeers(i,this.kBucketSize),a=new v(this,t,(()=>async r=>({closerPeers:await this._closerPeersSingleAsync(t,r),pathComplete:!!e.shallow||undefined})));f(a.run(s))(((t,e)=>t?r(t):e&&e.finalSet?void o([t=>g.sortClosestPeers(Array.from(e.finalSet),i,t),(t,e)=>e(null,t.slice(0,this.kBucketSize))],r):r(null,[])))}))}getPublicKey(t,e){let r;if(this._log("getPublicKey %s",t.toB58String()),this.peerBook.has(t)){if(r=this.peerBook.get(t),r&&r.id.pubKey)return this._log("getPublicKey: found local copy"),e(null,r.id.pubKey)}else r=this.peerBook.put(new h(t));this._getPublicKeyFromNode(t,((n,i)=>{if(!n)return r.id=new l(t.id,null,i),this.peerBook.put(r),e(null,i);const s=g.keyForPublicKey(t);this.get(s,((n,i)=>{if(n)return e(n);const s=d.unmarshalPublicKey(i);r.id=new l(t,null,s),this.peerBook.put(r),e(null,s)}))}))}findPeerLocal(t,e){this._log("findPeerLocal %s",t.toB58String()),this.routingTable.find(t,((t,r)=>t?e(t):r&&this.peerBook.has(r)?void e(null,this.peerBook.get(r)):e()))}provide(t,e){this._log("provide: %s",t.toBaseEncodedString());const r=[];o([e=>f(this.providers.addProvider(t,this.peerInfo.id))((t=>e(t))),e=>this.getClosestPeers(t.buffer,e),(e,n)=>{const i=new k(k.TYPES.ADD_PROVIDER,t.buffer,0);i.providerPeers=[this.peerInfo],a(e,((e,n)=>{this._log("putProvider %s to %s",t.toBaseEncodedString(),e.toB58String()),this.network.sendMessage(e,i,(t=>{t&&r.push(t),n()}))}),n)}],(t=>{r.length&&(t=p(`Failed to provide to ${r.length} of ${this.kBucketSize} peers`,"ERR_SOME_PROVIDES_FAILED",{errors:r})),e(t)}))}findProviders(t,e,r){"function"==typeof e?(r=e,e={}):e=e||{},e.maxTimeout||e.timeout?e.maxTimeout&&!e.timeout&&(e.timeout=e.maxTimeout):e.timeout=y.minute,e.maxNumProviders=e.maxNumProviders||y.K,this._log("findProviders %s",t.toBaseEncodedString()),this._findNProviders(t,e.timeout,e.maxNumProviders,r)}findPeer(t,e,r){"function"==typeof e?(r=e,e={}):e=e||{},e.maxTimeout||e.timeout?e.maxTimeout&&!e.timeout&&(e.timeout=e.maxTimeout):e.timeout=y.minute,this._log("findPeer %s",t.toB58String()),this.findPeerLocal(t,((n,i)=>n?r(n):null!=i?(this._log("found local"),r(null,i)):void o([e=>g.convertPeerId(t,e),(r,n)=>{const i=this.routingTable.closestPeers(r,this.kBucketSize);if(0===i.length)return n(p(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED"));if(i.find((e=>e.isEqual(t)))&&this.peerBook.has(t))return this._log("found in peerbook"),n(null,this.peerBook.get(t));const s=new v(this,t.id,(()=>async e=>{const r=await this._findPeerSingleAsync(e,t),n=r.closerPeers.find((e=>e.id.isEqual(t)));return n?{peer:n,queryComplete:!0}:{closerPeers:r.closerPeers}}));c((t=>{f(s.run(i))(t)}),e.timeout)(((t,e)=>{s.stop(),n(t,e)}))},(e,r)=>{let n=!1;if(e.paths.forEach((t=>{t.success&&(n=!0,this.peerBook.put(t.peer))})),this._log("findPeer %s: %s",t.toB58String(),n),!n)return r(p(new Error("No peer found"),"ERR_NOT_FOUND"));r(null,this.peerBook.get(t))}],r)))}_peerDiscovered(t){this.emit("peer",t)}}}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/index.js"}],[5025,{"./handshake":5022,"./state":5026,assert:1776,debug:2329,"interface-connection":4484,once:5385,"peer-info":5489,"pull-stream/pull":5556},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("pull-stream/pull"),i=t("interface-connection").Connection,s=t("assert"),o=t("peer-info"),a=t("debug"),u=t("once"),c=a("libp2p:secio");c.error=a("libp2p:secio:error");const l=t("./handshake"),h=t("./state");e.exports={tag:"/secio/1.0.0",encrypt(t,e,r,a){s(t,"no local private key provided"),s(e,"no connection for the handshake  provided"),"function"==typeof r&&(a=r,r=undefined),a=u(a||function(t){t&&c.error(t)});const d=new h(t,r,3e5,a);const f=new i(undefined,e);return n(e,l(d,(function(t){if(t)return a(t);e.getPeerInfo(((t,r)=>{f.setInnerConn(new i(d.secure,e)),t&&f.setPeerInfo(new o(d.id.remote)),a()}))})),e),f}}}}},{package:"libp2p-secio",file:"/home/circleci/project/node_modules/libp2p-secio/src/index.js"}],[5054,{"async/map":1840,"async/parallel":1844,debug:2329,events:2158,"libp2p-websocket-star":5056,mafmt:5268,multiaddr:5286,once:5385},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("debug")("libp2p:websocket-star:multi"),i=t("once"),s=t("events").EventEmitter,o=t("async/map"),a=t("async/parallel"),u=t("multiaddr"),c=t("mafmt"),l=t("libp2p-websocket-star");e.exports=class{constructor(t){this.opt=t||{},this.servers=t.servers||[],this.ws=new l(this.opt),this.discovery=this.ws.discovery}dial(t,e,r){return n("dial",t),this.ws.dial(t,e,r)}createListener(t,e){"function"==typeof t&&(e=t,t={});const r=new s;return r.servers={},r.online=[],this.servers.forEach((n=>{const i=this.ws.createListener(t,e);i.once("error",(()=>{})),i.url=n,r.servers[n]=i})),r.listen=(t,e)=>{const s=t.toString().split("ipfs/").pop();n("listen on %s server(s) with id %s",this.servers.length,s),a(this.servers.map((t=>r.servers[t])).map((t=>e=>{n("listen %s",t.url);const o=i((i=>(n("listen %s ok %s",t.url,!i),i?e(n(i)):(r.online.push(t),e()))));setTimeout(o,this.opt.timeout||5e3,new Error("Timeout")),t.listen(u(t.url).encapsulate("/ipfs/"+s),o)})),(()=>{if(r.online.length||this.opt.ignore_no_online)r.emit("listening"),e();else{const t=new Error("Couldn't listen on any of the servers");r.emit("error",t),e(t)}}))},r.close=t=>a(r.online.map((t=>e=>t.close(e))),(e=>t(e,r.online=[]))),r.getAddrs=t=>o(r.online,((t,e)=>t.getAddrs(e)),((e,r)=>e?t(e):t(null,r.reduce(((t,e)=>t.concat(e)),[])))),r}filter(t){return Array.isArray(t)||(t=[t]),t.filter((t=>t.toString().startsWith("/p2p-websocket-star")||c.WebSocketStar.matches(t)))}}}}},{package:"libp2p-websocket-star-multi",file:"/home/circleci/project/node_modules/libp2p-websocket-star-multi/src/index.js"}],[5052,{"./utils":5053,"async/setImmediate":1849,"class-is":2197,debug:2329,events:2158,"interface-connection":4484,mafmt:5268,multiaddr:5286,once:5385,"peer-id":5488,"peer-info":5489,"simple-peer":5898,"socket.io-client":5916,"stream-to-pull-stream":5974,webrtcsupport:6238},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("debug")("libp2p:webrtc-star"),i=t("multiaddr"),s=t("mafmt"),o=t("class-is"),a=t("socket.io-client"),u=t("events").EventEmitter,c=t("simple-peer"),l=t("peer-id"),h=t("peer-info"),d=t("interface-connection").Connection,f=t("stream-to-pull-stream"),p=t("once"),m=t("async/setImmediate"),g=t("webrtcsupport"),y=t("./utils"),v=y.cleanUrlSIO,b=y.cleanMultiaddr,w=p((()=>{})),_={transports:["websocket"],"force new connection":!0};e.exports=o(class{constructor(t){t=t||{},this.maSelf=undefined,this.sioOptions={transports:["websocket"],"force new connection":!0},t.wrtc&&(this.wrtc=t.wrtc),this.discovery=new u,this.discovery.tag="webRTCStar",this.discovery._isStarted=!1,this.discovery.start=t=>{this.discovery._isStarted=!0,m(t)},this.discovery.stop=t=>{this.discovery._isStarted=!1,m(t)},this.listenersRefs={},this._peerDiscovered=this._peerDiscovered.bind(this)}dial(t,e,r){"function"==typeof e&&(r=e,e={}),r=r?p(r):w;const i=(~~(1e9*Math.random())).toString(36)+Date.now(),s=this.listenersRefs[Object.keys(this.listenersRefs)[0]].io,o={initiator:!0,trickle:!1};let a;this.wrtc&&(o.wrtc=this.wrtc);try{a=new c(o)}catch(t){return n("Could not create connection:",t),r(t)}const u=new d(f.duplex(a));let l=!1;return a.on("signal",(e=>{s.emit("ss-handshake",{intentId:i,srcMultiaddr:this.maSelf.toString(),dstMultiaddr:t.toString(),signal:e})})),a.once("timeout",(()=>r(new Error("timeout")))),a.once("error",(t=>{l||r(t)})),s.on("ws-handshake",(e=>{if(e.intentId===i&&e.err)return r(new Error(e.err));e.intentId===i&&e.answer&&(a.once("connect",(()=>{l=!0,u.destroy=a.destroy.bind(a),a.once("close",(()=>u.destroy())),u.getObservedAddrs=e=>e(null,[t]),r(null,u)})),a.signal(e.signal))})),u}createListener(t,e){"function"==typeof t&&(e=t,t={});const r=new u;return r.listen=(t,i)=>{if(i=i?p(i):w,!g.support&&!this.wrtc)return m((()=>i(new Error("no WebRTC support"))));this.maSelf=t;const s=v(t);n("Dialing to Signalling Server on: "+s),r.io=a.connect(s,_),r.io.once("connect_error",i),r.io.once("error",(t=>{r.emit("error",t),r.emit("close")})),r.io.on("ws-handshake",(function(t){if(t.answer||t.err)return;const s={trickle:!1};o.wrtc&&(s.wrtc=o.wrtc);let a;try{a=new c(s)}catch(t){return n("Could not create incoming connection:",t),i(t)}const u=new d(f.duplex(a));a.once("connect",(()=>{u.getObservedAddrs=e=>e(null,[t.srcMultiaddr]),r.emit("connection",u),e(u)})),a.once("signal",(e=>{t.signal=e,t.answer=!0,r.io.emit("ss-handshake",t)})),a.signal(t.signal)})),r.io.on("ws-peer",this._peerDiscovered),r.io.on("connect",(()=>{r.io.emit("ss-join",t.toString())})),r.io.once("connect",(()=>{r.emit("listening"),i()}));const o=this},r.close=t=>{t=t?p(t):w,r.io.emit("ss-leave"),m((()=>{r.emit("close"),t()}))},r.getAddrs=t=>{m((()=>t(null,[this.maSelf])))},this.listenersRefs[i.toString()]=r,r}filter(t){return Array.isArray(t)||(t=[t]),t.filter((t=>!(t.protoNames().indexOf("p2p-circuit")>-1)&&s.WebRTCStar.matches(t)))}_peerDiscovered(t){if(!this.discovery._isStarted)return;n("Peer Discovered:",t);const e=(t=b(t)).split("/ipfs/"),r=e[e.length-1],s=l.createFromB58String(r),o=new h(s);o.multiaddrs.add(i(t)),this.discovery.emit("peer",o)}},{className:"WebRTCStar",symbolName:"@libp2p/js-libp2p-webrtc-star/webrtcstar"})}}},{package:"libp2p-webrtc-star",file:"/home/circleci/project/node_modules/libp2p-webrtc-star/src/index.js"}],[5066,{"./config":5061,"./content-routing":5062,"./dht":5063,"./errors":5064,"./get-peer-info":5065,"./peer-routing":5067,"./pubsub":5068,"./util":5069,_process:5498,"async/each":1809,"async/nextTick":1843,"async/parallel":1844,"async/series":1848,debug:2329,"err-code":2431,events:2158,"fsm-event":4381,"libp2p-connection-manager":4900,"libp2p-ping":4988,"libp2p-switch":5040,"libp2p-websockets":5059,"peer-book":5487,"peer-info":5489},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("fsm-event"),i=t("events").EventEmitter,s=t("debug"),o=s("libp2p");o.error=s("libp2p:error");const a=t("err-code"),u=t("async/each"),c=t("async/series"),l=t("async/parallel"),h=t("async/nextTick"),d=t("peer-book"),f=t("peer-info"),p=t("libp2p-switch"),m=t("libp2p-ping"),g=t("libp2p-websockets"),y=t("libp2p-connection-manager"),{emitFirst:v}=t("./util"),b=t("./peer-routing"),w=t("./content-routing"),_=t("./dht"),k=t("./pubsub"),E=t("./get-peer-info"),A=t("./config").validate,{codes:S}=t("./errors"),M=(t,e)=>a(new Error(`libp2p cannot ${t} when not started; state is ${e}`),S.ERR_NODE_NOT_STARTED);class I extends i{constructor(t){if(super(),this._options=A(t),this.datastore=this._options.datastore,this.peerInfo=this._options.peerInfo,this.peerBook=this._options.peerBook||new d,this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=[],this._switch=new p(this.peerInfo,this.peerBook,this._options.switch),this._switch.on("error",((...t)=>this.emit("error",...t))),this.stats=this._switch.stats,this.connectionManager=new y(this,this._options.connectionManager),this._modules.streamMuxer){this._modules.streamMuxer.forEach((t=>this._switch.connection.addStreamMuxer(t))),this._switch.connection.reuse(),this._switch.connection.enableCircuitRelay(this._config.relay),this._switch.on("peer-mux-established",(t=>{this.emit("peer:connect",t)})),this._switch.on("peer-mux-closed",(t=>{this.emit("peer:disconnect",t)}))}if(this._switch.on("connection:start",(t=>{this.emit("connection:start",t)})),this._switch.on("connection:end",(t=>{this.emit("connection:end",t)})),this._modules.connEncryption){this._modules.connEncryption.forEach((t=>{this._switch.connection.crypto(t.tag,t.encrypt)}))}if(this._modules.connProtector)this._switch.protector=this._modules.connProtector;else if(r.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._config.dht.enabled){const t=this._modules.dht;this._dht=new t(this._switch,{datastore:this.datastore,...this._config.dht})}this._config.EXPERIMENTAL.pubsub&&(this.pubsub=k(this)),this.peerRouting=b(this),this.contentRouting=w(this),this.dht=_(this),this._getPeerInfo=E(this),m.mount(this._switch),this.state=new n("STOPPED",{STOPPED:{start:"STARTING",stop:"STOPPED"},STARTING:{done:"STARTED",abort:"STOPPED",stop:"STOPPING"},STARTED:{stop:"STOPPING",start:"STARTED"},STOPPING:{stop:"STOPPING",done:"STOPPED"}}),this.state.on("STARTING",(()=>{o("libp2p is starting"),this._onStarting()})),this.state.on("STOPPING",(()=>{o("libp2p is stopping"),this._onStopping()})),this.state.on("STARTED",(()=>{o("libp2p has started"),this.emit("start")})),this.state.on("STOPPED",(()=>{o("libp2p has stopped"),this.emit("stop")})),this.state.on("error",(t=>{o.error(t),this.emit("error",t)})),this.state.on("STARTED",(()=>{this.peerBook.getAllArray().forEach((t=>{this.emit("peer:discovery",t),this._maybeConnect(t)}))})),this._peerDiscovered=this._peerDiscovered.bind(this)}emit(t,...e){"error"!==t||this._events.error?super.emit(t,...e):o.error(...e)}start(t=(()=>{})){v(this,["error","start"],t),this.state("start")}stop(t=(()=>{})){v(this,["error","stop"],t),this.state("stop")}isStarted(){return!!this.state&&"STARTED"===this.state._state}dial(t,e){this.dialProtocol(t,null,e)}dialProtocol(t,e,r){if(!this.isStarted())return r(M("dial",this.state._state));"function"==typeof e&&(r=e,e=undefined),this._getPeerInfo(t,((t,n)=>{if(t)return r(t);this._switch.dial(n,e,r)}))}dialFSM(t,e,r){if(!this.isStarted())return r(M("dial",this.state._state));"function"==typeof e&&(r=e,e=undefined),this._getPeerInfo(t,((t,n)=>{if(t)return r(t);this._switch.dialFSM(n,e,r)}))}hangUp(t,e){this._getPeerInfo(t,((t,r)=>{if(t)return e(t);this._switch.hangUp(r,e)}))}ping(t,e){if(!this.isStarted())return e(M("ping",this.state._state));this._getPeerInfo(t,((t,r)=>{if(t)return e(t);e(null,new m(this._switch,r))}))}handle(t,e,r){this._switch.handle(t,e,r)}unhandle(t){this._switch.unhandle(t)}_onStarting(){if(!this._modules.transport)return this.emit("error",new Error("no transports were present")),this.state("abort");let t;const e=[],r=[];this.peerInfo.multiaddrs.toArray().forEach((t=>{t.getPeerId()||(e.push(t),r.push(t.encapsulate("/p2p/"+this.peerInfo.id.toB58String())))})),this.peerInfo.multiaddrs.replace(e,r);const n=this.peerInfo.multiaddrs.toArray();this._modules.transport.forEach((e=>{let r;r="function"==typeof e?new e({libp2p:this}):e,r.filter(n).length>0?this._switch.transport.add(r.tag||r[Symbol.toStringTag],r):g.isWebSockets(r)&&(t=r),this._transport.push(r)})),c([t=>{this.connectionManager.start(),this._switch.start(t)},e=>{t&&this._switch.transport.add(t.tag||t.constructor.name,t);this.peerInfo.multiaddrs.toArray().forEach((t=>{t.toString().match(/\/p2p-circuit($|\/)/)||this._transport.find((e=>e.filter(t).length>0))||this.peerInfo.multiaddrs.delete(t)})),e()},t=>{this._dht?this._dht.start((()=>{this._dht.on("peer",this._peerDiscovered),t()})):t()},t=>{if(this._floodSub)return this._floodSub.start(t);t()},t=>{this._modules.peerDiscovery?this._setupPeerDiscovery(t):t()}],(t=>{if(t)return o.error(t),this.emit("error",t),this.state("stop");this.state("done")}))}_onStopping(){c([t=>{l(this._discovery.map((t=>(t.removeListener("peer",this._peerDiscovered),e=>t.stop((t=>{o.error("an error occurred stopping the discovery service",t),e()}))))),t)},t=>{if(this._floodSub)return this._floodSub.stop(t);t()},t=>{if(this._dht)return this._dht.removeListener("peer",this._peerDiscovered),this._dht.stop(t);t()},t=>{this.connectionManager.stop(),this._switch.stop(t)},t=>{this._switch.transport.removeAll((()=>t()))}],(t=>{t&&(o.error(t),this.emit("error",t)),this.state("done")}))}_peerDiscovered(t){t.id.toB58String()!==this.peerInfo.id.toB58String()?(t=this.peerBook.put(t),this.isStarted()&&(this.emit("peer:discovery",t),this._maybeConnect(t))):o.error(new Error(S.ERR_DISCOVERED_SELF))}_maybeConnect(t){if(!0===this._config.peerDiscovery.autoDial&&!t.isConnected()){(this._options.connectionManager.minPeers||0)>Object.keys(this._switch.connection.connections).length&&(o("connecting to discovered peer"),this._switch.dialer.connect(t,(t=>{t&&o.error("could not connect to discovered peer",t)})))}}_setupPeerDiscovery(t){for(const t of this._modules.peerDiscovery){let e={enabled:!0};if(t.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[t.tag]&&(e={...e,...this._config.peerDiscovery[t.tag]}),e.enabled){let r;r="function"==typeof t?new t(Object.assign({},e,{peerInfo:this.peerInfo})):t,r.on("peer",this._peerDiscovered),this._discovery.push(r)}}u(this._discovery,((t,e)=>{t.start(e)}),t)}}e.exports=I,e.exports.createLibp2p=(t,e)=>{if(t.peerInfo)return h(e,null,new I(t));f.create(((r,n)=>{if(r)return e(r);t.peerInfo=n,e(null,new I(t))}))}}).call(this)}).call(this,t("_process"))}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/index.js"}],[4731,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=fetch}}},{package:"ipfs",file:"/home/circleci/project/node_modules/ipfs/src/core/runtime/fetch-browser.js"}],[5530,{"./duplex":5529,"./sink":5531,"./source":5532,"./through":5533},function(){with(this)return function(){"use strict";return function(t,e,r){r.source=t("./source"),r.through=t("./through"),r.sink=t("./sink"),r.duplex=t("./duplex")}}},{package:"pull-defer",file:"/home/circleci/project/node_modules/pull-defer/index.js"}],[4689,{"../../../utils/cid":4738,"async-iterator-to-pull-stream":1784,buffer:2157,cids:2195},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("cids"),{Buffer:i}=t("buffer"),{cidToString:s}=t("../../../utils/cid"),o=t("async-iterator-to-pull-stream"),a=t=>{const e={},r=t.split("-");switch(r.length){case 1:e.avgChunkSize=262144;break;case 2:e.avgChunkSize=u(r[1],"avg");break;case 4:e.minChunkSize=u(r[1],"min"),e.avgChunkSize=u(r[2],"avg"),e.maxChunkSize=u(r[3],"max");break;default:throw new Error('Incorrect chunker format (expected "rabin" "rabin-[avg]" or "rabin-[min]-[avg]-[max]"')}return e},u=(t,e)=>{let r=parseInt(t);if(isNaN(r))throw new Error(`Chunker parameter ${e} must be an integer`);return r};e.exports={normalizePath:t=>i.isBuffer(t)?new n(t).toString():n.isCID(t)?t.toString():(0===t.indexOf("/ipfs/")&&(t=t.substring("/ipfs/".length)),"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t),parseChunkSize:u,parseRabinString:a,parseChunkerString:t=>{if(t){if(t.startsWith("size-")){const e=t.split("-")[1],r=parseInt(e);if(isNaN(r))throw new Error("Chunker parameter size must be an integer");return{chunker:"fixed",chunkerOptions:{maxChunkSize:r}}}if(t.startsWith("rabin"))return{chunker:"rabin",chunkerOptions:a(t)};throw new Error(`Unrecognized chunker option: ${t}`)}return{chunker:"fixed"}},mapFile:(t={})=>e=>{let r=0,n="dir";e.unixfs&&"file"===e.unixfs.type&&(r=e.unixfs.fileSize(),n="file");const i={hash:s(e.cid,{base:t.cidBase}),path:e.path,name:e.name,depth:e.path.split("/").length,size:r,type:n};return t.includeContent&&e.unixfs&&"file"===e.unixfs.type&&(i.content=o.source(e.content())),i}}}}},{package:"ipfs",file:"/home/circleci/project/node_modules/ipfs/src/core/components/files-regular/utils.js"}],[5587,{},function(){with(this)return function(){"use strict";return function(t,e,r){var n=r.once=function(t){return function(e,r){if(e)return r(e);if(null!=t){var n=t;t=null,r(null,n)}else r(!0)}};r.depthFirst=function(t,e){var r,i=[];return i.unshift(n(t)),function t(n,s){return i.length?r?s(r):void i[0](n,(function(n,o){if(n){if(!0!==n){for(r=n,i.shift();i.length;)i.shift()(n,(function(){}));return s(n)}return i.shift(),t(null,s)}i.unshift(e(o)),s(n,o)})):s(!0)}},r.widthFirst=function(t,e){var r=[];return r.push(n(t)),function t(n,i){if(!r.length)return i(!0);r[0](n,(function(n,s){if(n)return r.shift(),t(null,i);r.push(e(s)),i(n,s)}))}},r.leafFirst=function(t,e){var r=[],i=[];return r.push(n(t)),function t(n,s){r[0](n,(function(n,o){if(n)return r.shift(),i.length?s(null,i.shift()):s(!0);r.unshift(e(o)),i.unshift(o),t(null,s)}))}}}}},{package:"pull-traverse",file:"/home/circleci/project/node_modules/pull-traverse/index.js"}],[5528,{},function(){with(this)return function(){"use strict";return function(t,e,r){function n(t,e,r){var n=t.length;if(!n)return r(e);function i(){--n||r(e)}t.forEach((function(t){t?t(e,i):i()})),n||i()}e.exports=function(t){return function(e,r){!function i(){e?n(t,e,r):t.length?t[0]?t[0](null,(function(e,s){e?(t.shift(),!0===e?i():n(t,e,r)):r(null,s)})):(t.shift(),i()):r(!0)}()}}}}},{package:"pull-cat",file:"/home/circleci/project/node_modules/pull-cat/index.js"}],[4728,{"promisify-es6":5502},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("promisify-es6");e.exports=t=>n(((...t)=>{t.pop()(new Error("not available in the browser"))}))}}},{package:"ipfs",file:"/home/circleci/project/node_modules/ipfs/src/core/runtime/add-from-fs-browser.js"}],[4586,{"../../is-buffer/index.js":4764,"./resolvers":4588,"async-iterator-last":1783,cids:2195,"err-code":2431},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("err-code"),i=t("cids"),s=t("./resolvers"),o=t("async-iterator-last"),a=t=>{if(r.isBuffer(t))return{cid:new i(t),toResolve:[]};if(i.isCID(t))return{cid:t,toResolve:[]};if("string"==typeof t){0===t.indexOf("/ipfs/")&&(t=t.substring(6));const e=((t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean))(t);return{cid:new i(e[0]),toResolve:e.slice(1)}}throw n(new Error(`Unknown path type ${t}`),"ERR_BAD_PATH")},u=async function*(t,e){let{cid:r,toResolve:i}=a(t),o=r.toBaseEncodedString(),u=o;const c=i.length;for(;;){const a=await s(r,o,u,i,c,e);if(!a.entry&&!a.next)throw n(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");if(a.entry&&(yield a.entry),!a.next)return;i=a.next.toResolve,r=a.next.cid,o=a.next.name,u=a.next.path}},c=(t,e)=>o(u(t,e));e.exports=c,e.exports.path=u,e.exports.recursive=async function*(t,e){const r=await c(t,e);if(yield r,r.unixfs&&r.unixfs.type.includes("dir"))for await(const t of async function*t(e){for await(const r of e.content())if(yield r,r.unixfs.type.includes("dir"))for await(const e of t(r))yield e}(r))yield t}}).call(this)}).call(this,{isBuffer:t("../../is-buffer/index.js")})}}},{package:"ipfs-unixfs-exporter",file:"/home/circleci/project/node_modules/ipfs-unixfs-exporter/src/index.js"}],[5571,{"../util/abort-cb":5583},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("../util/abort-cb");e.exports=function(t,e){return function(r,i){if(r)return n(i,r,e);if(null!=t){var s=t;t=null,i(null,s)}else i(!0)}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sources/once.js"}],[5575,{"../util/tester":5585},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("../util/tester");e.exports=function(t){return t=n(t),function(e){return function r(n,i){for(var s,o=!0;o;)o=!1,s=!0,e(n,(function(e,n){if(!e&&!t(n))return s?o=!0:r(e,i);i(e,n)})),s=!1}}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/filter.js"}],[5552,{"pull-defer/source":5532,"pull-stream/sinks/collect":5557,"pull-stream/sources/error":5567,"pull-stream/sources/values":5572},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("pull-defer/source"),i=t("pull-stream/sources/error"),s=t("pull-stream/sources/values"),o=t("pull-stream/sinks/collect");e.exports=function(t){var e=n(),r=o((function(r,n){if(r)return e.resolve(i(r));e.resolve(s(n.sort(t)))}));return function(t){return r(t),e}}}}},{package:"pull-sort",file:"/home/circleci/project/node_modules/pull-sort/index.js"}],[4633,{"is-buffer":4617,"is-pull-stream":4780,"is-stream":4783,"kind-of":4854},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("kind-of"),i=t("is-stream"),{isSource:s}=t("is-pull-stream"),o=t("is-buffer");e.exports=t=>{const e=t=>o(t)||i.readable(t)||s(t)||"file"===n(t),r=t=>e(t)||(t=>"object"==typeof t&&(t.content?e(t.content):Boolean(t.path)&&"string"==typeof t.path))(t);if(r(t)||Array.isArray(t)&&t.every(r))return!0;throw new Error(`Input not supported. Expected Buffer|ReadableStream|PullStream|File|Array<Object> got ${n(t)}. Check the documentation for more info https://github.com/ipfs/interface-js-ipfs-core/blob/master/SPEC/FILES.md#add`)}}}},{package:"ipfs-utils",file:"/home/circleci/project/node_modules/ipfs-utils/src/files/add-input-validation.js"}],[4854,{},function(){with(this)return function(){"use strict";return function(t,e,r){var n=Object.prototype.toString;function i(t){return"function"==typeof t.constructor?t.constructor.name:null}e.exports=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e,r=typeof t;if("boolean"===r)return"boolean";if("string"===r)return"string";if("number"===r)return"number";if("symbol"===r)return"symbol";if("function"===r)return e=t,"GeneratorFunction"===i(e)?"generatorfunction":"function";if(function(t){return Array.isArray?Array.isArray(t):t instanceof Array}(t))return"array";if(function(t){if(t.constructor&&"function"==typeof t.constructor.isBuffer)return t.constructor.isBuffer(t);return!1}(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(t))return"arguments";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";if(function(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(t))return"regexp";switch(i(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(t))return"generator";switch(r=n.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")}}}},{package:"kind-of",file:"/home/circleci/project/node_modules/kind-of/index.js"}],[4783,{},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;n.writable=t=>n(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,n.readable=t=>n(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,n.duplex=t=>n.writable(t)&&n.readable(t),n.transform=t=>n.duplex(t)&&"function"==typeof t._transform&&"object"==typeof t._transformState,e.exports=n}}},{package:"is-stream",file:"/home/circleci/project/node_modules/is-stream/index.js"}],[5974,{_process:5498,looper:5262,"pull-stream/pull":5556},function(){with(this)return function(){"use strict";return function(t,e,r){(function(n){(function(){t("pull-stream/pull");var i=t("looper");function s(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \n"+"the wrapped node-stream does not implement `destroy`, \n"+"this may cause resource leaks.")}function o(t,e,r){var o,a,u=!1;function c(){a||(a=!0,r&&r(!0===o?null:o))}function l(){u||(u=!0,d(),o?c():t(o=!0,c))}function h(e){d(),o||t(o=e,c)}function d(){e.on("finish",l),e.removeListener("close",l),e.removeListener("error",h)}e.on("close",l),e.on("finish",l),e.on("error",h),n.nextTick((function(){i((function(r){t(null,(function(t,n){if(o=o||t,!0===t)return e._isStdio?c():e.end();if(o=o||t)return s(e),c();e._isStdio?e.write(n,(function(){r()})):!1===e.write(n)?e.once("drain",r):r()}))}))}))}function a(t){var e,r=[],n=[],i=!1;function o(){for(;(r.length||e)&&n.length;)n.shift()(r.length?null:e,r.shift());!r.length&&i&&(i=!1,t.resume())}return t.on("data",(function(e){r.push(e),o(),r.length&&t.pause&&(i=!0,t.pause())})),t.on("end",(function(){e=!0,o()})),t.on("close",(function(){e=!0,o()})),t.on("error",(function(t){e=t,o()})),function(r,i){if(!i)throw new Error("*must* provide cb");if(r){function o(){for(;n.length;)n.shift()(r);i(r)}if(e)return o();t.once("close",o),s(t)}else n.push(i),o()}}var u=a,c=function(t,e){return function(r){return o(r,t,e)}},l=function(t){return a(t)};(r=e.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return o(r,t,e),a(t)}:c(t,e):l(t)}).sink=c,r.source=l,r.read=u,r.read1=a,r.read2=function(t){var e,r=!1,n=!1;function i(){var r=t.read();if(null!==r&&e){var n=e;e=null,n(null,r)}}return t.on("readable",(function(){n=!0,e&&i()})).on("end",(function(){r=!0,e&&e(r)})).on("error",(function(t){r=t,e&&e(r)})),function(t,s){e=s,r?s(r):n&&i()}},r.duplex=function(t,e){return{source:l(t),sink:c(t,e)}},r.transform=function(t){return function(e){var r=l(t);return c(t)(e),r}}}).call(this)}).call(this,t("_process"))}}},{package:"stream-to-pull-stream",file:"/home/circleci/project/node_modules/stream-to-pull-stream/index.js"}],[5572,{"../util/abort-cb":5583},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("../util/abort-cb");e.exports=function(t,e){if(!t)return function(t,r){return t?n(r,t,e):r(!0)};Array.isArray(t)||(t=Object.keys(t).map((function(e){return t[e]})));var r=0;return function(i,s){if(i)return n(s,i,e);r>=t.length?s(!0):s(null,t[r++])}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sources/values.js"}],[5573,{"../util/prop":5584},function(){with(this)return function(){"use strict";return function(t,e,r){function n(t){return t}var i=t("../util/prop");e.exports=function(t){if(!t)return n;t=i(t);var e,r,s=!1;return function(n){return function i(o,a){if(r)return a(r);o?(r=o,n(o,s?function(t){s?e=a:a(o)}:function(t){a(o)})):n(null,(function(n,o){n?a(n):r?a(r):(s=!0,t(o,(function(t,n){s=!1,r?(a(r),e&&e(r)):t?i(t,a):a(null,n)})))}))}}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/async-map.js"}],[5576,{"../sources/once":5571,"../sources/values":5572},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("../sources/values"),i=t("../sources/once");e.exports=function(){return function(t){var e;return function(r,s){function o(){e(null,(function(e,r){!0===e?a():e?t(!0,(function(t){s(e)})):s(null,r)}))}function a(){e=null,t(null,(function(t,r){if(t)return s(t);Array.isArray(r)||r&&"object"==typeof r?r=n(r):"function"!=typeof r&&(r=i(r)),e=r,o()}))}r?e?e(r,(function(e){t(e||r,s)})):t(r,s):e?o():a()}}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/flatten.js"}],[4635,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={supportsFileReader:"undefined"!=typeof self&&"FileReader"in self}}}},{package:"ipfs-utils",file:"/home/circleci/project/node_modules/ipfs-utils/src/supports.js"}],[4634,{"../supports":4635,"readable-stream":4632},function(){with(this)return function(){"use strict";return function(t,e,r){const{Readable:n}=t("readable-stream"),{supportsFileReader:i}=t("../supports");e.exports=(t,e)=>{if(!i)throw new Error("FileReader DOM API is not supported.");return new class extends n{constructor(t,e={}){super(e),this.file=t,this.offset=e.offset||0,this.chunkSize=e.chunkSize||1048576,this.fileReader=new self.FileReader(t),this.fileReader.onloadend=t=>{const e=t.target.result;0===e.byteLength&&this.push(null),this.push(new Uint8Array(e))},this.fileReader.onerror=t=>this.destroy(t)}_read(e){const r=this.offset+this.chunkSize,n=t.slice(this.offset,r);this.fileReader.readAsArrayBuffer(n),this.offset=r}}(t,e)}}}},{package:"ipfs-utils",file:"/home/circleci/project/node_modules/ipfs-utils/src/streams/stream-from-filereader.js"}],[4611,{"./dag-builder":4605,"./tree-builder":4612,multihashes:5312,superstruct:5984},function(){with(this)return function(){"use strict";return function(t,e,r){const{superstruct:n}=t("superstruct"),i=t("./dag-builder"),s=t("./tree-builder"),o=t("multihashes"),a=n({types:{codec:t=>["dag-pb","dag-cbor","raw"].includes(t),hashAlg:t=>Object.keys(o.names).includes(t),leafType:t=>["file","raw"].includes(t)}}),u=a({minChunkSize:"number?",maxChunkSize:"number?",avgChunkSize:"number?",window:"number?",polynomial:"number?"},{maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804}),c=a({maxChildrenPerNode:"number?",layerRepeat:"number?"},{maxChildrenPerNode:174,layerRepeat:4}),l=a({chunker:a.enum(["fixed","rabin"]),rawLeaves:"boolean?",hashOnly:"boolean?",strategy:a.enum(["balanced","flat","trickle"]),reduceSingleLeafToSelf:"boolean?",codec:"codec?",format:"codec?",hashAlg:"hashAlg?",leafType:"leafType?",cidVersion:"number?",progress:"function?",wrapWithDirectory:"boolean?",shardSplitThreshold:"number?",onlyHash:"boolean?",chunkerOptions:u,builderOptions:c,wrap:"boolean?",pin:"boolean?",recursive:"boolean?",ignore:"array?",hidden:"boolean?",preload:"boolean?"},{chunker:"fixed",strategy:"balanced",rawLeaves:!1,reduceSingleLeafToSelf:!0,codec:"dag-pb",hashAlg:"sha2-256",leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3});e.exports=async function*(t,e,r={}){const n=l(r);r.cidVersion>0&&r.rawLeaves===undefined&&(n.rawLeaves=!0),r.hashAlg!==undefined&&r.rawLeaves===undefined&&(n.rawLeaves=!0),"trickle"===r.strategy&&(n.leafType="raw",n.reduceSingleLeafToSelf=!1),r.format&&(r.codec=r.format);for await(const r of s(i(t,e,n),e,n))yield{cid:r.cid,path:r.path,unixfs:r.unixfs,size:r.size}}}}},{package:"ipfs-unixfs-importer",file:"/home/circleci/project/node_modules/ipfs-unixfs-importer/src/index.js"}],[5584,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t){return t&&("string"==typeof t?function(e){return e[t]}:"object"==typeof t&&"function"==typeof t.exec?function(e){var r=t.exec(e);return r&&r[0]}:t)}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/util/prop.js"}],[4651,{"../../../errors":4642},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){a=!1,c=!0,o||s.call(e)},h=e._readableState&&e._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(e)},f=function(t){s.call(e,t)},p=function(){var t;return o&&!h?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",u),e.on("close",u)):(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)),e.on("end",d),e.on("finish",l),!1!==r.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[4653,{"../../../errors":4642,"./end-of-stream":4651},function(){with(this)return function(){"use strict";return function(t,e,r){var n;var i=t("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(e,r,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),n===undefined&&(n=t("./end-of-stream")),n(e,{readable:r,writable:i},(function(t){if(t)return s(t);a=!0,s()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}function c(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}e.exports=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var o=e.map((function(t,r){var s=r<e.length-1;return u(t,s,r>0,(function(t){n||(n=t),t&&o.forEach(c),s||(o.forEach(c),i(n))}))}));return e.reduce(l)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[4643,{"./_stream_readable":4645,"./_stream_writable":4647,_process:5498,inherits:4482},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=c;var i=t("./_stream_readable"),s=t("./_stream_writable");t("inherits")(c,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this)}).call(this,t("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/_stream_duplex.js"}],[4647,{"../errors":4642,"./_stream_duplex":4643,"./internal/streams/destroy":4650,"./internal/streams/state":4654,"./internal/streams/stream":4655,_process:5498,buffer:2157,inherits:4482,"util-deprecate":6086},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;e.exports=A,A.WritableState=E;var s={deprecate:t("util-deprecate")},o=t("./internal/streams/stream"),a=t("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=t("./internal/streams/destroy"),h=t("./internal/streams/state").getHighWaterMark,d=t("../errors").codes,f=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function k(){}function E(e,s,o){i=i||t("./_stream_duplex"),e=e||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,s){--e.pendingcb,n?(r.nextTick(s,i),r.nextTick(j,t,e),t._writableState.errorEmitted=!0,_(t,i)):(s(i),t._writableState.errorEmitted=!0,_(t,i),j(t,e))}(t,n,i,e,s);else{var o=C(n)||t.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||I(t,n),i?r.nextTick(M,t,n,o,s):M(t,n,o,s)}}(s,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function A(e){var r=this instanceof(i=i||t("./_stream_duplex"));if(!r&&!c.call(A,this))return new A(e);this._writableState=new E(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function S(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function M(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),j(t,e)}function I(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,s=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)s[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;s.allBuffers=u,S(t,e,!0,e.length,s,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(S(t,e,!1,e.objectMode?1:c.length,c,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final((function(r){e.pendingcb--,r&&_(t,r),e.prefinished=!0,t.emit("prefinish"),j(t,e)}))}function j(t,e){var n=C(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,r.nextTick(x,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}t("inherits")(A,o),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===A&&(t&&t._writableState instanceof E)}})):c=function(t){return t instanceof this},A.prototype.pipe=function(){_(this,new g)},A.prototype.write=function(t,e,n){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=t,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(t)&&(t=function(t){return a.from(t)}(t)),"function"==typeof e&&(n=e,e=null),c?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof n&&(n=k),s.ending?function(t,e){var n=new b;_(t,n),r.nextTick(e,n)}(this,n):(c||function(t,e,n,i){var s;return null===n?s=new v:"string"==typeof n||e.objectMode||(s=new f("chunk",["string","Buffer"],n)),!s||(_(t,s),r.nextTick(i,s),!1)}(this,s,t,n))&&(s.pendingcb++,o=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=a.from(e,r));return e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=e.objectMode?1:n.length;e.length+=u;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,u,n,i,s);return c}(this,s,c,t,e,n)),o},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||I(this,t))},A.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(t,e,r){r(new p("_write()"))},A.prototype._writev=null,A.prototype.end=function(t,e,n){var i=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&t!==undefined&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,j(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(t,e){e(t)}}).call(this)}).call(this,t("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/_stream_writable.js"}],[4644,{"./_stream_transform":4646,inherits:4482},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=i;var n=t("./_stream_transform");function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}t("inherits")(i,n),i.prototype._transform=function(t,e,r){r(null,t)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/_stream_passthrough.js"}],[4646,{"../errors":4642,"./_stream_duplex":4643,inherits:4482},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=l;var n=t("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,r){d(t,e,r)}))}function d(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}t("inherits")(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/_stream_transform.js"}],[4645,{"../errors":4642,"./_stream_duplex":4643,"./internal/streams/async_iterator":4648,"./internal/streams/buffer_list":4649,"./internal/streams/destroy":4650,"./internal/streams/from":4652,"./internal/streams/state":4654,"./internal/streams/stream":4655,_process:5498,buffer:2157,events:2158,inherits:4482,"string_decoder/":5975,util:2156},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){var n;e.exports=A,A.ReadableState=E;t("events").EventEmitter;var i=function(t,e){return t.listeners(e).length},s=t("./internal/streams/stream"),o=t("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=t("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,d,f=t("./internal/streams/buffer_list"),p=t("./internal/streams/destroy"),m=t("./internal/streams/state").getHighWaterMark,g=t("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(A,s);var _=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function E(e,r,i){n=n||t("./_stream_duplex"),e=e||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=t("string_decoder/").StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function A(e){if(n=n||t("./_stream_duplex"),!(this instanceof A))return new A(e);var r=this instanceof n;this._readableState=new E(e,this,r),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function S(t,e,r,n,i){u("readableAddChunk",e);var s,c=t._readableState;if(null===e)c.reading=!1,function(t,e){if(u("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?x(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,j(t)))}(t,c);else if(i||(s=function(t,e){var r;n=e,o.isBuffer(n)||n instanceof a||"string"==typeof e||e===undefined||t.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(c,e)),s)_(t,s);else if(c.objectMode||e&&e.length>0)if("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===o.prototype||(e=function(t){return o.from(t)}(e)),n)c.endEmitted?_(t,new w):M(t,c,e,!0);else if(c.ended)_(t,new v);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(e=c.decoder.write(e),c.objectMode||0!==e.length?M(t,c,e,!1):T(t,c)):M(t,c,e,!1)}else n||(c.reading=!1,T(t,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function M(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&x(t)),T(t,e)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),A.prototype.destroy=p.destroy,A.prototype._undestroy=p.undestroy,A.prototype._destroy=function(t,e){e(t)},A.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=o.from(t,e),e=""),r=!0),S(this,t,e,!1,r)},A.prototype.unshift=function(t){return S(this,t,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(e){l||(l=t("string_decoder/").StringDecoder);var r=new l(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function C(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;u("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(u("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(j,t))}function j(t){var e=t._readableState;u("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,O(t)}function T(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(B,t,e))}function B(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(u("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function R(t){u("readable nexttick read 0"),t.read(0)}function N(t,e){u("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(u("flow",e.flowing);e.flowing&&null!==t.read(););}function L(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function D(t){var e=t._readableState;u("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(K,e,t))}function K(t,e){if(u("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function F(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}A.prototype.read=function(t){u("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return u("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?D(this):x(this),null;if(0===(t=C(t,e))&&e.ended)return 0===e.length&&D(this),null;var n,i=e.needReadable;return u("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&u("length less than watermark",i=!0),e.ended||e.reading?u("reading or ended",i=!1):i&&(u("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=C(r,e))),null===(n=t>0?L(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&D(this)),null!==n&&this.emit("data",n),n},A.prototype._read=function(t){_(this,new b("_read()"))},A.prototype.pipe=function(t,e){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=t;break;case 1:s.pipes=[s.pipes,t];break;default:s.pipes.push(t)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,e);var o=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:g;function a(e,r){u("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",d),h=!0,!s.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){u("onend"),t.end()}s.endEmitted?r.nextTick(o):n.once("end",o),t.on("unpipe",a);var l=function(t){return function(){var e=t._readableState;u("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&i(t,"data")&&(e.flowing=!0,O(t))}}(n);t.on("drain",l);var h=!1;function d(e){u("ondata");var r=t.write(e);u("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===t||s.pipesCount>1&&-1!==F(s.pipes,t))&&!h&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function f(e){u("onerror",e),g(),t.removeListener("error",f),0===i(t,"error")&&_(t,e)}function p(){t.removeListener("finish",m),g()}function m(){u("onfinish"),t.removeListener("close",p),g()}function g(){u("unpipe"),n.unpipe(t)}return n.on("data",d),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",f),t.once("close",p),t.once("finish",m),t.emit("pipe",n),s.flowing||(u("pipe resume"),n.resume()),t},A.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},A.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?x(this):i.reading||r.nextTick(R,this))),n},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(t,e){var n=s.prototype.removeListener.call(this,t,e);return"readable"===t&&r.nextTick(P,this),n},A.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&t!==undefined||r.nextTick(P,this),e},A.prototype.resume=function(){var t=this._readableState;return t.flowing||(u("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(N,t,e))}(this,t)),t.paused=!1,this},A.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))})),t)this[i]===undefined&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<k.length;s++)t.on(k[s],this.emit.bind(this,k[s]));return this._read=function(e){u("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return h===undefined&&(h=t("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),A._fromList=L,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(e,r){return d===undefined&&(d=t("./internal/streams/from")),d(A,e,r)})}).call(this)}).call(this,t("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/_stream_readable.js"}],[1800,{"./lib/_stream_duplex.js":1787,"./lib/_stream_passthrough.js":1788,"./lib/_stream_readable.js":1789,"./lib/_stream_transform.js":1790,"./lib/_stream_writable.js":1791,"./lib/internal/streams/end-of-stream.js":1795,"./lib/internal/streams/pipeline.js":1797},function(){with(this)return function(){"use strict";return function(t,e,r){(r=e.exports=t("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js"),r.finished=t("./lib/internal/streams/end-of-stream.js"),r.pipeline=t("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/async-iterator-to-stream/node_modules/readable-stream/readable-browser.js"}],[4539,{"./cp":4537,"./flush":4538,"./ls":4540,"./mkdir":4541,"./mv":4542,"./read":4543,"./rm":4544,"./stat":4545,"./utils/create-lock":4549,"./write":4562,assert:1776,"promisify-es6":5502},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("assert"),i=t("promisify-es6"),s=t("./utils/create-lock"),o={stat:t("./stat")},a={cp:t("./cp"),flush:t("./flush"),mkdir:t("./mkdir"),mv:t("./mv"),rm:t("./rm")},u={write:t("./write"),read:t("./read"),ls:t("./ls")},c=({options:t,mfs:e,operations:r,lock:n})=>{Object.keys(r).forEach((i=>{e[i]=n(r[i](t))}))},l={repoOwner:!0,ipld:null,repo:null};e.exports=t=>{const{repoOwner:e}=Object.assign({},l||{},t);n(t.ipld,"MFS requires an IPLD instance"),n(t.blocks,"MFS requires an BlockStore instance"),n(t.datastore,"MFS requires a DataStore instance"),t.repo={blocks:{get:i(t.blocks.get,{context:t.blocks})},datastore:{open:i(t.datastore.open,{context:t.datastore}),get:i(t.datastore.get,{context:t.datastore}),put:i(t.datastore.put,{context:t.datastore})}};const r=s(e),h={};return c({options:t,mfs:h,operations:o,lock:t=>r.readLock(t)}),c({options:t,mfs:h,operations:a,lock:t=>r.writeLock(t)}),Object.keys(u).forEach((e=>{h[e]=u[e](t)})),h}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/index.js"}],[1416,{"fast-deep-equal":4371},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.assertExhaustive=r.setDiff=r.isValidJson=r.isNonEmptyArray=r.hasProperty=r.isPlainObject=r.timeSince=void 0;const i=n(t("fast-deep-equal"));r.timeSince=function(t){return Date.now()-t},r.isPlainObject=function(t){return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)};r.hasProperty=(t,e)=>Reflect.hasOwnProperty.call(t,e),r.isNonEmptyArray=function(t){return Array.isArray(t)&&t.length>0},r.isValidJson=function(t){try{return i.default(t,JSON.parse(JSON.stringify(t)))}catch(t){return!1}},r.setDiff=function(t,e){return Object.entries(t).reduce(((t,[r,n])=>(r in e||(t[r]=n),t)),{})},r.assertExhaustive=function(t){throw new Error("Invalid branch reached. Should be detected during compilation")}}}},{package:"@metamask/snap-controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/dist/utils.js"}],[1405,{"./ExternalResourceController":1404},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){n===undefined&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===undefined&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(t("./ExternalResourceController"),r)}}},{package:"@metamask/snap-controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/dist/resource/index.js"}],[1409,{"./AbstractExecutionService":1406,"./ExecutionService":1407,"./WebWorkerExecutionService":1408},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){n===undefined&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===undefined&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(t("./AbstractExecutionService"),r),i(t("./ExecutionService"),r),i(t("./WebWorkerExecutionService"),r)}}},{package:"@metamask/snap-controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/dist/services/index.js"}],[1411,{"./SnapController":1410,"./json-schemas":1412,"./utils":1415},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){n===undefined&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===undefined&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(t("./SnapController"),r),i(t("./json-schemas"),r),i(t("./utils"),r)}}},{package:"@metamask/snap-controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/dist/snaps/index.js"}],[1228,{},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseController=void 0;class n{constructor(t={},e={}){this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialState=e,this.initialConfig=t}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}get config(){return this.internalConfig}get state(){return this.internalState}configure(t,e=!1,r=!0){if(r){this.internalConfig=e?t:Object.assign(this.internalConfig,t);for(const t in this.internalConfig)void 0!==this.internalConfig[t]&&(this[t]=this.internalConfig[t])}else for(const e in t)void 0!==this.internalConfig[e]&&(this.internalConfig[e]=t[e],this[e]=t[e])}notify(){this.disabled||this.internalListeners.forEach((t=>{t(this.internalState)}))}subscribe(t){this.internalListeners.push(t)}unsubscribe(t){const e=this.internalListeners.findIndex((e=>t===e));return e>-1&&this.internalListeners.splice(e,1),e>-1}update(t,e=!1){this.internalState=e?Object.assign({},t):Object.assign({},this.internalState,t),this.notify()}}r.BaseController=n,r.default=n}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/BaseController.js"}],[1231,{},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ControllerMessenger=r.RestrictedControllerMessenger=void 0;class n{constructor({controllerMessenger:t,name:e,allowedActions:r,allowedEvents:n}){this.controllerMessenger=t,this.controllerName=e,this.allowedActions=r||null,this.allowedEvents=n||null}registerActionHandler(t,e){if(!t.startsWith(`${this.controllerName}:`))throw new Error(`Only allowed registering action handlers prefixed by '${this.controllerName}:'`);this.controllerMessenger.registerActionHandler(t,e)}unregisterActionHandler(t){if(!t.startsWith(`${this.controllerName}:`))throw new Error(`Only allowed unregistering action handlers prefixed by '${this.controllerName}:'`);this.controllerMessenger.unregisterActionHandler(t)}call(t,...e){if(null===this.allowedActions)throw new Error("No actions allowed");if(!this.allowedActions.includes(t))throw new Error(`Action missing from allow list: ${t}`);return this.controllerMessenger.call(t,...e)}publish(t,...e){if(!t.startsWith(`${this.controllerName}:`))throw new Error(`Only allowed publishing events prefixed by '${this.controllerName}:'`);this.controllerMessenger.publish(t,...e)}subscribe(t,e,r){if(null===this.allowedEvents)throw new Error("No events allowed");if(!this.allowedEvents.includes(t))throw new Error(`Event missing from allow list: ${t}`);return r?this.controllerMessenger.subscribe(t,e,r):this.controllerMessenger.subscribe(t,e)}unsubscribe(t,e){if(null===this.allowedEvents)throw new Error("No events allowed");if(!this.allowedEvents.includes(t))throw new Error(`Event missing from allow list: ${t}`);this.controllerMessenger.unsubscribe(t,e)}clearEventSubscriptions(t){if(!t.startsWith(`${this.controllerName}:`))throw new Error(`Only allowed clearing events prefixed by '${this.controllerName}:'`);this.controllerMessenger.clearEventSubscriptions(t)}}r.RestrictedControllerMessenger=n;r.ControllerMessenger=class{constructor(){this.actions=new Map,this.events=new Map,this.eventPayloadCache=new Map}registerActionHandler(t,e){if(this.actions.has(t))throw new Error(`A handler for ${t} has already been registered`);this.actions.set(t,e)}unregisterActionHandler(t){this.actions.delete(t)}clearActions(){this.actions.clear()}call(t,...e){const r=this.actions.get(t);if(!r)throw new Error(`A handler for ${t} has not been registered`);return r(...e)}publish(t,...e){const r=this.events.get(t);if(r)for(const[t,n]of r.entries())if(n){const r=this.eventPayloadCache.get(t),i=n(...e);i!==r&&(this.eventPayloadCache.set(t,i),t(i,r))}else t(...e)}subscribe(t,e,r){let n=this.events.get(t);n||(n=new Map,this.events.set(t,n)),n.set(e,r)}unsubscribe(t,e){const r=this.events.get(t);if(!r||!r.has(e))throw new Error(`Subscription not found for event: ${t}`);r.get(e)&&this.eventPayloadCache.delete(e),r.delete(e)}clearEventSubscriptions(t){this.events.delete(t)}clearSubscriptions(){this.events.clear()}getRestricted({name:t,allowedActions:e,allowedEvents:r}){return new n({controllerMessenger:this,name:t,allowedActions:e,allowedEvents:r})}}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/ControllerMessenger.js"}],[1230,{"./BaseController":1228},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ComposableController=void 0;const n=t("./BaseController");class i extends n.BaseController{constructor(t,e){super(undefined,t.reduce(((t,e)=>(t[e.name]=e.state,t)),{})),this.controllers=[],this.name="ComposableController",this.initialize(),this.controllers=t,this.messagingSystem=e,this.controllers.forEach((t=>{const{name:e}=t;if(t.subscribe!==undefined)t.subscribe((t=>{this.update({[e]:t})}));else{if(!this.messagingSystem)throw new Error("Messaging system required if any BaseControllerV2 controllers are used");this.messagingSystem.subscribe(`${e}:stateChange`,(t=>{this.update({[e]:t})}))}}))}get flatState(){let t={};for(const e of this.controllers)t=Object.assign(Object.assign({},t),e.state);return t}}r.ComposableController=i,r.default=i}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/ComposableController.js"}],[1289,{"../BaseController":1228,"../util":1291},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AddressBookController=void 0;const n=t("../util"),i=t("../BaseController");class s extends i.BaseController{constructor(t,e){super(t,e),this.name="AddressBookController",this.defaultState={addressBook:{}},this.initialize()}clear(){this.update({addressBook:{}})}delete(t,e){if(e=n.toChecksumHexAddress(e),!n.isValidHexAddress(e)||!this.state.addressBook[t]||!this.state.addressBook[t][e])return!1;const r=Object.assign({},this.state.addressBook);return delete r[t][e],0===Object.keys(r[t]).length&&delete r[t],this.update({addressBook:r}),!0}set(t,e,r="1",i=""){if(t=n.toChecksumHexAddress(t),!n.isValidHexAddress(t))return!1;const s={address:t,chainId:r,isEns:!1,memo:i,name:e},o=n.normalizeEnsName(e);return o&&(s.name=o,s.isEns=!0),this.update({addressBook:Object.assign(Object.assign({},this.state.addressBook),{[r]:Object.assign(Object.assign({},this.state.addressBook[r]),{[t]:s})})}),!0}}r.AddressBookController=s,r.default=s}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/user/AddressBookController.js"}],[1290,{"../BaseController":1228,"../util":1291},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PreferencesController=void 0;const n=t("../BaseController"),i=t("../util");class s extends n.BaseController{constructor(t,e){super(t,e),this.name="PreferencesController",this.defaultState={featureFlags:{},frequentRpcList:[],identities:{},ipfsGateway:"https://ipfs.io/ipfs/",lostIdentities:{},selectedAddress:"",useStaticTokenList:!1,useCollectibleDetection:!1,openSeaEnabled:!1},this.initialize()}addIdentities(t){const{identities:e}=this.state;t.forEach((t=>{if(t=i.toChecksumHexAddress(t),e[t])return;const r=Object.keys(e).length;e[t]={name:`Account ${r+1}`,address:t,importTime:Date.now()}})),this.update({identities:Object.assign({},e)})}removeIdentity(t){t=i.toChecksumHexAddress(t);const{identities:e}=this.state;e[t]&&(delete e[t],this.update({identities:Object.assign({},e)}),t===this.state.selectedAddress&&this.update({selectedAddress:Object.keys(e)[0]}))}setAccountLabel(t,e){t=i.toChecksumHexAddress(t);const{identities:r}=this.state;r[t]=r[t]||{},r[t].name=e,this.update({identities:Object.assign({},r)})}setFeatureFlag(t,e){const r=this.state.featureFlags,n=Object.assign(Object.assign({},r),{[t]:e});this.update({featureFlags:Object.assign({},n)})}syncIdentities(t){t=t.map((t=>i.toChecksumHexAddress(t)));const{identities:e,lostIdentities:r}=this.state,n={};for(const r in e)-1===t.indexOf(r)&&(n[r]=e[r],delete e[r]);if(Object.keys(n).length>0)for(const t in n)r[t]=n[t];return this.update({identities:Object.assign({},e),lostIdentities:Object.assign({},r)}),this.addIdentities(t),-1===t.indexOf(this.state.selectedAddress)&&this.update({selectedAddress:t[0]}),this.state.selectedAddress}updateIdentities(t){t=t.map((t=>i.toChecksumHexAddress(t)));const e=this.state.identities,r=t.reduce(((t,r,n)=>(t[r]=e[r]||{address:r,name:`Account ${n+1}`,importTime:Date.now()},t)),{});let{selectedAddress:n}=this.state;Object.keys(r).includes(n)||(n=Object.keys(r)[0]),this.update({identities:Object.assign({},r),selectedAddress:n})}addToFrequentRpcList(t,e,r,n,i){const{frequentRpcList:s}=this.state,o=s.findIndex((({rpcUrl:e})=>e===t));-1!==o&&s.splice(o,1);const a={rpcUrl:t,chainId:e,ticker:r,nickname:n,rpcPrefs:i};s.push(a),this.update({frequentRpcList:[...s]})}removeFromFrequentRpcList(t){const{frequentRpcList:e}=this.state,r=e.findIndex((({rpcUrl:e})=>e===t));-1!==r&&e.splice(r,1),this.update({frequentRpcList:[...e]})}setSelectedAddress(t){this.update({selectedAddress:i.toChecksumHexAddress(t)})}setIpfsGateway(t){this.update({ipfsGateway:t})}setUseStaticTokenList(t){this.update({useStaticTokenList:t})}setUseCollectibleDetection(t){if(t&&!this.state.openSeaEnabled)throw new Error("useCollectibleDetection cannot be enabled if openSeaEnabled is false");this.update({useCollectibleDetection:t})}setOpenSeaEnabled(t){this.update({openSeaEnabled:t}),t||this.update({useCollectibleDetection:!1})}}r.PreferencesController=s,r.default=s}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/user/PreferencesController.js"}],[1271,{"../BaseController":1228},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NotificationController=void 0;const n=t("../BaseController"),i={notifications:{}};class s extends n.BaseController{constructor(t,e){super(t,e||i),this.initialize(),this._addNotifications()}_addNotifications(){const t={},{allNotifications:e}=this.config;Object.values(e).forEach((e=>{t[e.id]=this.state.notifications[e.id]?this.state.notifications[e.id]:Object.assign(Object.assign({},e),{isShown:!1})})),this.update({notifications:t})}updateViewed(t){const e=this.state.notifications;for(const r of Object.keys(t).map(Number))e[r].isShown=t[r];this.update({notifications:e},!0)}}r.NotificationController=s}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/notification/NotificationController.js"}],[1244,{"../BaseController":1228,"../constants":1249,"../util":1291},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenDetectionController=void 0;const i=t("../BaseController"),s=t("../util"),o=t("../constants");class a extends i.BaseController{constructor({onTokensStateChange:t,onPreferencesStateChange:e,onNetworkStateChange:r,getBalancesInSingleCall:n,addTokens:i,getTokenListState:s,getTokensState:a},u,c){super(u,c),this.name="TokenDetectionController",this.isMainnet=()=>this.config.networkType===o.MAINNET,this.defaultConfig={interval:18e4,networkType:o.MAINNET,selectedAddress:"",tokens:[]},this.initialize(),this.getTokensState=a,this.getTokenListState=s,this.addTokens=i,t((({tokens:t})=>{this.configure({tokens:t})})),e((({selectedAddress:t})=>{t!==this.config.selectedAddress&&(this.configure({selectedAddress:t}),this.detectTokens())})),r((({provider:t})=>{this.configure({networkType:t.type})})),this.getBalancesInSingleCall=n}start(){return n(this,void 0,void 0,(function*(){this.isMainnet()&&!this.disabled&&(yield this.startPolling())}))}stop(){this.stopPolling()}stopPolling(){this.intervalId&&clearInterval(this.intervalId)}startPolling(t){return n(this,void 0,void 0,(function*(){t&&this.configure({interval:t},!1,!1),this.stopPolling(),yield this.detectTokens(),this.intervalId=setInterval((()=>n(this,void 0,void 0,(function*(){yield this.detectTokens()}))),this.config.interval)}))}detectTokens(){return n(this,void 0,void 0,(function*(){if(!this.isMainnet()||this.disabled)return;const t=this.config.tokens.map((t=>t.address.toLowerCase())),{tokenList:e}=this.getTokenListState(),r=[];for(const n in e)t.includes(n)||r.push(n);const i=[];i[0]=r.slice(0,1e3),i[1]=r.slice(1e3,r.length-1);const{selectedAddress:o}=this.config;if(o)for(const t of i){if(0===t.length)break;yield s.safelyExecute((()=>n(this,void 0,void 0,(function*(){const r=yield this.getBalancesInSingleCall(o,t),n=[];for(const t in r){let r;const{ignoredTokens:i}=this.getTokensState();i.length&&(r=i.find((e=>e===s.toChecksumHexAddress(t))));const o=Object.keys(e).find((e=>e.toLowerCase()===t.toLowerCase()))||"";r===undefined&&n.push({address:t,decimals:e[o].decimals,symbol:e[o].symbol})}n.length&&(yield this.addTokens(n))}))))}}))}}r.TokenDetectionController=a,r.default=a}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/TokenDetectionController.js"}],[1237,{"../BaseController":1228,"../constants":1249,"../util":1291},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.CollectibleDetectionController=void 0;const i=t("../BaseController"),s=t("../util"),o=t("../constants");class a extends i.BaseController{constructor({onPreferencesStateChange:t,onNetworkStateChange:e,getOpenSeaApiKey:r,addCollectible:n,getCollectiblesState:i},s,a){super(s,a),this.name="CollectibleDetectionController",this.isMainnet=()=>this.config.networkType===o.MAINNET,this.defaultConfig={interval:18e4,networkType:o.MAINNET,chainId:"1",selectedAddress:"",disabled:!0},this.initialize(),this.getCollectiblesState=i,t((({selectedAddress:t,useCollectibleDetection:e})=>{const{selectedAddress:r,disabled:n}=this.config;t===r&&!e===n||this.configure({selectedAddress:t,disabled:!e}),e!==undefined&&(e?this.start():this.stop())})),e((({provider:t})=>{this.configure({networkType:t.type,chainId:t.chainId})})),this.getOpenSeaApiKey=r,this.addCollectible=n}getOwnerCollectiblesApi(t,e){return`https://api.opensea.io/api/v1/assets?owner=${t}&offset=${e}&limit=50`}getOwnerCollectibles(t){var e;return n(this,void 0,void 0,(function*(){let r,n=[];const i=this.getOpenSeaApiKey();try{let o=0,a=!1;do{const u=this.getOwnerCollectiblesApi(t,o);r=yield s.timeoutFetch(u,i?{headers:{"X-API-KEY":i}}:{},15e3);const c=yield r.json();0!==(null===(e=c.assets)||void 0===e?void 0:e.length)?n=[...n,...c.assets]:a=!0,o+=50}while(!a)}catch(t){return[]}return n}))}start(){return n(this,void 0,void 0,(function*(){this.isMainnet()&&!this.disabled&&(yield this.startPolling())}))}stop(){this.stopPolling()}stopPolling(){this.intervalId&&clearInterval(this.intervalId)}startPolling(t){return n(this,void 0,void 0,(function*(){t&&this.configure({interval:t},!1,!1),this.stopPolling(),yield this.detectCollectibles(),this.intervalId=setInterval((()=>n(this,void 0,void 0,(function*(){yield this.detectCollectibles()}))),this.config.interval)}))}detectCollectibles(){return n(this,void 0,void 0,(function*(){if(!this.isMainnet()||this.disabled)return;const{selectedAddress:t,chainId:e}=this.config;t&&(yield s.safelyExecute((()=>n(this,void 0,void 0,(function*(){const r=(yield this.getOwnerCollectibles(t)).map((r=>n(this,void 0,void 0,(function*(){const{token_id:n,num_sales:i,background_color:o,image_url:a,image_preview_url:u,image_thumbnail_url:c,image_original_url:l,animation_url:h,animation_original_url:d,name:f,description:p,external_link:m,creator:g,asset_contract:{address:y,schema_name:v},last_sale:b}=r;let w;const{ignoredCollectibles:_}=this.getCollectiblesState();if(_.length&&(w=_.find((t=>t.address===s.toChecksumHexAddress(y)&&t.tokenId===n))),!w){const r=Object.assign({},{name:f},g&&{creator:g},p&&{description:p},a&&{image:a},i&&{numberOfSales:i},o&&{backgroundColor:o},u&&{imagePreview:u},c&&{imageThumbnail:c},l&&{imageOriginal:l},h&&{animation:h},d&&{animationOriginal:d},v&&{standard:v},m&&{externalLink:m},b&&{lastSale:b});yield this.addCollectible(y,n,r,{userAddress:t,chainId:e})}}))));yield Promise.all(r)})))))}))}}r.CollectibleDetectionController=a,r.default=a}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/CollectibleDetectionController.js"}],[1246,{"../BaseController":1228,"../apis/crypto-compare":1232,"../constants":1249,"../util":1291},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRatesController=void 0;const i=t("../BaseController"),s=t("../util"),o=t("../constants"),a=t("../apis/crypto-compare"),u={BASE_URL:"https://api.coingecko.com/api/v3",getTokenPriceURL(t,e){return`${this.BASE_URL}/simple/token_price/${t}?${e}`},getPlatformsURL(){return`${this.BASE_URL}/asset_platforms`},getSupportedVsCurrencies(){return`${this.BASE_URL}/simple/supported_vs_currencies`}};function c(t,e){var r;if(!e)return null;const n=null!==(r=e.find((({chain_identifier:e})=>null!==e&&String(e)===t)))&&void 0!==r?r:null;return(null==n?void 0:n.id)||null}class l extends i.BaseController{constructor({onTokensStateChange:t,onCurrencyRateStateChange:e,onNetworkStateChange:r},n,i){super(n,i),this.tokenList=[],this.supportedChains={timestamp:0,data:null},this.supportedVsCurrencies={timestamp:0,data:[]},this.name="TokenRatesController",this.defaultConfig={disabled:!0,interval:18e4,nativeCurrency:"eth",chainId:"",tokens:[],threshold:216e5},this.defaultState={contractExchangeRates:{}},this.initialize(),this.configure({disabled:!1},!1,!1),t((t=>{this.configure({tokens:t.tokens})})),e((t=>{this.configure({nativeCurrency:t.nativeCurrency})})),r((({provider:t})=>{const{chainId:e}=t;this.update({contractExchangeRates:{}}),this.configure({chainId:e})})),this.poll()}poll(t){return n(this,void 0,void 0,(function*(){t&&this.configure({interval:t},!1,!1),this.handle&&clearTimeout(this.handle),yield s.safelyExecute((()=>this.updateExchangeRates())),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}set chainId(t){!this.disabled&&s.safelyExecute((()=>this.updateExchangeRates()))}get chainId(){throw new Error("Property only used for setting")}set tokens(t){this.tokenList=t,!this.disabled&&s.safelyExecute((()=>this.updateExchangeRates()))}get tokens(){throw new Error("Property only used for setting")}fetchExchangeRate(t,e){return n(this,void 0,void 0,(function*(){const r=`contract_addresses=${this.tokenList.map((t=>t.address)).join(",")}&vs_currencies=${e.toLowerCase()}`;return s.handleFetch(u.getTokenPriceURL(t,r))}))}checkIsSupportedVsCurrency(t){return n(this,void 0,void 0,(function*(){const{threshold:e}=this.config,{timestamp:r,data:n}=this.supportedVsCurrencies;if(Date.now()-r>e){const e=yield s.handleFetch(u.getSupportedVsCurrencies());return this.supportedVsCurrencies={data:e,timestamp:Date.now()},e.includes(t.toLowerCase())}return n.includes(t.toLowerCase())}))}getChainSlug(){return n(this,void 0,void 0,(function*(){const{threshold:t,chainId:e}=this.config,{data:r,timestamp:n}=this.supportedChains;if(Date.now()-n>t){const t=yield s.handleFetch(u.getPlatformsURL());return this.supportedChains={data:t,timestamp:Date.now()},c(e,t)}return c(e,r)}))}updateExchangeRates(){return n(this,void 0,void 0,(function*(){if(0===this.tokenList.length||this.disabled)return;const t=yield this.getChainSlug();let e={};if(t){const{nativeCurrency:r}=this.config;e=yield this.fetchAndMapExchangeRates(r,t)}else this.tokenList.forEach((t=>{const r=s.toChecksumHexAddress(t.address);e[r]=undefined}));this.update({contractExchangeRates:e})}))}fetchAndMapExchangeRates(t,e){return n(this,void 0,void 0,(function*(){const r={};if(yield this.checkIsSupportedVsCurrency(t)){const n=yield this.fetchExchangeRate(e,t);this.tokenList.forEach((e=>{const i=n[e.address.toLowerCase()];r[s.toChecksumHexAddress(e.address)]=i?i[t.toLowerCase()]:0}))}else{let n,i=0;try{[n,{conversionRate:i}]=yield Promise.all([this.fetchExchangeRate(e,o.FALL_BACK_VS_CURRENCY),a.fetchExchangeRate(t,o.FALL_BACK_VS_CURRENCY,!1)])}catch(t){if(t.message.includes("market does not exist for this coin pair"))return{};throw t}for(const[t,e]of Object.entries(n)){const n=e[o.FALL_BACK_VS_CURRENCY.toLowerCase()];r[s.toChecksumHexAddress(t)]=n*i}}return r}))}}r.TokenRatesController=l,r.default=l}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/TokenRatesController.js"}],[1286,{"./SubjectMetadataController":1285},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){n===undefined&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===undefined&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(t("./SubjectMetadataController"),r)}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/subject-metadata/index.js"}],[1229,{immer:4480},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPersistentState=r.getAnonymizedState=r.BaseController=void 0;const n=t("immer");n.enablePatches();function i(t,e,r){return Object.keys(t).reduce(((n,i)=>{const s=e[i][r],o=t[i];return"function"==typeof s?n[i]=s(o):s&&(n[i]=o),n}),{})}r.BaseController=class{constructor({messenger:t,metadata:e,name:r,state:n}){this.messagingSystem=t,this.name=r,this.internalState=n,this.metadata=e,this.messagingSystem.registerActionHandler(`${r}:getState`,(()=>this.state))}get state(){return this.internalState}set state(t){throw new Error("Controller state cannot be directly mutated; use 'update' method instead.")}update(t){const[e,r]=n.produceWithPatches(this.internalState,t);this.internalState=e,this.messagingSystem.publish(`${this.name}:stateChange`,e,r)}destroy(){this.messagingSystem.clearEventSubscriptions(`${this.name}:stateChange`)}},r.getAnonymizedState=function(t,e){return i(t,e,"anonymous")},r.getPersistentState=function(t,e){return i(t,e,"persist")}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/BaseControllerV2.js"}],[1235,{"../BaseController":1228,"../util":1291,"async-mutex":1803,"eth-query":2527},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.AccountTrackerController=void 0;const s=i(t("eth-query")),o=t("async-mutex"),a=t("../BaseController"),u=t("../util");class c extends a.BaseController{constructor({onPreferencesStateChange:t,getIdentities:e},r,i){super(r,i),this.mutex=new o.Mutex,this.name="AccountTrackerController",this.refresh=()=>n(this,void 0,void 0,(function*(){this.syncAccounts();const{accounts:t}=this.state;for(const e in t)yield u.safelyExecuteWithTimeout((()=>n(this,void 0,void 0,(function*(){const r=yield u.query(this.ethQuery,"getBalance",[e]);t[e]={balance:u.BNToHex(r)},this.update({accounts:Object.assign({},t)})}))))})),this.defaultConfig={interval:1e4},this.defaultState={accounts:{}},this.initialize(),this.getIdentities=e,t((()=>{this.refresh()})),this.poll()}syncAccounts(){const{accounts:t}=this.state,e=Object.keys(this.getIdentities()),r=Object.keys(t),n=e.filter((t=>-1===r.indexOf(t))),i=r.filter((t=>-1===e.indexOf(t)));n.forEach((e=>{t[e]={balance:"0x0"}})),i.forEach((e=>{delete t[e]})),this.update({accounts:Object.assign({},t)})}set provider(t){this.ethQuery=new s.default(t)}get provider(){throw new Error("Property only used for setting")}poll(t){return n(this,void 0,void 0,(function*(){const e=yield this.mutex.acquire();t&&this.configure({interval:t},!1,!1),this.handle&&clearTimeout(this.handle),yield this.refresh(),this.handle=setTimeout((()=>{e(),this.poll(this.config.interval)}),this.config.interval)}))}}r.AccountTrackerController=c,r.default=c}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/AccountTrackerController.js"}],[1239,{"../BaseControllerV2":1229,"../apis/crypto-compare":1232,"../util":1291,"async-mutex":1803},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.CurrencyRateController=void 0;const i=t("async-mutex"),s=t("../BaseControllerV2"),o=t("../util"),a=t("../apis/crypto-compare"),u={conversionDate:{persist:!0,anonymous:!0},conversionRate:{persist:!0,anonymous:!0},currentCurrency:{persist:!0,anonymous:!0},nativeCurrency:{persist:!0,anonymous:!0},pendingCurrentCurrency:{persist:!1,anonymous:!0},pendingNativeCurrency:{persist:!1,anonymous:!0},usdConversionRate:{persist:!0,anonymous:!0}},c={conversionDate:0,conversionRate:0,currentCurrency:"usd",nativeCurrency:"ETH",pendingCurrentCurrency:null,pendingNativeCurrency:null,usdConversionRate:null};class l extends s.BaseController{constructor({includeUsdRate:t=!1,interval:e=18e4,messenger:r,state:n,fetchExchangeRate:s=a.fetchExchangeRate}){super({name:"CurrencyRateController",metadata:u,messenger:r,state:Object.assign(Object.assign({},c),n)}),this.mutex=new i.Mutex,this.includeUsdRate=t,this.intervalDelay=e,this.fetchExchangeRate=s}start(){return n(this,void 0,void 0,(function*(){yield this.startPolling()}))}stop(){this.stopPolling()}destroy(){super.destroy(),this.stopPolling()}setCurrentCurrency(t){return n(this,void 0,void 0,(function*(){this.update((e=>{e.pendingCurrentCurrency=t})),yield this.updateExchangeRate()}))}setNativeCurrency(t){return n(this,void 0,void 0,(function*(){this.update((e=>{e.pendingNativeCurrency=t})),yield this.updateExchangeRate()}))}stopPolling(){this.intervalId&&clearInterval(this.intervalId)}startPolling(){return n(this,void 0,void 0,(function*(){this.stopPolling(),yield o.safelyExecute((()=>this.updateExchangeRate())),this.intervalId=setInterval((()=>n(this,void 0,void 0,(function*(){yield o.safelyExecute((()=>this.updateExchangeRate()))}))),this.intervalDelay)}))}updateExchangeRate(){return n(this,void 0,void 0,(function*(){const t=yield this.mutex.acquire(),{currentCurrency:e,nativeCurrency:r,pendingCurrentCurrency:n,pendingNativeCurrency:i}=this.state;let s=null,o=null,a=null;const u=null!=n?n:e,c=null!=i?i:r;try{u&&c&&""!==u&&""!==c&&(({conversionRate:o,usdConversionRate:a}=yield this.fetchExchangeRate(u,c,this.includeUsdRate)),s=Date.now()/1e3)}catch(t){if(!t.message.includes("market does not exist for this coin pair"))throw t}finally{try{this.update((()=>({conversionDate:s,conversionRate:o,nativeCurrency:c,currentCurrency:u,pendingCurrentCurrency:null,pendingNativeCurrency:null,usdConversionRate:a})))}finally{t()}}return this.state}))}}r.CurrencyRateController=l,r.default=l}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/CurrencyRateController.js"}],[1267,{"../util":1291,"./AbstractMessageManager":1266,uuid:6087},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MessageManager=void 0;const n=t("uuid"),i=t("../util"),s=t("./AbstractMessageManager");class o extends s.AbstractMessageManager{constructor(){super(...arguments),this.name="MessageManager"}addUnapprovedMessageAsync(t,e){return new Promise(((r,n)=>{i.validateSignMessageData(t);const s=this.addUnapprovedMessage(t,e);this.hub.once(`${s}:finished`,(e=>{switch(e.status){case"signed":return r(e.rawSig);case"rejected":return n(new Error("MetaMask Message Signature: User denied message signature."));default:return n(new Error(`MetaMask Message Signature: Unknown problem: ${JSON.stringify(t)}`))}}))}))}addUnapprovedMessage(t,e){e&&(t.origin=e.origin),t.data=i.normalizeMessageData(t.data);const r=n.v1(),s={id:r,messageParams:t,status:"unapproved",time:Date.now(),type:"eth_sign"};return this.addMessage(s),this.hub.emit("unapprovedMessage",Object.assign(Object.assign({},t),{metamaskId:r})),r}prepMessageForSigning(t){return delete t.metamaskId,Promise.resolve(t)}}r.MessageManager=o,r.default=o}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/message-manager/MessageManager.js"}],[1243,{"../BaseController":1228,"../util":1291,"ethereumjs-util":2597},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenBalancesController=r.BN=void 0;const i=t("ethereumjs-util");Object.defineProperty(r,"BN",{enumerable:!0,get:function(){return i.BN}});const s=t("../BaseController"),o=t("../util");class a extends s.BaseController{constructor({onTokensStateChange:t,getSelectedAddress:e,getERC20BalanceOf:r},n,i){super(n,i),this.name="TokenBalancesController",this.defaultConfig={interval:18e4,tokens:[]},this.defaultState={contractBalances:{}},this.initialize(),t((({tokens:t})=>{this.configure({tokens:t}),this.updateBalances()})),this.getSelectedAddress=e,this.getERC20BalanceOf=r,this.poll()}poll(t){return n(this,void 0,void 0,(function*(){t&&this.configure({interval:t},!1,!1),this.handle&&clearTimeout(this.handle),yield o.safelyExecute((()=>this.updateBalances())),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}updateBalances(){return n(this,void 0,void 0,(function*(){if(this.disabled)return;const{tokens:t}=this.config,e={};for(const r in t){const{address:n}=t[r];try{e[n]=yield this.getERC20BalanceOf(n,this.getSelectedAddress()),t[r].balanceError=null}catch(s){e[n]=new i.BN(0),t[r].balanceError=s}}this.update({contractBalances:e})}))}}r.TokenBalancesController=a,r.default=a}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/TokenBalancesController.js"}],[1269,{"../util":1291,"./AbstractMessageManager":1266,uuid:6087},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TypedMessageManager=void 0;const n=t("uuid"),i=t("../util"),s=t("./AbstractMessageManager");class o extends s.AbstractMessageManager{constructor(){super(...arguments),this.name="TypedMessageManager"}addUnapprovedMessageAsync(t,e,r){return new Promise(((n,s)=>{"V1"===e&&i.validateTypedSignMessageDataV1(t),"V3"===e&&i.validateTypedSignMessageDataV3(t);const o=this.addUnapprovedMessage(t,e,r);this.hub.once(`${o}:finished`,(e=>{switch(e.status){case"signed":return n(e.rawSig);case"rejected":return s(new Error("MetaMask Typed Message Signature: User denied message signature."));case"errored":return s(new Error(`MetaMask Typed Message Signature: ${e.error}`));default:return s(new Error(`MetaMask Typed Message Signature: Unknown problem: ${JSON.stringify(t)}`))}}))}))}addUnapprovedMessage(t,e,r){const i=n.v1(),s=Object.assign(Object.assign({},t),{metamaskId:i,version:e});r&&(t.origin=r.origin);const o={id:i,messageParams:t,status:"unapproved",time:Date.now(),type:"eth_signTypedData"};return this.addMessage(o),this.hub.emit("unapprovedMessage",s),i}setMessageStatusErrored(t,e){const r=this.getMessage(t);r&&(r.error=e,this.updateMessage(r),this.setMessageStatus(t,"errored"))}prepMessageForSigning(t){return delete t.metamaskId,delete t.version,Promise.resolve(t)}}r.TypedMessageManager=o,r.default=o}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/message-manager/TypedMessageManager.js"}],[1268,{"../util":1291,"./AbstractMessageManager":1266,uuid:6087},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PersonalMessageManager=void 0;const n=t("uuid"),i=t("../util"),s=t("./AbstractMessageManager");class o extends s.AbstractMessageManager{constructor(){super(...arguments),this.name="PersonalMessageManager"}addUnapprovedMessageAsync(t,e){return new Promise(((r,n)=>{i.validateSignMessageData(t);const s=this.addUnapprovedMessage(t,e);this.hub.once(`${s}:finished`,(e=>{switch(e.status){case"signed":return r(e.rawSig);case"rejected":return n(new Error("MetaMask Personal Message Signature: User denied message signature."));default:return n(new Error(`MetaMask Personal Message Signature: Unknown problem: ${JSON.stringify(t)}`))}}))}))}addUnapprovedMessage(t,e){e&&(t.origin=e.origin),t.data=i.normalizeMessageData(t.data);const r=n.v1(),s={id:r,messageParams:t,status:"unapproved",time:Date.now(),type:"personal_sign"};return this.addMessage(s),this.hub.emit("unapprovedMessage",Object.assign(Object.assign({},t),{metamaskId:r})),r}prepMessageForSigning(t){return delete t.metamaskId,Promise.resolve(t)}}r.PersonalMessageManager=o,r.default=o}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/message-manager/PersonalMessageManager.js"}],[1238,{"../BaseController":1228,"../constants":1249,"../util":1291,"./assetsUtil":1248,"async-mutex":1803,"ethereumjs-util":2597,events:2158},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.CollectiblesController=void 0;const i=t("events"),s=t("ethereumjs-util"),o=t("async-mutex"),a=t("../BaseController"),u=t("../util"),c=t("../constants"),l=t("./assetsUtil"),h="allCollectibles",d="allCollectibleContracts";class f extends a.BaseController{constructor({onPreferencesStateChange:t,onNetworkStateChange:e,getERC721AssetName:r,getERC721AssetSymbol:n,getERC721TokenURI:s,getERC721OwnerOf:a,getERC1155BalanceOf:u,getERC1155TokenURI:l},h,d){super(h,d),this.mutex=new o.Mutex,this.hub=new i.EventEmitter,this.name="CollectiblesController",this.defaultConfig={networkType:c.MAINNET,selectedAddress:"",chainId:"",ipfsGateway:c.IPFS_DEFAULT_GATEWAY_URL,openSeaEnabled:!1,useIPFSSubdomains:!0},this.defaultState={allCollectibleContracts:{},allCollectibles:{},ignoredCollectibles:[]},this.initialize(),this.getERC721AssetName=r,this.getERC721AssetSymbol=n,this.getERC721TokenURI=s,this.getERC721OwnerOf=a,this.getERC1155BalanceOf=u,this.getERC1155TokenURI=l,t((({selectedAddress:t,ipfsGateway:e,openSeaEnabled:r})=>{this.configure({selectedAddress:t,ipfsGateway:e,openSeaEnabled:r})})),e((({provider:t})=>{const{chainId:e}=t;this.configure({chainId:e})}))}getCollectibleApi(t,e){const{chainId:r}=this.config;return r===c.RINKEBY_CHAIN_ID?`https://testnets-api.opensea.io/api/v1/asset/${t}/${e}`:`https://api.opensea.io/api/v1/asset/${t}/${e}`}getCollectibleContractInformationApi(t){const{chainId:e}=this.config;return e===c.RINKEBY_CHAIN_ID?`https://testnets-api.opensea.io/api/v1/asset_contract/${t}`:`https://api.opensea.io/api/v1/asset_contract/${t}`}updateNestedCollectibleState(t,e,{userAddress:r,chainId:n}={userAddress:this.config.selectedAddress,chainId:this.config.chainId}){const{[e]:i}=this.state,s=i[r],o=Object.assign(Object.assign({},s),{[n]:t}),a=Object.assign(Object.assign({},i),{[r]:o});this.update({[e]:a})}getCollectibleInformationFromApi(t,e){return n(this,void 0,void 0,(function*(){const r=this.getCollectibleApi(t,e);let n;n=this.openSeaApiKey?yield u.handleFetch(r,{headers:{"X-API-KEY":this.openSeaApiKey}}):yield u.handleFetch(r);const{num_sales:i,background_color:s,image_url:o,image_preview_url:a,image_thumbnail_url:c,image_original_url:l,animation_url:h,animation_original_url:d,name:f,description:p,external_link:m,creator:g,last_sale:y,asset_contract:{schema_name:v}}=n;return Object.assign({},{name:f||null},{description:p||null},{image:o||null},g&&{creator:g},i&&{numberOfSales:i},s&&{backgroundColor:s},a&&{imagePreview:a},c&&{imageThumbnail:c},l&&{imageOriginal:l},h&&{animation:h},d&&{animationOriginal:d},m&&{externalLink:m},y&&{lastSale:y},v&&{standard:v})}))}getCollectibleInformationFromTokenURI(t,e){return n(this,void 0,void 0,(function*(){const{ipfsGateway:r,useIPFSSubdomains:n}=this.config,i=yield this.getCollectibleURIAndStandard(t,e);let s=i[0];const o=i[1];s.startsWith("ipfs://")&&(s=u.getFormattedIpfsUrl(r,s,n));try{const t=yield u.handleFetch(s);return{image:t[Object.prototype.hasOwnProperty.call(t,"image")?"image":"image_url"],name:t.name,description:t.description,standard:o,favorite:!1}}catch(t){return{image:null,name:null,description:null,standard:o||null,favorite:!1}}}))}getCollectibleURIAndStandard(t,e){return n(this,void 0,void 0,(function*(){try{return[yield this.getERC721TokenURI(t,e),c.ERC721]}catch(t){}try{const r=yield this.getERC1155TokenURI(t,e);if(!r.includes("{id}"))return[r,c.ERC1155];const n=s.stripHexPrefix(u.BNToHex(new s.BN(e))).padStart(64,"0").toLowerCase();return[r.replace("{id}",n),c.ERC1155]}catch(t){}return["",""]}))}getCollectibleInformation(t,e){var r,i,s,o,a,c,l,h;return n(this,void 0,void 0,(function*(){const d=yield u.safelyExecute((()=>n(this,void 0,void 0,(function*(){return yield this.getCollectibleInformationFromTokenURI(t,e)}))));let f;return this.config.openSeaEnabled&&(f=yield u.safelyExecute((()=>n(this,void 0,void 0,(function*(){return yield this.getCollectibleInformationFromApi(t,e)}))))),Object.assign(Object.assign({},f),{name:null!==(i=null!==(r=d.name)&&void 0!==r?r:null==f?void 0:f.name)&&void 0!==i?i:null,description:null!==(o=null!==(s=d.description)&&void 0!==s?s:null==f?void 0:f.description)&&void 0!==o?o:null,image:null!==(c=null!==(a=d.image)&&void 0!==a?a:null==f?void 0:f.image)&&void 0!==c?c:null,standard:null!==(h=null!==(l=d.standard)&&void 0!==l?l:null==f?void 0:f.standard)&&void 0!==h?h:null})}))}getCollectibleContractInformationFromApi(t){return n(this,void 0,void 0,(function*(){const e=this.getCollectibleContractInformationApi(t);let r;return r=this.openSeaApiKey?yield u.handleFetch(e,{headers:{"X-API-KEY":this.openSeaApiKey}}):yield u.handleFetch(e),r}))}getCollectibleContractInformationFromContract(t){return n(this,void 0,void 0,(function*(){return{collection:{name:yield this.getERC721AssetName(t)},symbol:yield this.getERC721AssetSymbol(t),address:t}}))}getCollectibleContractInformation(t){return n(this,void 0,void 0,(function*(){const e=yield u.safelyExecute((()=>n(this,void 0,void 0,(function*(){return yield this.getCollectibleContractInformationFromContract(t)}))));let r;return this.config.openSeaEnabled&&(r=yield u.safelyExecute((()=>n(this,void 0,void 0,(function*(){return yield this.getCollectibleContractInformationFromApi(t)}))))),e||r?Object.assign(Object.assign(Object.assign({},r),e),{collection:Object.assign(Object.assign({image_url:null},null==r?void 0:r.collection),null==e?void 0:e.collection)}):{address:t,asset_contract_type:null,created_date:null,schema_name:null,symbol:null,total_supply:null,description:null,external_link:null,collection:{name:null,image_url:null}}}))}addIndividualCollectible(t,e,r,i){var s;return n(this,void 0,void 0,(function*(){const n=yield this.mutex.acquire();try{t=u.toChecksumHexAddress(t);const{allCollectibles:o}=this.state;let a,c;i?(a=i.chainId,c=i.userAddress):(a=this.config.chainId,c=this.config.selectedAddress);const d=(null===(s=o[c])||void 0===s?void 0:s[a])||[],f=d.find((r=>r.address.toLowerCase()===t.toLowerCase()&&r.tokenId===e));if(f){if(!l.compareCollectiblesMetadata(r,f))return d;{const r=d.findIndex((r=>r.address.toLowerCase()===t.toLowerCase()&&r.tokenId===e));-1!==r&&d.splice(r,1)}}const p=Object.assign({address:t,tokenId:e,favorite:(null==f?void 0:f.favorite)||!1,isCurrentlyOwned:!0},r),m=[...d,p];return this.updateNestedCollectibleState(m,h,{chainId:a,userAddress:c}),m}finally{n()}}))}addCollectibleContract(t,e){var r;return n(this,void 0,void 0,(function*(){const n=yield this.mutex.acquire();try{t=u.toChecksumHexAddress(t);const{allCollectibleContracts:i}=this.state;let s,o;e?(s=e.chainId,o=e.userAddress):(s=this.config.chainId,o=this.config.selectedAddress);const a=(null===(r=i[o])||void 0===r?void 0:r[s])||[];if(a.find((e=>e.address.toLowerCase()===t.toLowerCase())))return a;const c=yield this.getCollectibleContractInformation(t),{asset_contract_type:l,created_date:h,schema_name:f,symbol:p,total_supply:m,description:g,external_link:y,collection:{name:v,image_url:b}}=c;if(e&&!v||0===Object.keys(c).length)return a;const w=Object.assign({},{address:t},g&&{description:g},v&&{name:v},b&&{logo:b},p&&{symbol:p},null!=m&&{totalSupply:m},l&&{assetContractType:l},h&&{createdDate:h},f&&{schemaName:f},y&&{externalLink:y}),_=[...a,w];return this.updateNestedCollectibleState(_,d,{chainId:s,userAddress:o}),_}finally{n()}}))}removeAndIgnoreIndividualCollectible(t,e){var r;t=u.toChecksumHexAddress(t);const{allCollectibles:n,ignoredCollectibles:i}=this.state,{chainId:s,selectedAddress:o}=this.config,a=[...i],c=((null===(r=n[o])||void 0===r?void 0:r[s])||[]).filter((r=>{if(r.address.toLowerCase()===t.toLowerCase()&&r.tokenId===e){return!a.find((r=>r.address===t&&r.tokenId===e))&&a.push(r),!1}return!0}));this.updateNestedCollectibleState(c,h),this.update({ignoredCollectibles:a})}removeIndividualCollectible(t,e){var r;t=u.toChecksumHexAddress(t);const{allCollectibles:n}=this.state,{chainId:i,selectedAddress:s}=this.config,o=((null===(r=n[s])||void 0===r?void 0:r[i])||[]).filter((r=>!(r.address.toLowerCase()===t.toLowerCase()&&r.tokenId===e)));this.updateNestedCollectibleState(o,h)}removeCollectibleContract(t){var e;t=u.toChecksumHexAddress(t);const{allCollectibleContracts:r}=this.state,{chainId:n,selectedAddress:i}=this.config,s=((null===(e=r[i])||void 0===e?void 0:e[n])||[]).filter((e=>!(e.address.toLowerCase()===t.toLowerCase())));return this.updateNestedCollectibleState(s,d),s}setApiKey(t){this.openSeaApiKey=t}isCollectibleOwner(t,e,r){return n(this,void 0,void 0,(function*(){try{const n=yield this.getERC721OwnerOf(e,r);return t.toLowerCase()===n.toLowerCase()}catch(t){}try{return(yield this.getERC1155BalanceOf(t,e,r))>0}catch(t){}throw new Error("Unable to verify ownership. Probably because the standard is not supported or the chain is incorrect.")}))}addCollectibleVerifyOwnership(t,e){return n(this,void 0,void 0,(function*(){const{selectedAddress:r}=this.config;if(!(yield this.isCollectibleOwner(r,t,e)))throw new Error("This collectible is not owned by the user");yield this.addCollectible(t,e)}))}addCollectible(t,e,r,i){return n(this,void 0,void 0,(function*(){t=u.toChecksumHexAddress(t);const n=yield this.addCollectibleContract(t,i);r=r||(yield this.getCollectibleInformation(t,e));n.find((e=>e.address.toLowerCase()===t.toLowerCase()))&&(yield this.addIndividualCollectible(t,e,r,i))}))}removeCollectible(t,e){var r;t=u.toChecksumHexAddress(t),this.removeIndividualCollectible(t,e);const{allCollectibles:n}=this.state,{chainId:i,selectedAddress:s}=this.config;((null===(r=n[s])||void 0===r?void 0:r[i])||[]).find((e=>e.address.toLowerCase()===t.toLowerCase()))||this.removeCollectibleContract(t)}removeAndIgnoreCollectible(t,e){var r;t=u.toChecksumHexAddress(t),this.removeAndIgnoreIndividualCollectible(t,e);const{allCollectibles:n}=this.state,{chainId:i,selectedAddress:s}=this.config;((null===(r=n[s])||void 0===r?void 0:r[i])||[]).find((e=>e.address.toLowerCase()===t.toLowerCase()))||this.removeCollectibleContract(t)}clearIgnoredCollectibles(){this.update({ignoredCollectibles:[]})}checkAndUpdateSingleCollectibleOwnershipStatus(t,e,{userAddress:r,chainId:i}={userAddress:this.config.selectedAddress,chainId:this.config.chainId}){var s;return n(this,void 0,void 0,(function*(){const{address:n,tokenId:o}=t;let a=t.isCurrentlyOwned;try{a=yield this.isCollectibleOwner(r,n,o)}catch(t){if(!t.message.includes("Unable to verify ownership"))throw t}if(t.isCurrentlyOwned=a,!0===e)return t;const{allCollectibles:u}=this.state,c=(null===(s=u[r])||void 0===s?void 0:s[i])||[],l=c.find((t=>t.tokenId===o&&t.address.toLowerCase()===n.toLowerCase()));return l&&(l.isCurrentlyOwned=a,this.updateNestedCollectibleState(c,h,{userAddress:r,chainId:i})),t}))}checkAndUpdateAllCollectiblesOwnershipStatus(){var t;return n(this,void 0,void 0,(function*(){const{allCollectibles:e}=this.state,{chainId:r,selectedAddress:i}=this.config,s=(null===(t=e[i])||void 0===t?void 0:t[r])||[],o=yield Promise.all(s.map((t=>n(this,void 0,void 0,(function*(){var e;return null!==(e=yield this.checkAndUpdateSingleCollectibleOwnershipStatus(t,!0))&&void 0!==e?e:t})))));this.updateNestedCollectibleState(o,h)}))}updateCollectibleFavoriteStatus(t,e,r){var n;const{allCollectibles:i}=this.state,{chainId:s,selectedAddress:o}=this.config,a=(null===(n=i[o])||void 0===n?void 0:n[s])||[],u=a.findIndex((r=>r.address===t&&r.tokenId===e));if(-1===u)return;const c=Object.assign(Object.assign({},a[u]),{favorite:r});a[u]=c,this.updateNestedCollectibleState(a,h)}}r.CollectiblesController=f,r.default=f}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/CollectiblesController.js"}],[1284,{"../BaseControllerV2":1229,"eth-rpc-errors":2531},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.RateLimitController=void 0;const i=t("eth-rpc-errors"),s=t("../BaseControllerV2"),o="RateLimitController",a={requests:{persist:!1,anonymous:!1}};class u extends s.BaseController{constructor({rateLimitTimeout:t=5e3,rateLimitCount:e=1,messenger:r,state:n,implementations:i}){const s={requests:Object.keys(i).reduce(((t,e)=>Object.assign(Object.assign({},t),{[e]:{}})),{})};super({name:o,metadata:a,messenger:r,state:Object.assign(Object.assign({},s),n)}),this.implementations=i,this.rateLimitTimeout=t,this.rateLimitCount=e,this.messagingSystem.registerActionHandler(`${o}:call`,((t,e,...r)=>this.call(t,e,...r)))}call(t,e,...r){return n(this,void 0,void 0,(function*(){if(this.isRateLimited(e,t))throw i.ethErrors.rpc.limitExceeded({message:`"${e}" is currently rate-limited. Please try again later.`});this.recordRequest(e,t);const n=this.implementations[e];if(!n)throw new Error("Invalid api type");return n(...r)}))}isRateLimited(t,e){return this.state.requests[t][e]>=this.rateLimitCount}recordRequest(t,e){this.update((r=>{var n;r.requests[t][e]=(null!==(n=r.requests[t][e])&&void 0!==n?n:0)+1,setTimeout((()=>this.resetRequestCount(t,e)),this.rateLimitTimeout)}))}resetRequestCount(t,e){this.update((r=>{r.requests[t][e]=0}))}}r.RateLimitController=u}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/ratelimit/RateLimitController.js"}],[1234,{"../BaseControllerV2":1229,"eth-rpc-errors":2531,nanoid:1313},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ApprovalController=void 0;const n=t("eth-rpc-errors"),i=t("nanoid"),s=t("../BaseControllerV2"),o="ApprovalController",a={pendingApprovals:{persist:!1,anonymous:!0},pendingApprovalCount:{persist:!1,anonymous:!1}};class u extends s.BaseController{constructor({messenger:t,showApprovalRequest:e,state:r={}}){super({name:o,metadata:a,messenger:t,state:Object.assign(Object.assign({},{pendingApprovals:{},pendingApprovalCount:0}),r)}),this._approvals=new Map,this._origins=new Map,this._showApprovalRequest=e,this.registerMessageHandlers()}registerMessageHandlers(){this.messagingSystem.registerActionHandler(`${o}:clearRequests`,this.clear.bind(this)),this.messagingSystem.registerActionHandler(`${o}:addRequest`,((t,e)=>e?this.addAndShowApprovalRequest(t):this.add(t))),this.messagingSystem.registerActionHandler(`${o}:hasRequest`,this.has.bind(this)),this.messagingSystem.registerActionHandler(`${o}:acceptRequest`,this.accept.bind(this)),this.messagingSystem.registerActionHandler(`${o}:rejectRequest`,this.reject.bind(this))}addAndShowApprovalRequest(t){const e=this._add(t.origin,t.type,t.id,t.requestData);return this._showApprovalRequest(),e}add(t){return this._add(t.origin,t.type,t.id,t.requestData)}get(t){return this.state.pendingApprovals[t]}getApprovalCount(t={}){var e,r;if(!t.origin&&!t.type)throw new Error("Must specify origin, type, or both.");const{origin:n,type:i}=t;if(n&&i)return Number(Boolean(null===(e=this._origins.get(n))||void 0===e?void 0:e.has(i)));if(n)return(null===(r=this._origins.get(n))||void 0===r?void 0:r.size)||0;let s=0;for(const t of Object.values(this.state.pendingApprovals))t.type===i&&(s+=1);return s}getTotalApprovalCount(){return this.state.pendingApprovalCount}has(t={}){var e;const{id:r,origin:n,type:i}=t;if(r){if("string"!=typeof r)throw new Error("May not specify non-string id.");return this._approvals.has(r)}if(i&&"string"!=typeof i)throw new Error("May not specify non-string type.");if(n){if("string"!=typeof n)throw new Error("May not specify non-string origin.");return i?Boolean(null===(e=this._origins.get(n))||void 0===e?void 0:e.has(i)):this._origins.has(n)}if(i){for(const t of Object.values(this.state.pendingApprovals))if(t.type===i)return!0;return!1}throw new Error("Must specify a valid combination of id, origin, and type.")}accept(t,e){this._deleteApprovalAndGetCallbacks(t).resolve(e)}reject(t,e){this._deleteApprovalAndGetCallbacks(t).reject(e)}clear(t){for(const e of this._approvals.keys())this.reject(e,t);this._origins.clear(),this.update((()=>({pendingApprovals:{},pendingApprovalCount:0})))}_add(t,e,r=i.nanoid(),s){var o;if(this._validateAddParams(r,t,e,s),null===(o=this._origins.get(t))||void 0===o?void 0:o.has(e))throw n.ethErrors.rpc.resourceUnavailable(((t,e)=>`Request of type '${e}' already pending for origin ${t}. Please wait.`)(t,e));return new Promise(((n,i)=>{this._approvals.set(r,{resolve:n,reject:i}),this._addPendingApprovalOrigin(t,e),this._addToStore(r,t,e,s)}))}_validateAddParams(t,e,r,i){let s=null;if(t&&"string"==typeof t?this._approvals.has(t)?s=`Approval request with id '${t}' already exists.`:e&&"string"==typeof e?r&&"string"==typeof r?i&&("object"!=typeof i||Array.isArray(i))&&(s="Request data must be a plain object if specified."):s="Must specify non-empty string type.":s="Must specify non-empty string origin.":s="Must specify non-empty string id.",s)throw n.ethErrors.rpc.internal(s)}_addPendingApprovalOrigin(t,e){const r=this._origins.get(t)||new Set;r.add(e),this._origins.has(t)||this._origins.set(t,r)}_addToStore(t,e,r,n){const i={id:t,origin:e,type:r,time:Date.now(),requestData:n||null};this.update((e=>{e.pendingApprovals[t]=i,e.pendingApprovalCount=Object.keys(e.pendingApprovals).length}))}_delete(t){this._approvals.delete(t);const{origin:e,type:r}=this.state.pendingApprovals[t];this._origins.get(e).delete(r),this._isEmptyOrigin(e)&&this._origins.delete(e),this.update((e=>{delete e.pendingApprovals[t],e.pendingApprovalCount=Object.keys(e.pendingApprovals).length}))}_deleteApprovalAndGetCallbacks(t){const e=this._approvals.get(t);if(!e)throw new Error(`Approval request with id '${t}' not found.`);return this._delete(t),e}_isEmptyOrigin(t){var e;return!(null===(e=this._origins.get(t))||void 0===e?void 0:e.size)}}r.ApprovalController=u,r.default=u}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/approval/ApprovalController.js"}],[1291,{"./constants":1249,buffer:2157,"eth-ens-namehash":2444,"eth-rpc-errors":2531,"eth-sig-util":2533,"ethereumjs-util":2597,"ethjs-unit":2649,"fast-deep-equal":4371,jsonschema:4818,"multiformats/cid":5306},function(){with(this)return function(){"use strict";return function(t,e,r){(function(e){(function(){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.isValidJson=r.isNonEmptyArray=r.hasProperty=r.isPlainObject=r.getFormattedIpfsUrl=r.addUrlProtocolPrefix=r.getIpfsCIDv1AndPath=r.removeIpfsProtocolPrefix=r.validateMinimumIncrease=r.isGasPriceValue=r.isFeeMarketEIP1559Values=r.validateGasValues=r.getIncreasedPriceFromExisting=r.getIncreasedPriceHex=r.convertPriceToDecimal=r.isEIP1559Transaction=r.query=r.normalizeEnsName=r.timeoutFetch=r.handleFetch=r.successfulFetch=r.isSmartContractCode=r.validateTokenToWatch=r.validateTypedSignMessageDataV3=r.validateTypedSignMessageDataV1=r.validateSignMessageData=r.normalizeMessageData=r.validateTransaction=r.isValidHexAddress=r.toChecksumHexAddress=r.safelyExecuteWithTimeout=r.safelyExecute=r.normalizeTransaction=r.toHex=r.fromHex=r.hexToText=r.hexToBN=r.handleTransactionFetch=r.getEtherscanApiUrl=r.getBuyURL=r.weiHexToGweiDec=r.gweiDecToWEIBN=r.fractionBN=r.BNToHex=void 0;const s=t("ethereumjs-util"),o=t("ethjs-unit"),a=t("eth-rpc-errors"),u=i(t("eth-ens-namehash")),c=t("eth-sig-util"),l=t("jsonschema"),h=t("multiformats/cid"),d=i(t("fast-deep-equal")),f=t("./constants"),p=/^[0-9A-Fa-f]+$/gu,m={data:t=>s.addHexPrefix(t),from:t=>s.addHexPrefix(t).toLowerCase(),gas:t=>s.addHexPrefix(t),gasPrice:t=>s.addHexPrefix(t),nonce:t=>s.addHexPrefix(t),to:t=>s.addHexPrefix(t).toLowerCase(),value:t=>s.addHexPrefix(t),maxFeePerGas:t=>s.addHexPrefix(t),maxPriorityFeePerGas:t=>s.addHexPrefix(t),estimatedBaseFee:t=>s.addHexPrefix(t)};function g(t,e){let r="api";t!==f.MAINNET&&(r=`api-${t}`);let n=`${`https://${r}.etherscan.io`}/api?`;for(const t in e)e[t]&&(n+=`${t}=${e[t]}&`);return n+="tag=latest&page=1",n}function y(t){return new s.BN(s.stripHexPrefix(t),16)}function v(t,{allowNonPrefixed:e=!0}={}){const r=e?s.addHexPrefix(t):t;return!!s.isHexString(r)&&s.isValidAddress(r)}function b(t,e){return n(this,void 0,void 0,(function*(){const r=yield fetch(t,e);if(!r.ok)throw new Error(`Fetch failed with status '${r.status}' for request '${t}'`);return r}))}function w(t,e){return n(this,void 0,void 0,(function*(){const r=yield b(t,e);return yield r.json()}))}r.BNToHex=function(t){return s.addHexPrefix(t.toString(16))},r.fractionBN=function(t,e,r){const n=new s.BN(e),i=new s.BN(r);return t.mul(n).div(i)},r.gweiDecToWEIBN=function(t){if(Number.isNaN(t))return new s.BN(0);const e=t.toString().split("."),r=e[0]||"0";let n=e[1]||"";if(!n)return o.toWei(r,"gwei");if(n.length<=9)return o.toWei(`${r}.${n}`,"gwei");const i=n.slice(9)[0];n=n.slice(0,9);let a=o.toWei(`${r}.${n}`,"gwei");return Number(i)>=5&&(a=a.add(new s.BN(1))),a},r.weiHexToGweiDec=function(t){const e=new s.BN(s.stripHexPrefix(t),16);return o.fromWei(e,"gwei").toString(10)},r.getBuyURL=function(t="1",e,r=5){switch(t){case"1":return`https://buy.coinbase.com/?code=9ec56d01-7e81-5017-930c-513daa27bb6a&amount=${r}&address=${e}&crypto_currency=ETH`;case"3":return"https://faucet.metamask.io/";case"4":return"https://www.rinkeby.io/";case"5":return"https://goerli-faucet.slock.it/";case"42":return"https://github.com/kovan-testnet/faucet";default:return undefined}},r.getEtherscanApiUrl=g,r.handleTransactionFetch=function(t,e,r,i){return n(this,void 0,void 0,(function*(){const n={module:"account",address:e,startBlock:null==i?void 0:i.fromBlock,apikey:null==i?void 0:i.etherscanApiKey,offset:r.toString(),order:"desc"},s=w(g(t,Object.assign(Object.assign({},n),{action:"txlist"}))),o=w(g(t,Object.assign(Object.assign({},n),{action:"tokentx"})));let[a,u]=yield Promise.all([s,o]);return("0"===a.status||a.result.length<=0)&&(a={status:a.status,result:[]}),("0"===u.status||u.result.length<=0)&&(u={status:u.status,result:[]}),[a,u]}))},r.hexToBN=y,r.hexToText=function(t){try{const r=s.stripHexPrefix(t);return e.from(r,"hex").toString("utf8")}catch(e){return t}},r.fromHex=function(t){return s.BN.isBN(t)?t:new s.BN(y(t).toString(10))},r.toHex=function(t){return"string"==typeof t&&s.isHexString(t)?t:`0x${s.BN.isBN(t)?t.toString(16):new s.BN(t.toString(),10).toString(16)}`},r.normalizeTransaction=function(t){const e={from:""};let r;for(r in m)t[r]&&(e[r]=m[r](t[r]));return e},r.safelyExecute=function(t,e=!1,r){return n(this,void 0,void 0,(function*(){try{return yield t()}catch(t){return e&&console.error(t),null==r||r(t),undefined}}))},r.safelyExecuteWithTimeout=function(t,e=!1,r=500){return n(this,void 0,void 0,(function*(){try{return yield Promise.race([t(),new Promise(((t,e)=>setTimeout((()=>{e(new Error("timeout"))}),r)))])}catch(t){return e&&console.error(t),undefined}}))},r.toChecksumHexAddress=function(t){const e=s.addHexPrefix(t);return s.isHexString(e)?s.toChecksumAddress(e):e},r.isValidHexAddress=v,r.validateTransaction=function(t){if(!t.from||"string"!=typeof t.from||!v(t.from))throw new Error(`Invalid "from" address: ${t.from} must be a valid string.`);if("0x"===t.to||t.to===undefined){if(!t.data)throw new Error(`Invalid "to" address: ${t.to} must be a valid string.`);delete t.to}else if(t.to!==undefined&&!v(t.to))throw new Error(`Invalid "to" address: ${t.to} must be a valid string.`);if(t.value!==undefined){const e=t.value.toString();if(e.includes("-"))throw new Error(`Invalid "value": ${e} is not a positive number.`);if(e.includes("."))throw new Error(`Invalid "value": ${e} number must be denominated in wei.`);const r=parseInt(t.value,10);if(!(Number.isFinite(r)&&!Number.isNaN(r)&&!isNaN(Number(e))&&Number.isSafeInteger(r)))throw new Error(`Invalid "value": ${e} number must be a valid number.`)}},r.normalizeMessageData=function(t){try{const e=s.stripHexPrefix(t);if(e.match(p))return s.addHexPrefix(e)}catch(t){}return s.bufferToHex(e.from(t,"utf8"))},r.validateSignMessageData=function(t){const{from:e,data:r}=t;if(!e||"string"!=typeof e||!v(e))throw new Error(`Invalid "from" address: ${e} must be a valid string.`);if(!r||"string"!=typeof r)throw new Error(`Invalid message "data": ${r} must be a valid string.`)},r.validateTypedSignMessageDataV1=function(t){if(!t.from||"string"!=typeof t.from||!v(t.from))throw new Error(`Invalid "from" address: ${t.from} must be a valid string.`);if(!t.data||!Array.isArray(t.data))throw new Error(`Invalid message "data": ${t.data} must be a valid array.`);try{c.typedSignatureHash(t.data)}catch(t){throw new Error("Expected EIP712 typed data.")}},r.validateTypedSignMessageDataV3=function(t){if(!t.from||"string"!=typeof t.from||!v(t.from))throw new Error(`Invalid "from" address: ${t.from} must be a valid string.`);if(!t.data||"string"!=typeof t.data)throw new Error(`Invalid message "data": ${t.data} must be a valid array.`);let e;try{e=JSON.parse(t.data)}catch(t){throw new Error("Data must be passed as a valid JSON string.")}if(l.validate(e,c.TYPED_MESSAGE_SCHEMA).errors.length>0)throw new Error("Data must conform to EIP-712 schema. See https://git.io/fNtcx.")},r.validateTokenToWatch=function(t){const{address:e,symbol:r,decimals:n}=t;if(!e||!r||void 0===n)throw a.ethErrors.rpc.invalidParams("Must specify address, symbol, and decimals.");if("string"!=typeof r)throw a.ethErrors.rpc.invalidParams("Invalid symbol: not a string.");if(r.length>11)throw a.ethErrors.rpc.invalidParams(`Invalid symbol "${r}": longer than 11 characters.`);const i=parseInt(n,10);if(isNaN(i)||i>36||i<0)throw a.ethErrors.rpc.invalidParams(`Invalid decimals "${n}": must be 0 <= 36.`);if(!v(e))throw a.ethErrors.rpc.invalidParams(`Invalid address "${e}".`)},r.isSmartContractCode=function(t){return!!t&&("0x"!==t&&"0x0"!==t)},r.successfulFetch=b,r.handleFetch=w,r.timeoutFetch=function(t,e,r=500){return n(this,void 0,void 0,(function*(){return Promise.race([b(t,e),new Promise(((t,e)=>setTimeout((()=>{e(new Error("timeout"))}),r)))])}))},r.normalizeEnsName=function(t){if(t&&"string"==typeof t)try{const e=u.default.normalize(t.trim());if(e.match(/^(([\w\d-]+)\.)*[\w\d-]{7,}\.(eth|test)$/u))return e}catch(t){}return null},r.query=function(t,e,r=[]){return new Promise(((n,i)=>{const s=(t,e)=>{t?i(t):n(e)};"function"==typeof t[e]?t[e](...r,s):t.sendAsync({method:e,params:r},s)}))};r.isEIP1559Transaction=t=>{const e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);return e(t,"maxFeePerGas")&&e(t,"maxPriorityFeePerGas")};r.convertPriceToDecimal=t=>parseInt(t===undefined?"0x0":t,16);r.getIncreasedPriceHex=(t,e)=>s.addHexPrefix(`${parseInt(""+t*e,10).toString(16)}`);r.getIncreasedPriceFromExisting=(t,e)=>r.getIncreasedPriceHex(r.convertPriceToDecimal(t),e);r.validateGasValues=t=>{Object.keys(t).forEach((e=>{const r=t[e];if("string"!=typeof r||!s.isHexString(r))throw new TypeError(`expected hex string for ${e} but received: ${r}`)}))};r.isFeeMarketEIP1559Values=t=>{var e,r;return(null===(e=t)||void 0===e?void 0:e.maxFeePerGas)!==undefined||(null===(r=t)||void 0===r?void 0:r.maxPriorityFeePerGas)!==undefined};function _(t){if(t.startsWith("ipfs://ipfs/"))return t.replace("ipfs://ipfs/","");if(t.startsWith("ipfs://"))return t.replace("ipfs://","");throw new Error("this method should not be used with non ipfs urls")}function k(t){const e=_(t),r=e.indexOf("/"),n=-1!==r?e.substring(0,r):e,i=-1!==r?e.substring(r):undefined;return{cid:h.CID.parse(n).toV1().toString(),path:i}}function E(t){return t.match(/(^http:\/\/)|(^https:\/\/)/u)?t:`https://${t}`}r.isGasPriceValue=t=>{var e;return(null===(e=t)||void 0===e?void 0:e.gasPrice)!==undefined},r.validateMinimumIncrease=function(t,e){const n=r.convertPriceToDecimal(t),i=r.convertPriceToDecimal(e);if(n>=i)return t;throw new Error(`The proposed value: ${n} should meet or exceed the minimum value: ${i}`)},r.removeIpfsProtocolPrefix=_,r.getIpfsCIDv1AndPath=k,r.addUrlProtocolPrefix=E,r.getFormattedIpfsUrl=function(t,e,r){const{host:n,protocol:i,origin:s}=new URL(E(t));if(r){const{cid:t,path:r}=k(e);return`${i}//${t}.ipfs.${n}${null!=r?r:""}`}return`${s}/ipfs/${_(e)}`},r.isPlainObject=function(t){return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)};r.hasProperty=(t,e)=>Reflect.hasOwnProperty.call(t,e),r.isNonEmptyArray=function(t){return Array.isArray(t)&&t.length>0},r.isValidJson=function(t){try{return d.default(t,JSON.parse(JSON.stringify(t)))}catch(t){return!1}}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/util.js"}],[1245,{"../BaseControllerV2":1229,"../apis/token-service":1233,"../util":1291,"@metamask/contract-metadata":1011,"abort-controller":1745,"async-mutex":1803},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenListController=void 0;const o=s(t("@metamask/contract-metadata")),a=t("async-mutex"),u=s(t("abort-controller")),c=t("../BaseControllerV2"),l=t("../util"),h=t("../apis/token-service"),d={tokenList:{persist:!0,anonymous:!0},tokensChainsCache:{persist:!0,anonymous:!0}},f={tokenList:{},tokensChainsCache:{}};class p extends c.BaseController{constructor({chainId:t,useStaticTokenList:e,onNetworkStateChange:r,onPreferencesStateChange:i,interval:s=36e5,cacheRefreshThreshold:o=18e5,messenger:c,state:l}){super({name:"TokenListController",metadata:d,messenger:c,state:Object.assign(Object.assign({},f),l)}),this.mutex=new a.Mutex,this.intervalDelay=s,this.cacheRefreshThreshold=o,this.chainId=t,this.useStaticTokenList=e,this.abortController=new u.default,r((t=>n(this,void 0,void 0,(function*(){this.chainId!==t.provider.chainId&&(this.abortController.abort(),this.abortController=new u.default,this.chainId=t.provider.chainId,yield this.restart())})))),i((t=>n(this,void 0,void 0,(function*(){this.useStaticTokenList!==t.useStaticTokenList&&(this.abortController.abort(),this.abortController=new u.default,this.useStaticTokenList=t.useStaticTokenList,yield this.restart())}))))}start(){return n(this,void 0,void 0,(function*(){yield this.startPolling()}))}restart(){return n(this,void 0,void 0,(function*(){this.stopPolling(),yield this.startPolling()}))}stop(){this.stopPolling()}destroy(){super.destroy(),this.stopPolling()}stopPolling(){this.intervalId&&clearInterval(this.intervalId)}startPolling(){return n(this,void 0,void 0,(function*(){yield l.safelyExecute((()=>this.fetchTokenList())),this.intervalId=setInterval((()=>n(this,void 0,void 0,(function*(){yield l.safelyExecute((()=>this.fetchTokenList()))}))),this.intervalDelay)}))}fetchTokenList(){return n(this,void 0,void 0,(function*(){this.useStaticTokenList?yield this.fetchFromStaticTokenList():yield this.fetchFromDynamicTokenList()}))}fetchFromStaticTokenList(){return n(this,void 0,void 0,(function*(){const t={};for(const e in o.default){const r=o.default[e],{erc20:n,logo:s}=r,a=i(r,["erc20","logo"]);n&&(t[e]=Object.assign(Object.assign({},a),{address:e,iconUrl:s,occurrences:null}))}this.update((()=>({tokenList:t,tokensChainsCache:{}})))}))}fetchFromDynamicTokenList(){return n(this,void 0,void 0,(function*(){const t=yield this.mutex.acquire();try{const e=yield l.safelyExecute((()=>this.fetchFromCache())),r=this.state,{tokensChainsCache:n}=r,s=i(r,["tokensChainsCache"]),o={};if(e)for(const t of e)o[t.address]=t;else{const t=yield l.safelyExecute((()=>h.fetchTokenList(this.chainId,this.abortController.signal)));if(!t){const t=n[this.chainId]?n[this.chainId].data:[];for(const e of t)o[e.address]=e;return void this.update((()=>Object.assign(Object.assign({},s),{tokenList:o,tokensChainsCache:n})))}const e=t.filter((t=>t.occurrences&&t.occurrences>=2)),r=e.map((t=>t.symbol)),i=[...new Set(r.filter(((t,e)=>r.indexOf(t)!==e)))],a=e.filter((t=>!i.includes(t.symbol)));for(const t of a)o[t.address]=t}const a=Object.assign(Object.assign({},n),{[this.chainId]:{timestamp:Date.now(),data:Object.values(o)}});this.update((()=>Object.assign(Object.assign({},s),{tokenList:o,tokensChainsCache:a})))}finally{t()}}))}fetchFromCache(){return n(this,void 0,void 0,(function*(){const{tokensChainsCache:t}=this.state,e=t[this.chainId],r=Date.now();return(null==e?void 0:e.data)&&r-(null==e?void 0:e.timestamp)<this.cacheRefreshThreshold?e.data:null}))}fetchTokenMetadata(t){return n(this,void 0,void 0,(function*(){const e=yield this.mutex.acquire();try{return yield h.fetchTokenMetadata(this.chainId,t,this.abortController.signal)}finally{e()}}))}}r.TokenListController=p,r.default=p}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/TokenListController.js"}],[1247,{"../BaseController":1228,"../constants":1249,"../util":1291,"@metamask/contract-metadata":1011,"@metamask/metamask-eth-abis":1184,"async-mutex":1803,ethers:2621,events:2158,uuid:6087},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokensController=void 0;const s=t("events"),o=i(t("@metamask/contract-metadata")),a=t("@metamask/metamask-eth-abis"),u=t("uuid"),c=t("async-mutex"),l=t("ethers"),h=t("../BaseController"),d=t("../util"),f=t("../constants");var p;!function(t){t.accepted="accepted",t.failed="failed",t.pending="pending",t.rejected="rejected"}(p||(p={}));class m extends h.BaseController{constructor({onPreferencesStateChange:t,onNetworkStateChange:e,config:r,state:n}){super(r,n),this.mutex=new c.Mutex,this.hub=new s.EventEmitter,this.name="TokensController",this.defaultConfig=Object.assign({networkType:f.MAINNET,selectedAddress:"",chainId:"",provider:undefined},r),this.defaultState=Object.assign({allTokens:{},allIgnoredTokens:{},ignoredTokens:[],suggestedAssets:[],tokens:[]},n),this.initialize(),t((({selectedAddress:t})=>{var e,r;const{allTokens:n,allIgnoredTokens:i}=this.state,{chainId:s}=this.config;this.configure({selectedAddress:t}),this.update({tokens:(null===(e=n[s])||void 0===e?void 0:e[t])||[],ignoredTokens:(null===(r=i[s])||void 0===r?void 0:r[t])||[]})})),e((({provider:t})=>{var e,r;const{allTokens:n,allIgnoredTokens:i}=this.state,{selectedAddress:s}=this.config,{chainId:o}=t;this.configure({chainId:o}),this.ethersProvider=this._instantiateNewEthersProvider(),this.update({tokens:(null===(e=n[o])||void 0===e?void 0:e[s])||[],ignoredTokens:(null===(r=i[o])||void 0===r?void 0:r[s])||[]})}))}failSuggestedAsset(t,e){const r=Object.assign(Object.assign({},t),{status:p.failed,error:e});this.hub.emit(`${t.id}:finished`,r)}_instantiateNewEthersProvider(){var t;return new l.ethers.providers.Web3Provider(null===(t=this.config)||void 0===t?void 0:t.provider)}addToken(t,e,r,i){return n(this,void 0,void 0,(function*(){const n=yield this.mutex.acquire();try{t=d.toChecksumHexAddress(t);const{tokens:s,ignoredTokens:o}=this.state,a=yield this._detectIsERC721(t),u={address:t,symbol:e,decimals:r,image:i,isERC721:a},c=s.find((e=>e.address.toLowerCase()===t.toLowerCase()));if(c){const t=s.indexOf(c);s[t]=u}else s.push(u);const l=o.filter((e=>e.toLowerCase()!==t.toLowerCase())),{newAllTokens:h,newAllIgnoredTokens:f}=this._getNewAllTokensState(s,l);return this.update({allTokens:h,tokens:s,allIgnoredTokens:f,ignoredTokens:l}),s}finally{n()}}))}addTokens(t){return n(this,void 0,void 0,(function*(){const e=yield this.mutex.acquire(),{tokens:r,ignoredTokens:i}=this.state;try{t=yield Promise.all(t.map((t=>n(this,void 0,void 0,(function*(){return t.isERC721=yield this._detectIsERC721(t.address),t})))));let s=i;t.forEach((t=>{const{address:e,symbol:n,decimals:i,image:o,isERC721:a}=t,u=d.toChecksumHexAddress(e),c={address:u,symbol:n,decimals:i,image:o,isERC721:a},l=r.find((t=>t.address.toLowerCase()===u.toLowerCase()));if(l){const t=r.indexOf(l);r[t]=c}else r.push(c);s=s.filter((t=>t.toLowerCase()!==e.toLowerCase()))}));const{newAllTokens:o,newAllIgnoredTokens:a}=this._getNewAllTokensState(r,s);return this.update({tokens:r,allTokens:o,allIgnoredTokens:a,ignoredTokens:s}),r}finally{e()}}))}updateTokenType(t){return n(this,void 0,void 0,(function*(){const e=yield this._detectIsERC721(t),{tokens:r}=this.state,n=r.findIndex((e=>e.address.toLowerCase()===t.toLowerCase()));return r[n].isERC721=e,this.update({tokens:r}),r[n]}))}_detectIsERC721(t){var e,r;return n(this,void 0,void 0,(function*(){const n=d.toChecksumHexAddress(t);if(!0===(null===(e=o.default[n])||void 0===e?void 0:e.erc721))return Promise.resolve(!0);if(!0===(null===(r=o.default[n])||void 0===r?void 0:r.erc20))return Promise.resolve(!1);const i=yield this._createEthersContract(t,a.abiERC721,this.ethersProvider);try{return yield i.supportsInterface(f.ERC721_INTERFACE_ID)}catch(t){return!1}}))}_createEthersContract(t,e,r){return n(this,void 0,void 0,(function*(){return yield new l.ethers.Contract(t,e,r)}))}_generateRandomId(){return u.v1()}watchAsset(t,e){return n(this,void 0,void 0,(function*(){const r={asset:t,id:this._generateRandomId(),status:p.pending,time:Date.now(),type:e};try{if("ERC20"!==e)throw new Error(`Asset of type ${e} not supported`);d.validateTokenToWatch(t)}catch(t){return this.failSuggestedAsset(r,t),Promise.reject(t)}const n=new Promise(((t,e)=>{this.hub.once(`${r.id}:finished`,(r=>{switch(r.status){case p.accepted:return t(r.asset.address);case p.rejected:return e(new Error("User rejected to watch the asset."));case p.failed:return e(new Error(r.error.message));default:return e(new Error(`Unknown status: ${r.status}`))}}))})),{suggestedAssets:i}=this.state;return i.push(r),this.update({suggestedAssets:[...i]}),this.hub.emit("pendingSuggestedAsset",r),{result:n,suggestedAssetMeta:r}}))}acceptWatchAsset(t){return n(this,void 0,void 0,(function*(){const{suggestedAssets:e}=this.state,r=e.findIndex((({id:e})=>t===e)),n=e[r];try{if("ERC20"!==n.type)throw new Error(`Asset of type ${n.type} not supported`);{const{address:t,symbol:e,decimals:r,image:i}=n.asset;yield this.addToken(t,e,r,i),n.status=p.accepted,this.hub.emit(`${n.id}:finished`,n)}}catch(t){this.failSuggestedAsset(n,t)}const i=e.filter((({id:e})=>e!==t));this.update({suggestedAssets:[...i]})}))}rejectWatchAsset(t){const{suggestedAssets:e}=this.state,r=e.findIndex((({id:e})=>t===e)),n=e[r];if(!n)return;n.status=p.rejected,this.hub.emit(`${n.id}:finished`,n);const i=e.filter((({id:e})=>e!==t));this.update({suggestedAssets:[...i]})}removeAndIgnoreToken(t){t=d.toChecksumHexAddress(t);const{tokens:e,ignoredTokens:r}=this.state,n=r.find((e=>e.toLowerCase()===t.toLowerCase())),i=e.filter((e=>e.address.toLowerCase()!==t.toLowerCase()||(!n&&r.push(t),!1))),{newAllTokens:s,newAllIgnoredTokens:o}=this._getNewAllTokensState(i,r);this.update({allTokens:s,tokens:i,allIgnoredTokens:o,ignoredTokens:r})}_getNewAllTokensState(t,e){const{allTokens:r,allIgnoredTokens:n}=this.state,{chainId:i,selectedAddress:s}=this.config,o=r[i],a=n[i],u=Object.assign(Object.assign({},o),{[s]:t}),c=Object.assign(Object.assign({},a),{[s]:e});return{newAllTokens:Object.assign(Object.assign({},r),{[i]:u}),newAllIgnoredTokens:Object.assign(Object.assign({},n),{[i]:c})}}clearIgnoredTokens(){this.update({ignoredTokens:[],allIgnoredTokens:{}})}}r.TokensController=m,r.default=m}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/TokensController.js"}],[1287,{"../BaseController":1228,"../util":1291,"eth-phishing-detect/src/config.json":2525,"eth-phishing-detect/src/detector":2526,"punycode/":5598},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PhishingController=void 0;const s=t("punycode/"),o=i(t("eth-phishing-detect/src/config.json")),a=i(t("eth-phishing-detect/src/detector")),u=t("../BaseController"),c=t("../util");class l extends u.BaseController{constructor(t,e){super(t,e),this.configUrl="https://cdn.jsdelivr.net/gh/MetaMask/eth-phishing-detect@master/src/config.json",this.name="PhishingController",this.defaultConfig={interval:36e5},this.defaultState={phishing:o.default,whitelist:[]},this.detector=new a.default(this.defaultState.phishing),this.initialize(),this.poll()}poll(t){return n(this,void 0,void 0,(function*(){t&&this.configure({interval:t},!1,!1),this.handle&&clearTimeout(this.handle),yield c.safelyExecute((()=>this.updatePhishingLists())),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}test(t){const e=s.toASCII(t);return-1===this.state.whitelist.indexOf(e)&&this.detector.check(e).result}bypass(t){const e=s.toASCII(t),{whitelist:r}=this.state;-1===r.indexOf(e)&&this.update({whitelist:[...r,e]})}updatePhishingLists(){return n(this,void 0,void 0,(function*(){if(this.disabled)return;const t=yield this.queryConfig(this.configUrl);t&&(this.detector=new a.default(t),this.update({phishing:t}))}))}queryConfig(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(t,{cache:"no-cache"});switch(e.status){case 200:return yield e.json();case 304:case 403:return null;default:throw new Error(`Fetch failed with status '${e.status}' for request '${t}'`)}}))}}r.PhishingController=l,r.default=l}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/third-party/PhishingController.js"}],[1270,{"../BaseController":1228,"../constants":1249,"async-mutex":1803,"eth-json-rpc-infura/src/createProvider":2475,"eth-query":2527,"web3-provider-engine/subproviders/provider":6168,"web3-provider-engine/zero":6178},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkController=r.NetworksChainId=void 0;const o=s(t("eth-query")),a=s(t("web3-provider-engine/subproviders/provider")),u=s(t("eth-json-rpc-infura/src/createProvider")),c=s(t("web3-provider-engine/zero")),l=t("async-mutex"),h=t("../BaseController"),d=t("../constants");var f;!function(t){t.mainnet="1",t.kovan="42",t.rinkeby="4",t.goerli="5",t.ropsten="3",t.localhost="",t.rpc="",t.optimism="10",t.optimismTest="69"}(f=r.NetworksChainId||(r.NetworksChainId={}));class p extends h.BaseController{constructor(t,e){super(t,e),this.internalProviderConfig={},this.mutex=new l.Mutex,this.name="NetworkController",this.defaultState={network:"loading",isCustomNetwork:!1,provider:{type:d.MAINNET,chainId:f.mainnet},properties:{isEIP1559Compatible:!1}},this.initialize(),this.getEIP1559Compatibility()}initializeProvider(t,e,r,n,i){switch(this.update({isCustomNetwork:this.getIsCustomNetwork(r)}),t){case"kovan":case d.MAINNET:case"rinkeby":case"goerli":case"optimism":case"optimismTest":case"ropsten":this.setupInfuraProvider(t);break;case"localhost":this.setupStandardProvider("http://localhost:8545");break;case d.RPC:e&&this.setupStandardProvider(e,r,n,i);break;default:throw new Error(`Unrecognized network type: '${t}'`)}}refreshNetwork(){this.update({network:"loading",properties:{}});const{rpcTarget:t,type:e,chainId:r,ticker:n}=this.state.provider;this.initializeProvider(e,t,r,n),this.lookupNetwork()}registerProvider(){this.provider.on("error",this.verifyNetwork.bind(this)),this.ethQuery=new o.default(this.provider)}setupInfuraProvider(t){const e=u.default({network:t,projectId:this.config.infuraProjectId}),r=new a.default(e),n=Object.assign(Object.assign({},this.internalProviderConfig),{dataSubprovider:r,engineParams:{blockTrackerProvider:e,pollingInterval:12e3}});this.updateProvider(c.default(n))}getIsCustomNetwork(t){return t!==f.mainnet&&t!==f.kovan&&t!==f.rinkeby&&t!==f.goerli&&t!==f.ropsten&&t!==f.localhost}setupStandardProvider(t,e,r,n){const i=Object.assign(Object.assign({},this.internalProviderConfig),{chainId:e,engineParams:{pollingInterval:12e3},nickname:n,rpcUrl:t,ticker:r});this.updateProvider(c.default(i))}updateProvider(t){this.safelyStopProvider(this.provider),this.provider=t,this.registerProvider()}safelyStopProvider(t){setTimeout((()=>{null==t||t.stop()}),500)}verifyNetwork(){"loading"===this.state.network&&this.lookupNetwork()}set providerConfig(t){this.internalProviderConfig=t;const{type:e,rpcTarget:r,chainId:n,ticker:i,nickname:s}=this.state.provider;this.initializeProvider(e,r,n,i,s),this.registerProvider(),this.lookupNetwork()}get providerConfig(){throw new Error("Property only used for setting")}lookupNetwork(){return n(this,void 0,void 0,(function*(){if(!this.ethQuery||!this.ethQuery.sendAsync)return;const t=yield this.mutex.acquire();this.ethQuery.sendAsync({method:"net_version"},((e,r)=>{this.update({network:e?"loading":r}),t()}))}))}setProviderType(t){const e=this.state.provider,{rpcTarget:r,chainId:n,nickname:s}=e,o=i(e,["rpcTarget","chainId","nickname"]);this.update({provider:Object.assign(Object.assign({},o),{type:t,ticker:"ETH",chainId:f[t]})}),this.refreshNetwork()}setRpcTarget(t,e,r,n){this.update({provider:Object.assign(Object.assign({},this.state.provider),{type:d.RPC,ticker:r,rpcTarget:t,chainId:e,nickname:n})}),this.refreshNetwork()}getEIP1559Compatibility(){var t;const{properties:e={}}=this.state;return e.isEIP1559Compatible||"function"!=typeof(null===(t=this.ethQuery)||void 0===t?void 0:t.sendAsync)?Promise.resolve(!0):new Promise(((t,r)=>{this.ethQuery.sendAsync({method:"eth_getBlockByNumber",params:["latest",!1]},((n,i)=>{if(n)r(n);else{const r=void 0!==i.baseFeePerGas;e.isEIP1559Compatible!==r&&this.update({properties:{isEIP1559Compatible:r}}),t(r)}}))}))}}r.NetworkController=p,r.default=p}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/network/NetworkController.js"}],[1250,{"../BaseControllerV2":1229,"../util":1291,"./determineGasFeeCalculations":1251,"./fetchGasEstimatesViaEthFeeHistory":1253,"./gas-util":1263,"eth-query":2527,"ethereumjs-util":2597,uuid:6087},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.GasFeeController=r.GAS_ESTIMATE_TYPES=r.LEGACY_GAS_PRICES_API_URL=void 0;const s=i(t("eth-query")),o=t("uuid"),a=t("ethereumjs-util"),u=t("../BaseControllerV2"),c=t("../util"),l=t("./gas-util"),h=i(t("./determineGasFeeCalculations")),d=i(t("./fetchGasEstimatesViaEthFeeHistory"));r.LEGACY_GAS_PRICES_API_URL="https://api.metaswap.codefi.network/gasPrices",r.GAS_ESTIMATE_TYPES={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};const f={gasFeeEstimates:{persist:!0,anonymous:!1},estimatedGasFeeTimeBounds:{persist:!0,anonymous:!1},gasEstimateType:{persist:!0,anonymous:!1}},p={gasFeeEstimates:{},estimatedGasFeeTimeBounds:{},gasEstimateType:r.GAS_ESTIMATE_TYPES.NONE};class m extends u.BaseController{constructor({interval:t=15e3,messenger:e,state:i,getCurrentNetworkEIP1559Compatibility:o,getCurrentAccountEIP1559Compatibility:a,getChainId:u,getCurrentNetworkLegacyGasAPICompatibility:c,getProvider:l,onNetworkStateChange:h,legacyAPIEndpoint:d=r.LEGACY_GAS_PRICES_API_URL,EIP1559APIEndpoint:m="https://mock-gas-server.herokuapp.com/",clientId:g}){super({name:"GasFeeController",metadata:f,messenger:e,state:Object.assign(Object.assign({},p),i)}),this.intervalDelay=t,this.pollTokens=new Set,this.getCurrentNetworkEIP1559Compatibility=o,this.getCurrentNetworkLegacyGasAPICompatibility=c,this.getCurrentAccountEIP1559Compatibility=a,this.EIP1559APIEndpoint=m,this.legacyAPIEndpoint=d,this.getChainId=u,this.currentChainId=this.getChainId();const y=l();this.ethQuery=new s.default(y),this.clientId=g,h((()=>n(this,void 0,void 0,(function*(){const t=l(),e=this.getChainId();this.ethQuery=new s.default(t),this.currentChainId!==e&&(this.currentChainId=e,yield this.resetPolling())}))))}resetPolling(){return n(this,void 0,void 0,(function*(){if(0!==this.pollTokens.size){const t=Array.from(this.pollTokens);this.stopPolling(),yield this.getGasFeeEstimatesAndStartPolling(t[0]),t.slice(1).forEach((t=>{this.pollTokens.add(t)}))}}))}fetchGasFeeEstimates(t){return n(this,void 0,void 0,(function*(){return yield this._fetchGasFeeEstimateData(t)}))}getGasFeeEstimatesAndStartPolling(t){return n(this,void 0,void 0,(function*(){const e=t||o.v1();return this.pollTokens.add(e),1===this.pollTokens.size&&(yield this._fetchGasFeeEstimateData(),this._poll()),e}))}_fetchGasFeeEstimateData(t={}){return n(this,void 0,void 0,(function*(){const{shouldUpdateState:e=!0}=t;let r;const n=this.getCurrentNetworkLegacyGasAPICompatibility();let i=this.getChainId();"string"==typeof i&&a.isHexString(i)&&(i=parseInt(i,16));try{r=yield this.getEIP1559Compatibility()}catch(t){console.error(t),r=!1}const s=yield h.default({isEIP1559Compatible:r,isLegacyGasAPICompatible:n,fetchGasEstimates:l.fetchGasEstimates,fetchGasEstimatesUrl:this.EIP1559APIEndpoint.replace("<chain_id>",`${i}`),fetchGasEstimatesViaEthFeeHistory:d.default,fetchLegacyGasPriceEstimates:l.fetchLegacyGasPriceEstimates,fetchLegacyGasPriceEstimatesUrl:this.legacyAPIEndpoint.replace("<chain_id>",`${i}`),fetchEthGasPriceEstimate:l.fetchEthGasPriceEstimate,calculateTimeEstimate:l.calculateTimeEstimate,clientId:this.clientId,ethQuery:this.ethQuery});return e&&this.update((t=>{t.gasFeeEstimates=s.gasFeeEstimates,t.estimatedGasFeeTimeBounds=s.estimatedGasFeeTimeBounds,t.gasEstimateType=s.gasEstimateType})),s}))}disconnectPoller(t){this.pollTokens.delete(t),0===this.pollTokens.size&&this.stopPolling()}stopPolling(){this.intervalId&&clearInterval(this.intervalId),this.pollTokens.clear(),this.resetState()}destroy(){super.destroy(),this.stopPolling()}_poll(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((()=>n(this,void 0,void 0,(function*(){yield c.safelyExecute((()=>this._fetchGasFeeEstimateData()))}))),this.intervalDelay)}resetState(){this.update((()=>p))}getEIP1559Compatibility(){var t,e;return n(this,void 0,void 0,(function*(){const r=yield this.getCurrentNetworkEIP1559Compatibility(),n=null===(e=null===(t=this.getCurrentAccountEIP1559Compatibility)||void 0===t?void 0:t.call(this))||void 0===e||e;return r&&n}))}getTimeEstimate(t,e){return this.state.gasFeeEstimates&&this.state.gasEstimateType===r.GAS_ESTIMATE_TYPES.FEE_MARKET?l.calculateTimeEstimate(t,e,this.state.gasFeeEstimates):{}}}r.GasFeeController=m,r.default=m}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/GasFeeController.js"}],[1265,{"../BaseController":1228,"../util":1291,"async-mutex":1803,"eth-keyring-controller":2518,"eth-sig-util":2533,"ethereumjs-util":2597,"ethereumjs-wallet":1297},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){n===undefined&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===undefined&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringController=r.SignTypedDataVersion=r.AccountImportStrategy=r.KeyringTypes=void 0;const u=t("ethereumjs-util"),c=t("eth-sig-util"),l=s(t("ethereumjs-wallet")),h=a(t("eth-keyring-controller")),d=t("async-mutex"),f=t("../BaseController"),p=t("../util"),m=new WeakMap;var g,y;!function(t){t.simple="Simple Key Pair",t.hd="HD Key Tree"}(g=r.KeyringTypes||(r.KeyringTypes={})),function(t){t.privateKey="privateKey",t.json="json"}(r.AccountImportStrategy||(r.AccountImportStrategy={})),function(t){t.V1="V1",t.V3="V3",t.V4="V4"}(y=r.SignTypedDataVersion||(r.SignTypedDataVersion={}));class v extends f.BaseController{constructor({removeIdentity:t,syncIdentities:e,updateIdentities:r,setSelectedAddress:n},i,s){super(i,s),this.mutex=new d.Mutex,this.name="KeyringController",m.set(this,{keyring:new h.default(Object.assign({initState:s},i))}),this.defaultState=Object.assign(Object.assign({},m.get(this).keyring.store.getState()),{keyrings:[]}),this.removeIdentity=t,this.syncIdentities=e,this.updateIdentities=r,this.setSelectedAddress=n,this.initialize(),this.fullUpdate()}addNewAccount(){return o(this,void 0,void 0,(function*(){const t=m.get(this).keyring.getKeyringsByType("HD Key Tree")[0];if(!t)throw new Error("No HD keyring found");const e=yield m.get(this).keyring.getAccounts();yield m.get(this).keyring.addNewAccount(t);const r=yield m.get(this).keyring.getAccounts();return yield this.verifySeedPhrase(),this.updateIdentities(r),r.forEach((t=>{e.includes(t)||this.setSelectedAddress(t)})),this.fullUpdate()}))}addNewAccountWithoutUpdate(){return o(this,void 0,void 0,(function*(){const t=m.get(this).keyring.getKeyringsByType("HD Key Tree")[0];if(!t)throw new Error("No HD keyring found");return yield m.get(this).keyring.addNewAccount(t),yield this.verifySeedPhrase(),this.fullUpdate()}))}createNewVaultAndRestore(t,e){return o(this,void 0,void 0,(function*(){const r=yield this.mutex.acquire();try{this.updateIdentities([]);const n=yield m.get(this).keyring.createNewVaultAndRestore(t,e);return this.updateIdentities(yield m.get(this).keyring.getAccounts()),this.fullUpdate(),n}finally{r()}}))}createNewVaultAndKeychain(t){return o(this,void 0,void 0,(function*(){const e=yield this.mutex.acquire();try{const r=yield m.get(this).keyring.createNewVaultAndKeychain(t);return this.updateIdentities(yield m.get(this).keyring.getAccounts()),this.fullUpdate(),r}finally{e()}}))}isUnlocked(){return m.get(this).keyring.memStore.getState().isUnlocked}exportSeedPhrase(t){if(m.get(this).keyring.password===t)return m.get(this).keyring.keyrings[0].mnemonic;throw new Error("Invalid password")}exportAccount(t,e){if(m.get(this).keyring.password===t)return m.get(this).keyring.exportAccount(e);throw new Error("Invalid password")}getAccounts(){return m.get(this).keyring.getAccounts()}importAccountWithStrategy(t,e){return o(this,void 0,void 0,(function*(){let r;switch(t){case"privateKey":const[n]=e;if(!n)throw new Error("Cannot import an empty key.");const i=u.addHexPrefix(n);if(!u.isValidPrivate(u.toBuffer(i)))throw new Error("Cannot import invalid private key.");r=u.stripHexPrefix(i);break;case"json":let s;const[o,a]=e;try{s=l.thirdparty.fromEtherWallet(o,a)}catch(t){s=s||(yield l.default.fromV3(o,a,!0))}r=u.bufferToHex(s.getPrivateKey());break;default:throw new Error(`Unexpected import strategy: '${t}'`)}const n=yield m.get(this).keyring.addNewKeyring(g.simple,[r]),i=yield n.getAccounts(),s=yield m.get(this).keyring.getAccounts();return this.updateIdentities(s),this.setSelectedAddress(i[0]),this.fullUpdate()}))}removeAccount(t){return o(this,void 0,void 0,(function*(){return this.removeIdentity(t),yield m.get(this).keyring.removeAccount(t),this.fullUpdate()}))}setLocked(){return m.get(this).keyring.setLocked()}signMessage(t){return m.get(this).keyring.signMessage(t)}signPersonalMessage(t){return m.get(this).keyring.signPersonalMessage(t)}signTypedMessage(t,e){return o(this,void 0,void 0,(function*(){try{const r=c.normalize(t.from),{password:n}=m.get(this).keyring,i=yield this.exportAccount(n,r),s=u.toBuffer(u.addHexPrefix(i));switch(e){case y.V1:return c.signTypedDataLegacy(s,{data:t.data});case y.V3:return c.signTypedData(s,{data:JSON.parse(t.data)});case y.V4:return c.signTypedData_v4(s,{data:JSON.parse(t.data)});default:throw new Error(`Unexpected signTypedMessage version: '${e}'`)}}catch(t){throw new Error(`Keyring Controller signTypedMessage: ${t}`)}}))}signTransaction(t,e){return m.get(this).keyring.signTransaction(t,e)}submitPassword(t){return o(this,void 0,void 0,(function*(){yield m.get(this).keyring.submitPassword(t);const e=yield m.get(this).keyring.getAccounts();return yield this.syncIdentities(e),this.fullUpdate()}))}subscribe(t){m.get(this).keyring.store.subscribe(t)}unsubscribe(t){return m.get(this).keyring.store.unsubscribe(t)}onLock(t){return m.get(this).keyring.on("lock",t)}onUnlock(t){return m.get(this).keyring.on("unlock",t)}verifySeedPhrase(){return o(this,void 0,void 0,(function*(){const t=m.get(this).keyring.getKeyringsByType(g.hd)[0];if(!t)throw new Error("No HD keyring found.");const e=(yield t.serialize()).mnemonic,r=yield t.getAccounts();if(0===r.length)throw new Error("Cannot verify an empty keyring.");const n=new(m.get(this).keyring.getKeyringClassForType(g.hd))({mnemonic:e,numberOfAccounts:r.length}),i=yield n.getAccounts();if(i.length!==r.length)throw new Error("Seed phrase imported incorrect number of accounts.");return i.forEach(((t,e)=>{if(t.toLowerCase()!==r[e].toLowerCase())throw new Error("Seed phrase imported different accounts.")})),e}))}fullUpdate(){return o(this,void 0,void 0,(function*(){const t=yield Promise.all(m.get(this).keyring.keyrings.map(((t,e)=>o(this,void 0,void 0,(function*(){const r=yield t.getAccounts();return{accounts:Array.isArray(r)?r.map((t=>p.toChecksumHexAddress(t))):[],index:e,type:t.type}})))));return this.update({keyrings:[...t]}),m.get(this).keyring.fullUpdate()}))}}r.KeyringController=v,r.default=v}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/keyring/KeyringController.js"}],[1278,{"./Caveat":1272,"./Permission":1273,"./PermissionController":1274,"./endowments":1275,"./rpc-methods":1281,"./utils":1283},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){n===undefined&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===undefined&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(r,"__esModule",{value:!0}),r.endowmentPermissionBuilders=r.permissionRpcMethods=void 0,s(t("./Caveat"),r),s(t("./Permission"),r),s(t("./PermissionController"),r),s(t("./utils"),r),r.permissionRpcMethods=o(t("./rpc-methods"));var a=t("./endowments");Object.defineProperty(r,"endowmentPermissionBuilders",{enumerable:!0,get:function(){return a.endowmentPermissionBuilders}})}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/permissions/index.js"}],[1236,{"../BaseController":1228,"../constants":1249,"./Standards/CollectibleStandards/ERC1155/ERC1155Standard":1240,"./Standards/CollectibleStandards/ERC721/ERC721Standard":1241,"./Standards/ERC20Standard":1242,"single-call-balance-checker-abi":5914,web3:6186},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.AssetsContractController=void 0;const s=i(t("web3")),o=i(t("single-call-balance-checker-abi")),a=t("../BaseController"),u=t("../constants"),c=t("./Standards/CollectibleStandards/ERC721/ERC721Standard"),l=t("./Standards/CollectibleStandards/ERC1155/ERC1155Standard"),h=t("./Standards/ERC20Standard"),d="AssetsContractController failed to set the provider correctly. A provider must be set for this method to be available";class f extends a.BaseController{constructor({onPreferencesStateChange:t},e,r){super(e,r),this.name="AssetsContractController",this.defaultConfig={provider:undefined,ipfsGateway:u.IPFS_DEFAULT_GATEWAY_URL},this.initialize(),t((({ipfsGateway:t})=>{this.configure({ipfsGateway:t})}))}set provider(t){this.web3=new s.default(t),this.erc721Standard=new c.ERC721Standard(this.web3),this.erc1155Standard=new l.ERC1155Standard(this.web3),this.erc20Standard=new h.ERC20Standard(this.web3)}get provider(){throw new Error("Property only used for setting")}getERC20BalanceOf(t,e){return n(this,void 0,void 0,(function*(){if(!this.erc20Standard)throw new Error(d);return this.erc20Standard.getBalanceOf(t,e)}))}getERC20TokenDecimals(t){return n(this,void 0,void 0,(function*(){if(this.erc20Standard===undefined)throw new Error(d);return yield this.erc20Standard.getTokenDecimals(t)}))}getERC721CollectibleTokenId(t,e,r){if(this.erc721Standard===undefined)throw new Error(d);return this.erc721Standard.getCollectibleTokenId(t,e,r)}getTokenStandardAndDetails(t,e,r){return n(this,void 0,void 0,(function*(){if(this.erc721Standard===undefined||this.erc1155Standard===undefined||this.erc20Standard===undefined)throw new Error(d);const{ipfsGateway:n}=this.config;try{return Object.assign({},yield this.erc721Standard.getDetails(t,n,r))}catch(t){}try{return Object.assign({},yield this.erc1155Standard.getDetails(t,n,r))}catch(t){}try{return Object.assign({},yield this.erc20Standard.getDetails(t,e))}catch(t){}throw new Error("Unable to determine contract standard")}))}getERC721TokenURI(t,e){return n(this,void 0,void 0,(function*(){if(this.erc721Standard===undefined)throw new Error(d);return this.erc721Standard.getTokenURI(t,e)}))}getERC721AssetName(t){return n(this,void 0,void 0,(function*(){if(this.erc721Standard===undefined)throw new Error(d);return this.erc721Standard.getAssetName(t)}))}getERC721AssetSymbol(t){return n(this,void 0,void 0,(function*(){if(this.erc721Standard===undefined)throw new Error(d);return this.erc721Standard.getAssetSymbol(t)}))}getERC721OwnerOf(t,e){return n(this,void 0,void 0,(function*(){if(this.erc721Standard===undefined)throw new Error(d);return this.erc721Standard.getOwnerOf(t,e)}))}getERC1155TokenURI(t,e){return n(this,void 0,void 0,(function*(){if(this.erc1155Standard===undefined)throw new Error(d);return this.erc1155Standard.getTokenURI(t,e)}))}getERC1155BalanceOf(t,e,r){return n(this,void 0,void 0,(function*(){if(this.erc1155Standard===undefined)throw new Error(d);return yield this.erc1155Standard.getBalanceOf(e,t,r)}))}transferSingleERC1155(t,e,r,i,s){return n(this,void 0,void 0,(function*(){if(this.erc1155Standard===undefined)throw new Error(d);return yield this.erc1155Standard.transferSingle(t,e,r,i,s)}))}getBalancesInSingleCall(t,e){return n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(o.default).at("0xb1f8e55c7f64d203c1400b9d8555d050f94adf39");return new Promise(((n,i)=>{r.balances([t],e,((t,r)=>{if(t)return void i(t);const s={};r.length>0&&e.forEach(((t,e)=>{const n=r[e];n.isZero()||(s[t]=n)})),n(s)}))}))}))}}r.AssetsContractController=f,r.default=f}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/assets/AssetsContractController.js"}],[1288,{"../BaseController":1228,"../constants":1249,"../util":1291,"@ethereumjs/common":401,"@ethereumjs/tx":405,"async-mutex":1803,"eth-method-registry":1294,"eth-query":2527,"eth-rpc-errors":2531,"ethereumjs-util":2597,events:2158,uuid:6087},function(){with(this)return function(){"use strict";return function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TransactionController=r.SPEED_UP_RATE=r.CANCEL_RATE=r.WalletDevice=r.TransactionStatus=void 0;const s=t("events"),o=t("ethereumjs-util"),a=t("eth-rpc-errors"),u=i(t("eth-method-registry")),c=i(t("eth-query")),l=i(t("@ethereumjs/common")),h=t("@ethereumjs/tx"),d=t("uuid"),f=t("async-mutex"),p=t("../BaseController"),m=t("../util"),g=t("../constants"),y="london";var v;!function(t){t.approved="approved",t.cancelled="cancelled",t.confirmed="confirmed",t.failed="failed",t.rejected="rejected",t.signed="signed",t.submitted="submitted",t.unapproved="unapproved"}(v=r.TransactionStatus||(r.TransactionStatus={})),function(t){t.MM_MOBILE="metamask_mobile",t.MM_EXTENSION="metamask_extension",t.OTHER="other_device"}(r.WalletDevice||(r.WalletDevice={})),r.CANCEL_RATE=1.5,r.SPEED_UP_RATE=1.1;class b extends p.BaseController{constructor({getNetworkState:t,onNetworkStateChange:e,getProvider:r},n,i){super(n,i),this.mutex=new f.Mutex,this.normalizeTokenTx=(t,e,r)=>{const n=1e3*parseInt(t.timeStamp,10),{to:i,from:s,gas:o,gasPrice:a,gasUsed:u,hash:c,contractAddress:l,tokenDecimal:h,tokenSymbol:f,value:p}=t;return{id:d.v1({msecs:n}),isTransfer:!0,networkID:e,chainId:r,status:v.confirmed,time:n,transaction:{chainId:1,from:s,gas:o,gasPrice:a,gasUsed:u,to:i,value:p},transactionHash:c,transferInformation:{contractAddress:l,decimals:Number(h),symbol:f},verifiedOnBlockchain:!1}},this.hub=new s.EventEmitter,this.name="TransactionController",this.defaultConfig={interval:15e3,txHistoryLimit:40},this.defaultState={methodData:{},transactions:[]},this.initialize();const o=r();this.getNetworkState=t,this.ethQuery=new c.default(o),this.registry=new u.default({provider:o}),e((()=>{const t=r();this.ethQuery=new c.default(t),this.registry=new u.default({provider:t})})),this.poll()}failTransaction(t,e){const r=Object.assign(Object.assign({},t),{error:e,status:v.failed});this.updateTransaction(r),this.hub.emit(`${t.id}:finished`,r)}registryLookup(t){return n(this,void 0,void 0,(function*(){const e=yield this.registry.lookup(t);return{registryMethod:e,parsedRegistryMethod:this.registry.parse(e)}}))}normalizeTx(t,e,r){const n=1e3*parseInt(t.timeStamp,10),i={blockNumber:t.blockNumber,id:d.v1({msecs:n}),networkID:e,chainId:r,time:n,transaction:{data:t.input,from:t.from,gas:m.BNToHex(new o.BN(t.gas)),gasPrice:m.BNToHex(new o.BN(t.gasPrice)),gasUsed:m.BNToHex(new o.BN(t.gasUsed)),nonce:m.BNToHex(new o.BN(t.nonce)),to:t.to,value:m.BNToHex(new o.BN(t.value))},transactionHash:t.hash,verifiedOnBlockchain:!1};return"0"===t.isError?Object.assign(Object.assign({},i),{status:v.confirmed}):Object.assign(Object.assign({},i),{error:new Error("Transaction failed"),status:v.failed})}poll(t){return n(this,void 0,void 0,(function*(){t&&this.configure({interval:t},!1,!1),this.handle&&clearTimeout(this.handle),yield m.safelyExecute((()=>this.queryTransactionStatuses())),this.handle=setTimeout((()=>{this.poll(this.config.interval)}),this.config.interval)}))}handleMethodData(t){return n(this,void 0,void 0,(function*(){const e=yield this.mutex.acquire();try{const{methodData:r}=this.state;if(Object.keys(r).find((e=>t===e)))return r[t];const n=yield this.registryLookup(t);return this.update({methodData:Object.assign(Object.assign({},r),{[t]:n})}),n}finally{e()}}))}addTransaction(t,e,r){return n(this,void 0,void 0,(function*(){const{provider:n,network:i}=this.getNetworkState(),{transactions:s}=this.state;t=m.normalizeTransaction(t),m.validateTransaction(t);const o={id:d.v1(),networkID:i,chainId:n.chainId,origin:e,status:v.unapproved,time:Date.now(),transaction:t,deviceConfirmedOn:r,verifiedOnBlockchain:!1};try{const{gas:e}=yield this.estimateGas(t);t.gas=e}catch(t){return this.failTransaction(o,t),Promise.reject(t)}const u=new Promise(((t,e)=>{this.hub.once(`${o.id}:finished`,(r=>{switch(r.status){case v.submitted:return t(r.transactionHash);case v.rejected:return e(a.ethErrors.provider.userRejectedRequest("User rejected the transaction"));case v.cancelled:return e(a.ethErrors.rpc.internal("User cancelled the transaction"));case v.failed:return e(a.ethErrors.rpc.internal(r.error.message));default:return e(a.ethErrors.rpc.internal(`MetaMask Tx Signature: Unknown problem: ${JSON.stringify(r)}`))}}))}));return s.push(o),this.update({transactions:this.trimTransactionsForState(s)}),this.hub.emit("unapprovedTransaction",o),{result:u,transactionMeta:o}}))}prepareUnsignedEthTx(t){return h.TransactionFactory.fromTxData(t,{common:this.getCommonConfiguration(),freeze:!1})}getCommonConfiguration(){const{network:t,provider:{type:e,chainId:r,nickname:n}}=this.getNetworkState();if(e!==g.RPC)return new l.default({chain:e,hardfork:y});const i={name:n,chainId:parseInt(r,undefined),networkId:parseInt(t,undefined)};return l.default.forCustomChain(g.MAINNET,i,y)}approveTransaction(t){return n(this,void 0,void 0,(function*(){const{transactions:e}=this.state,r=yield this.mutex.acquire(),{provider:n}=this.getNetworkState(),{chainId:i}=n,s=e.findIndex((({id:e})=>t===e)),a=e[s],{nonce:u}=a.transaction;try{const{from:t}=a.transaction;if(!this.sign)return r(),void this.failTransaction(a,new Error("No sign method defined."));if(!i)return r(),void this.failTransaction(a,new Error("No chainId defined."));const e=parseInt(i,undefined),{approved:n}=v,s=u||(yield m.query(this.ethQuery,"getTransactionCount",[t,"pending"]));a.status=n,a.transaction.nonce=s,a.transaction.chainId=e;const c=Object.assign(Object.assign({},a.transaction),{gasLimit:a.transaction.gas,chainId:e,nonce:s,status:n}),l=m.isEIP1559Transaction(a.transaction),h=l?Object.assign(Object.assign({},c),{maxFeePerGas:a.transaction.maxFeePerGas,maxPriorityFeePerGas:a.transaction.maxPriorityFeePerGas,estimatedBaseFee:a.transaction.estimatedBaseFee,type:2}):c;l&&delete h.gasPrice;const d=this.prepareUnsignedEthTx(h),f=yield this.sign(d,t);a.status=v.signed,this.updateTransaction(a);const p=o.bufferToHex(f.serialize());a.rawTransaction=p,this.updateTransaction(a);const g=yield m.query(this.ethQuery,"sendRawTransaction",[p]);a.transactionHash=g,a.status=v.submitted,this.updateTransaction(a),this.hub.emit(`${a.id}:finished`,a)}catch(t){this.failTransaction(a,t)}finally{r()}}))}cancelTransaction(t){const e=this.state.transactions.find((({id:e})=>e===t));if(!e)return;e.status=v.rejected,this.hub.emit(`${e.id}:finished`,e);const r=this.state.transactions.filter((({id:e})=>e!==t));this.update({transactions:this.trimTransactionsForState(r)})}stopTransaction(t,e){var i,s;return n(this,void 0,void 0,(function*(){e&&m.validateGasValues(e);const n=this.state.transactions.find((({id:e})=>e===t));if(!n)return;if(!this.sign)throw new Error("No sign method defined.");const a=m.getIncreasedPriceFromExisting(n.transaction.gasPrice,r.CANCEL_RATE),u=m.isGasPriceValue(e)&&e.gasPrice,c=u&&m.validateMinimumIncrease(u,a)||a,l=null===(i=n.transaction)||void 0===i?void 0:i.maxFeePerGas,h=m.getIncreasedPriceFromExisting(l,r.CANCEL_RATE),d=m.isFeeMarketEIP1559Values(e)&&e.maxFeePerGas,f=d&&m.validateMinimumIncrease(d,h)||l&&h,p=null===(s=n.transaction)||void 0===s?void 0:s.maxPriorityFeePerGas,g=m.getIncreasedPriceFromExisting(p,r.CANCEL_RATE),y=m.isFeeMarketEIP1559Values(e)&&e.maxPriorityFeePerGas,b=y&&m.validateMinimumIncrease(y,g)||p&&g,w=f&&b?{from:n.transaction.from,gasLimit:n.transaction.gas,maxFeePerGas:f,maxPriorityFeePerGas:b,type:2,nonce:n.transaction.nonce,to:n.transaction.from,value:"0x0"}:{from:n.transaction.from,gasLimit:n.transaction.gas,gasPrice:c,nonce:n.transaction.nonce,to:n.transaction.from,value:"0x0"},_=this.prepareUnsignedEthTx(w),k=yield this.sign(_,n.transaction.from),E=o.bufferToHex(k.serialize());yield m.query(this.ethQuery,"sendRawTransaction",[E]),n.status=v.cancelled,this.hub.emit(`${n.id}:finished`,n)}))}speedUpTransaction(t,e){var i,s;return n(this,void 0,void 0,(function*(){e&&m.validateGasValues(e);const n=this.state.transactions.find((({id:e})=>e===t));if(!n)return;if(!this.sign)throw new Error("No sign method defined.");const{transactions:a}=this.state,u=m.getIncreasedPriceFromExisting(n.transaction.gasPrice,r.SPEED_UP_RATE),c=m.isGasPriceValue(e)&&e.gasPrice,l=c&&m.validateMinimumIncrease(c,u)||u,h=null===(i=n.transaction)||void 0===i?void 0:i.maxFeePerGas,f=m.getIncreasedPriceFromExisting(h,r.SPEED_UP_RATE),p=m.isFeeMarketEIP1559Values(e)&&e.maxFeePerGas,g=p&&m.validateMinimumIncrease(p,f)||h&&f,y=null===(s=n.transaction)||void 0===s?void 0:s.maxPriorityFeePerGas,v=m.getIncreasedPriceFromExisting(y,r.SPEED_UP_RATE),b=m.isFeeMarketEIP1559Values(e)&&e.maxPriorityFeePerGas,w=b&&m.validateMinimumIncrease(b,v)||y&&v,_=g&&w?Object.assign(Object.assign({},n.transaction),{gasLimit:n.transaction.gas,maxFeePerGas:g,maxPriorityFeePerGas:w,type:2}):Object.assign(Object.assign({},n.transaction),{gasLimit:n.transaction.gas,gasPrice:l}),k=this.prepareUnsignedEthTx(_),E=yield this.sign(k,n.transaction.from),A=o.bufferToHex(E.serialize()),S=yield m.query(this.ethQuery,"sendRawTransaction",[A]),M=Object.assign(Object.assign({},n),{id:d.v1(),time:Date.now(),transactionHash:S}),I=g&&w?Object.assign(Object.assign({},M),{transaction:Object.assign(Object.assign({},n.transaction),{maxFeePerGas:g,maxPriorityFeePerGas:w})}):Object.assign(Object.assign({},M),{transaction:Object.assign(Object.assign({},n.transaction),{gasPrice:l})});a.push(I),this.update({transactions:this.trimTransactionsForState(a)}),this.hub.emit(`${n.id}:speedup`,I)}))}estimateGas(t){return n(this,void 0,void 0,(function*(){const e=Object.assign({},t),{gas:r,gasPrice:n,to:i,value:s,data:a}=e,u=void 0===n?yield m.query(this.ethQuery,"gasPrice"):n,{isCustomNetwork:c}=this.getNetworkState();if(void 0!==r)return{gas:r,gasPrice:u};const{gasLimit:l}=yield m.query(this.ethQuery,"getBlockByNumber",["latest",!1]),h=i?yield m.query(this.ethQuery,"getCode",[i]):undefined;if(!c&&(!i||i&&!a&&(!h||"0x"===h)))return{gas:"0x5208",gasPrice:u};e.data=a?o.addHexPrefix(a):a,e.value=void 0===s?"0x0":s;const d=m.hexToBN(l);e.gas=m.BNToHex(m.fractionBN(d,19,20));const f=yield m.query(this.ethQuery,"estimateGas",[e]),p=m.hexToBN(f),g=d.muln(.9),y=p.muln(1.5);return p.gt(g)||c?{gas:o.addHexPrefix(f),gasPrice:u}:y.lt(g)?{gas:o.addHexPrefix(m.BNToHex(y)),gasPrice:u}:{gas:o.addHexPrefix(m.BNToHex(g)),gasPrice:u}}))}queryTransactionStatuses(){return n(this,void 0,void 0,(function*(){const{transactions:t}=this.state,{provider:e,network:r}=this.getNetworkState(),{chainId:i}=e;let s=!1;yield m.safelyExecute((()=>Promise.all(t.map(((e,o)=>n(this,void 0,void 0,(function*(){const n=e.chainId===i||!e.chainId&&e.networkID===r;if(!e.verifiedOnBlockchain&&n){const[r,n]=yield this.blockchainTransactionStateReconciler(e);n&&(t[o]=r,s=n)}}))))))),s&&this.update({transactions:this.trimTransactionsForState(t)})}))}updateTransaction(t){const{transactions:e}=this.state;t.transaction=m.normalizeTransaction(t.transaction),m.validateTransaction(t.transaction);const r=e.findIndex((({id:e})=>t.id===e));e[r]=t,this.update({transactions:this.trimTransactionsForState(e)})}wipeTransactions(t){if(t)return void this.update({transactions:[]});const{provider:e,network:r}=this.getNetworkState(),{chainId:n}=e,i=this.state.transactions.filter((({networkID:t,chainId:e})=>!(e===n||!e&&t===r)));this.update({transactions:this.trimTransactionsForState(i)})}fetchAll(t,e){return n(this,void 0,void 0,(function*(){const{provider:r,network:i}=this.getNetworkState(),{chainId:s,type:o}=r,{transactions:a}=this.state;if(-1===["1","3","4","42"].indexOf(i))return undefined;const[u,c]=yield m.handleTransactionFetch(o,t,this.config.txHistoryLimit,e),l=u.result.map((t=>this.normalizeTx(t,i,s))),h=c.result.map((t=>this.normalizeTokenTx(t,i,s))),[d,f]=this.etherscanTransactionStateReconciler([...l,...h],a);let p;return f.sort(((t,e)=>t.time<e.time?-1:1)),f.forEach((e=>n(this,void 0,void 0,(function*(){if((e.chainId===s||!e.chainId&&e.networkID===i)&&e.transaction.to&&e.transaction.to.toLowerCase()===t.toLowerCase()&&e.blockNumber&&(!p||parseInt(p,10)<parseInt(e.blockNumber,10))&&(p=e.blockNumber),e.toSmartContract===undefined)if(!e.transaction.to||e.transaction.data&&"0x"===e.transaction.data)e.toSmartContract=!1;else{const t=yield m.query(this.ethQuery,"getCode",[e.transaction.to]);e.toSmartContract=m.isSmartContractCode(t)}})))),d&&this.update({transactions:this.trimTransactionsForState(f)}),p}))}trimTransactionsForState(t){const e=new Set,r=t.reverse().filter((t=>{const{chainId:r,networkID:n,status:i,transaction:s,time:o}=t;if(s){const t=`${s.nonce}-${null!=r?r:n}-${new Date(o).toDateString()}`;if(e.has(t))return!0;if(e.size<this.config.txHistoryLimit||!this.isFinalState(i))return e.add(t),!0}return!1}));return r.reverse(),r}isFinalState(t){return t===v.rejected||t===v.confirmed||t===v.failed||t===v.cancelled}blockchainTransactionStateReconciler(t){return n(this,void 0,void 0,(function*(){const{status:e,transactionHash:r}=t;switch(e){case v.confirmed:const e=yield m.query(this.ethQuery,"getTransactionReceipt",[r]);if(!e)return[t,!1];if(t.verifiedOnBlockchain=!0,t.transaction.gasUsed=e.gasUsed,0===Number(e.status)){const e=new Error("Transaction failed. The transaction was reversed");return this.failTransaction(t,e),[t,!1]}return[t,!0];case v.submitted:const n=yield m.query(this.ethQuery,"getTransactionByHash",[r]);if(!n){if(yield this.checkTxReceiptStatusIsFailed(r)){const e=new Error("Transaction failed. The transaction was dropped or replaced by a new one");this.failTransaction(t,e)}}return(null==n?void 0:n.blockNumber)?(t.status=v.confirmed,this.hub.emit(`${t.id}:confirmed`,t),[t,!0]):[t,!1];default:return[t,!1]}}))}checkTxReceiptStatusIsFailed(t){return n(this,void 0,void 0,(function*(){const e=yield m.query(this.ethQuery,"getTransactionReceipt",[t]);return!!e&&0===Number(e.status)}))}etherscanTransactionStateReconciler(t,e){const r=this.getUpdatedTransactions(t,e),n=this.getNewTransactions(t,e),i=e.map((t=>{const e=r.findIndex((({transactionHash:e})=>e===t.transactionHash));return-1===e?t:r[e]}));return[n.length>0||i.length>0,[...n,...i]]}getNewTransactions(t,e){return t.filter((t=>!e.find((({transactionHash:e})=>e===t.transactionHash))))}getUpdatedTransactions(t,e){return t.filter((t=>e.find((e=>t.transactionHash===e.transactionHash&&this.isTransactionOutdated(t,e)))))}isTransactionOutdated(t,e){const r=this.isStatusOutdated(t.transactionHash,e.transactionHash,t.status,e.status),n=this.isGasDataOutdated(t.transaction.gasUsed,e.transaction.gasUsed);return r||n}isStatusOutdated(t,e,r,n){return t===e&&r!==n}isGasDataOutdated(t,e){return t!==e}}r.TransactionController=b,r.default=b}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/transaction/TransactionController.js"}],[1159,{},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BIP_39_PATH_REGEX=r.BIP_32_PATH_REGEX=r.BIP44PurposeNodeToken=r.MAX_BIP_44_DEPTH=r.MIN_BIP_44_DEPTH=r.BASE_64_REGEX=r.HEXADECIMAL_KEY_LENGTH=r.BASE_64_ZERO=r.BASE_64_KEY_LENGTH=r.BUFFER_KEY_LENGTH=void 0,r.BUFFER_KEY_LENGTH=64,r.BASE_64_KEY_LENGTH=88,r.BASE_64_ZERO="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==",r.HEXADECIMAL_KEY_LENGTH=128,r.BASE_64_REGEX=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/u,r.MIN_BIP_44_DEPTH=0,r.MAX_BIP_44_DEPTH=5,r.BIP44PurposeNodeToken="bip32:44'",r.BIP_32_PATH_REGEX=/^bip32:\d+'?$/u,r.BIP_39_PATH_REGEX=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u}}},{package:"@metamask/key-tree",file:"/home/circleci/project/node_modules/@metamask/key-tree/dist/constants.js"}],[1157,{"./BIP44Node":1158,"./utils":1165},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBIP44AddressKeyDeriver=r.deriveBIP44AddressKey=r.BIP44CoinTypeNode=r.BIP_44_COIN_TYPE_DEPTH=void 0;const n=t("./BIP44Node"),i=t("./utils");r.BIP_44_COIN_TYPE_DEPTH=2;const s=Symbol("_node");class o{constructor(t,e){if(Array.isArray(t)){if(e!==undefined)throw new Error("Invalid parameters: May not specify both coin type and a derivation path. The coin type will be computed from the derivation path.");a(t.length-1),this[s]=new n.BIP44Node({derivationPath:t}),this.coin_type=Number.parseInt(t[r.BIP_44_COIN_TYPE_DEPTH].split(":")[1].replace("'",""),10)}else{a(t.depth),u(t.key);const o=t instanceof n.BIP44Node?t.keyBuffer:i.base64StringToBuffer(t.key);if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.");this.coin_type=e,this[s]=t instanceof n.BIP44Node?t:new n.BIP44Node({depth:r.BIP_44_COIN_TYPE_DEPTH,key:o})}this.path=i.getBIP44CoinTypePathString(this.coin_type),Object.freeze(this)}get depth(){return this[s].depth}get key(){return this[s].key}get keyBuffer(){return this[s].keyBuffer}deriveBIP44AddressKey({account:t=0,change:e=0,address_index:r}){return this[s].derive(i.getBIP44CoinTypeToAddressPathTuple({account:t,change:e,address_index:r})).keyBuffer}toJSON(){return Object.assign(Object.assign({},this[s].toJSON()),{coin_type:this.coin_type,path:this.path})}}function a(t){if(t!==r.BIP_44_COIN_TYPE_DEPTH)throw new Error(`Invalid depth: Coin type nodes must be of depth ${r.BIP_44_COIN_TYPE_DEPTH}. Received: "${t}"`)}function u(t){if(!i.isValidBase64StringKey(t))throw new Error("Invalid parent key: Must be a non-zero 64-byte key.")}r.BIP44CoinTypeNode=o,r.deriveBIP44AddressKey=function(t,{account:e=0,change:s=0,address_index:c}){let l;return"string"==typeof t?u(t):(a(t.depth),u(t.key)),l=t instanceof o?t.keyBuffer:i.base64StringToBuffer("string"==typeof t?t:t.key),n.deriveChildNode(l,r.BIP_44_COIN_TYPE_DEPTH,i.getBIP44CoinTypeToAddressPathTuple({account:e,change:s,address_index:c})).keyBuffer},r.getBIP44AddressKeyDeriver=function(t,e){const{account:s=0,change:c=0}=e||{},{key:l,depth:h}=t;a(h),u(l);const d=t instanceof o?t.keyBuffer:i.base64StringToBuffer(l),f=i.getHardenedBIP32NodeToken(s),p=i.getUnhardenedBIP32NodeToken(c),m=t=>n.deriveChildNode(d,r.BIP_44_COIN_TYPE_DEPTH,[f,p,i.getUnhardenedBIP32NodeToken(t)]).keyBuffer;return m.coin_type=t.coin_type,m.path=i.getBIP44ChangePathString(t.path,{account:s,change:c}),Object.freeze(m),m}}}},{package:"@metamask/key-tree",file:"/home/circleci/project/node_modules/@metamask/key-tree/dist/BIP44CoinTypeNode.js"}],[1158,{"../../../is-buffer/index.js":4764,"./constants":1159,"./derivation":1160,"./utils":1165},function(){with(this)return function(){"use strict";return function(t,e,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildNode=r.BIP44Node=void 0;const n=t("./derivation"),i=t("./constants"),s=t("./utils");class o{constructor({depth:t,key:e,derivationPath:r}){const s=o._parseKey(e);if(r){if(s)throw new Error("Invalid parameters: May not specify a derivation path if a key is specified. Initialize the node with just the parent key and its depth, then call BIP44Node.derive() with your desired path.");if(t)throw new Error("Invalid parameters: May not specify a depth if a derivation path is specified. The depth will be calculated from the path.");if(0===r.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");const e=r.length-1;u(e),this.depth=e,c(r,i.MIN_BIP_44_DEPTH),this.keyBuffer=n.deriveKeyFromPath(r,undefined,this.depth)}else{if(!s)throw new Error("Invalid parameters: Must specify either key or derivation path.");u(t),this.depth=t,this.keyBuffer=s}Object.freeze(this)}get key(){return s.bufferToBase64String(this.keyBuffer)}static _parseKey(t){if(t===undefined||null===t)return undefined;let r;if(e.isBuffer(t)){if(!s.isValidBufferKey(t))throw new Error("Invalid buffer key: Must be a 64-byte, non-empty Buffer.");r=t}else{if("string"!=typeof t)throw new Error(`Invalid key: Must be a Buffer or string if specified. Received: "${typeof t}"`);if(s.isValidHexStringKey(t))r=s.hexStringToBuffer(t);else{if(!s.isValidBase64StringKey(t))throw new Error("Invalid string key: Must be a 64-byte hexadecimal or Base64 string.");r=s.base64StringToBuffer(t)}}return r}derive(t){if(this.depth===i.MAX_BIP_44_DEPTH)throw new Error("Illegal operation: This HD tree node is already a leaf node.");return a(this.keyBuffer,this.depth,t)}toJSON(){return{depth:this.depth,key:this.key}}}function a(t,e,r){if(0===r.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined");const i=e+r.length;return u(i),c(r,e+1),new o({depth:i,key:n.deriveKeyFromPath(r,t)})}function u(t){if("number"!=typeof t||!Number.isInteger(t)||t<i.MIN_BIP_44_DEPTH||t>i.MAX_BIP_44_DEPTH)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${t}"`)}function c(t,e){t.forEach(((t,r)=>{switch(e+r){case i.MIN_BIP_44_DEPTH:if(!i.BIP_39_PATH_REGEX.test(t))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.');break;case 1:if(t!==i.BIP44PurposeNodeToken)throw new Error(`Invalid derivation path: The "purpose" node node (depth 1) must be the string "${i.BIP44PurposeNodeToken}".`);break;case 2:if(!i.BIP_32_PATH_REGEX.test(t)||!s.isHardened(t))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!i.BIP_32_PATH_REGEX.test(t)||!s.isHardened(t))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!i.BIP_32_PATH_REGEX.test(t)||s.isHardened(t))throw new Error('Invalid derivation path: The "change" node (depth 4) must be an unhardened BIP-32 node.');break;case i.MAX_BIP_44_DEPTH:if(!i.BIP_32_PATH_REGEX.test(t)||s.isHardened(t))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be an unhardened BIP-32 node.');break;default:throw new Error("Invalid derivation path: The path exceeds the maximum BIP-44 depth.")}}))}r.BIP44Node=o,r.deriveChildNode=a}).call(this)}).call(this,{isBuffer:t("../../../is-buffer/index.js")})}}},{package:"@metamask/key-tree",file:"/home/circleci/project/node_modules/@metamask/key-tree/dist/BIP44Node.js"}],[1880,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}}}},{package:"axios",file:"/home/circleci/project/node_modules/axios/lib/helpers/isAbsoluteURL.js"}],[1878,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}}}},{package:"axios",file:"/home/circleci/project/node_modules/axios/lib/helpers/combineURLs.js"}],[2500,{buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var e=t.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=t.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(r,i,s){void 0===s&&(s=!0);var o=t.from(s?e:n);return r.copy(o,s?8:9),i.copy(o,s?181:214),o},r.privateKeyImport=function(t){var e=t.length,r=0;if(e<r+1||48!==t[r])return null;if(e<(r+=1)+1||!(128&t[r]))return null;var n=127&t[r];if(n<1||n>2)return null;if(e<(r+=1)+n)return null;var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);return e<(r+=n)+i||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]?null:t.slice(r+2,r+2+t[r+1])},r.signatureImportLax=function(e){var r=t.alloc(32,0),n=t.alloc(32,0),i=e.length,s=0;if(48!==e[s++])return null;var o=e[s++];if(128&o&&(s+=o-128)>i)return null;if(2!==e[s++])return null;var a=e[s++];if(128&a){if(s+(o=a-128)>i)return null;for(;o>0&&0===e[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+e[s]}if(a>i-s)return null;var u=s;if(s+=a,2!==e[s++])return null;var c=e[s++];if(128&c){if(s+(o=c-128)>i)return null;for(;o>0&&0===e[s];s+=1,o-=1);for(c=0;o>0;s+=1,o-=1)c=(c<<8)+e[s]}if(c>i-s)return null;var l=s;for(s+=c;a>0&&0===e[u];a-=1,u+=1);if(a>32)return null;var h=e.slice(u,u+a);for(h.copy(r,32-h.length);c>0&&0===e[l];c-=1,l+=1);if(c>32)return null;var d=e.slice(l,l+c);return d.copy(n,32-d.length),{r:r,s:n}}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/home/circleci/project/node_modules/eth-json-rpc-middleware/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/secp256k1v3-lib/der.js"}],[2501,{"bn.js":2113,buffer:2157,elliptic:2391},function(){with(this)return function(){"use strict";return function(t,e,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=t("bn.js"),i=new(0,t("elliptic").ec)("secp256k1"),s=i.curve;r.privateKeyExport=function(t,e){void 0===e&&(e=!0);var r=new n(t);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var a=i.g.mul(r);return o(a.getX(),a.getY(),e)},r.privateKeyModInverse=function(t){var r=new n(t);if(r.ucmp(s.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(s.n).toArrayLike(e,"be",32)},r.signatureImport=function(t){var r=new n(t.r);r.ucmp(s.n)>=0&&(r=new n(0));var i=new n(t.s);return i.ucmp(s.n)>=0&&(i=new n(0)),e.concat([r.toArrayLike(e,"be",32),i.toArrayLike(e,"be",32)])},r.ecdhUnsafe=function(t,e,r){void 0===r&&(r=!0);var a=i.keyFromPublic(t),u=new n(e);if(u.ucmp(s.n)>=0||u.isZero())throw new Error("scalar was invalid (zero or overflow)");var c=a.pub.mul(u);return o(c.getX(),c.getY(),r)};var o=function(t,r,n){var i;return n?((i=e.alloc(33))[0]=r.isOdd()?3:2,t.toArrayLike(e,"be",32).copy(i,1)):((i=e.alloc(65))[0]=4,t.toArrayLike(e,"be",32).copy(i,1),r.toArrayLike(e,"be",32).copy(i,33)),i}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/home/circleci/project/node_modules/eth-json-rpc-middleware/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/secp256k1v3-lib/index.js"}],[4791,{},function(){with(this)return function(){"use strict";return function(t,e,r){const n=self.location?self.location.protocol+"//"+self.location.host:"",i=self.URL;e.exports={URLWithLegacySupport:class{constructor(t="",e=n){this.super=new i(t,e),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:n,format:function(t){if("string"==typeof t){return new i(t).toString()}if(!(t instanceof i)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",r=t.auth?t.auth+"@":"",n=t.port?":"+t.port:"",i=t.protocol?t.protocol+"//":"",s=t.host||"",o=t.hostname||"",a=t.search||(t.query?"?"+t.query:""),u=t.hash||"",c=t.pathname||"";return`${i}${e||r}${s||o+n}${t.path||c+a}${u}`}}}}}},{package:"iso-url",file:"/home/circleci/project/node_modules/iso-url/src/url-browser.js"}],[4790,{"./url":4791},function(){with(this)return function(){"use strict";return function(t,e,r){const{URLWithLegacySupport:n,format:i}=t("./url");e.exports=(t,e={},r={},s)=>{let o,a=e.protocol?e.protocol.replace(":",""):"http";a=(r[a]||s||a)+":";try{o=new n(t)}catch(t){o={}}const u=Object.assign({},e,{protocol:a||o.protocol,host:e.host||o.host});return new n(t,i(u)).toString()}}}},{package:"iso-url",file:"/home/circleci/project/node_modules/iso-url/src/relative.js"}],[1387,{"bn.js":1376,buffer:2157,"js-sha3":1400,"number-to-bn":5376},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){var n=t("bn.js"),i=t("number-to-bn"),s=t("js-sha3").keccak_256;function o(t){for(var e=t,r=e[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e}function a(t){var e=t.toString(16);return e.length%2&&(e="0"+e),o(new r(e,"hex"))}function u(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function c(t,e){var n=t;if(!r.isBuffer(n)){if(!u(n)){var i=new Error(e?"[ethjs-abi] invalid "+e:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw i.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",i.value=n,i}(n=n.substring(2)).length%2&&(n="0"+n),n=new r(n,"hex")}return n}function l(t,e){return{encode:function(n){var s=n;return"object"==typeof s&&s.toString&&(s.toTwos||s.dividedToIntegerBy)&&(s=s.toString(10).split(".")[0]),"string"!=typeof s&&"number"!=typeof s||(s=String(s).split(".")[0]),s=(s=i(s)).toTwos(8*t).maskn(8*t),e&&(s=s.fromTwos(8*t).toTwos(256)),s.toArrayLike(r,"be",32)},decode:function(r,i){var s=32-t,o=new n(r.slice(i+s,i+32));return o=e?o.fromTwos(8*t):o.maskn(8*t),{consumed:32,value:new n(o.toString(10))}}}}var h=l(32,!1),d={encode:function(t){return h.encode(t?1:0)},decode:function(t,e){var r=h.decode(t,e);return{consumed:r.consumed,value:!r.value.isZero()}}};function f(t){return{encode:function(t){var e=t;if(32===(e=c(e)).length)return e;var n=new r(32);return n.fill(0),e.copy(n),n},decode:function(e,r){if(0!==e.length&&e.length<r+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+t);return{consumed:32,value:"0x"+e.slice(r,r+t).toString("hex")}}}}var p={encode:function(t){var e=t,n=new r(32);if(!u(e,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return e=c(e),n.fill(0),e.copy(n,12),n},decode:function(t,e){if(0===t.length)return{consumed:32,value:"0x"};if(0!==t.length&&t.length<e+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+t.length);return{consumed:32,value:"0x"+t.slice(e+12,e+32).toString("hex")}}};function m(t){var e=parseInt(32*Math.ceil(t.length/32)),n=new r(e-t.length);return n.fill(0),r.concat([h.encode(t.length),t,n])}function g(t,e){if(0!==t.length&&t.length<e+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+t.length+" should be less than "+(e+32));var r=h.decode(t,e).value;if(r=r.toNumber(),0!==t.length&&t.length<e+32+r)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+t.length+" should be less than "+(e+32+r));return{consumed:parseInt(32+32*Math.ceil(r/32),10),value:t.slice(e+32,e+32+r)}}var y={encode:function(t){return m(c(t))},decode:function(t,e){var r=g(t,e);return r.value="0x"+r.value.toString("hex"),r},dynamic:!0},v={encode:function(t){return m(new r(t,"utf8"))},decode:function(t,e){var r=g(t,e);return r.value=r.value.toString("utf8"),r},dynamic:!0};function b(t,e){return{encode:function(n){var i=new r(0),s=e;if(!Array.isArray(n))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===s&&(s=n.length,i=h.encode(s)),s!==n.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+s+" does not equal "+n.length);return n.forEach((function(e){i=r.concat([i,t.encode(e)])})),i},decode:function(r,n){var i,s=e,o=n,a=0;-1===s&&(s=(i=h.decode(r,o)).value.toNumber(),a+=i.consumed,o+=i.consumed);for(var u=[],c=0;c<s;c++){var l=t.decode(r,o);a+=l.consumed,o+=l.consumed,u.push(l.value)}return{consumed:a,value:u}},dynamic:-1===e}}var w=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);e.exports={BN:n,bnToBuffer:a,isHexString:u,hexOrBuffer:c,hexlify:function(t){return"number"==typeof t?"0x"+a(new n(t)).toString("hex"):t.mod||t.modulo?"0x"+a(t).toString("hex"):"0x"+c(t).toString("hex")},stripZeros:o,keccak256:s,getKeys:function(t,e,r){var n=[];if(!Array.isArray(t))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(t));for(var i=0;i<t.length;i++){var s=t[i][e];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");n.push(s)}return n},numberToBN:i,coderNumber:l,uint256Coder:h,coderBoolean:d,coderFixedBytes:f,coderAddress:p,coderDynamicBytes:y,coderString:v,coderArray:b,paramTypePart:w,getParamCoder:function(t){for(var e=t,r=null,n="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(e)+" is either invalid or unsupported by ethjs-abi.";e;){var i=e.match(w);if(!i)throw new Error(n);e=e.substring(i[0].length);var s=i[2]||i[4]||i[5];switch(s){case"int":case"uint":if(r)throw new Error(n);var o=parseInt(i[3]||256);if(0===o||o>256||o%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+e+", invalid "+s+"<N> width: "+e);r=l(o/8,"int"===s);break;case"bool":if(r)throw new Error(n);r=d;break;case"string":if(r)throw new Error(n);r=v;break;case"bytes":if(r)throw new Error(n);if(i[3]){var a=parseInt(i[3]);if(0===a||a>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+e+", size "+a+" should be 0 or greater than 32");r=f(a)}else r=y;break;case"address":if(r)throw new Error(n);r=p;break;case"[]":if(!r||r.dynamic)throw new Error(n);r=b(r,-1);break;default:if(!r||r.dynamic)throw new Error(n);r=b(r,parseInt(i[6]))}}if(!r)throw new Error(n);return r}}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-abi/lib/utils/index.js"}],[1391,{"./utils/index.js":1392,buffer:2157},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){var n=t("./utils/index.js"),i=n.uint256Coder,s=(n.coderBoolean,n.coderFixedBytes,n.coderAddress,n.coderDynamicBytes,n.coderString,n.coderArray,n.paramTypePart,n.getParamCoder);function o(){}function a(t,e){if(t.length!==e.length)throw new Error("[ethjs-abi] while encoding params, types/values mismatch, Your contract requires "+t.length+" types (arguments), and you passed in "+e.length);var n=[];function o(t){return parseInt(32*Math.ceil(t/32))}t.forEach((function(t,r){var i=s(t);n.push({dynamic:i.dynamic,value:i.encode(e[r])})}));var a=0,u=0;n.forEach((function(t){t.dynamic?(a+=32,u+=o(t.value.length)):a+=o(t.value.length)}));var c=0,l=a,h=new r(a+u);return n.forEach((function(t,e){t.dynamic?(i.encode(l).copy(h,c),c+=32,t.value.copy(h,l),l+=o(t.value.length)):(t.value.copy(h,c),c+=o(t.value.length))})),"0x"+h.toString("hex")}function u(t,e,r){var a=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3];arguments.length<3&&(r=e,e=t,t=[]),r=n.hexOrBuffer(r);var u=new o,c=0;return e.forEach((function(e,n){var o=s(e);if(o.dynamic){var l=i.decode(r,c),h=o.decode(r,l.value.toNumber());c+=l.consumed}else{h=o.decode(r,c);c+=h.consumed}a&&(u[n]=h.value),t[n]&&(u[t[n]]=h.value)})),u}function c(t,e){var i=t.name+"("+n.getKeys(t.inputs,"type").join(",")+")";return""+("0x"+new r(n.keccak256(i),"hex").slice(0,4).toString("hex"))+a(n.getKeys(t.inputs,"type"),e).substring(2)}function l(t){var e=t.name+"("+n.getKeys(t.inputs,"type").join(",")+")";return"0x"+n.keccak256(e)}function h(t,e,i){var o=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3],a=t.inputs.filter((function(t){return!t.indexed})),c=n.getKeys(a,"name",!0),l=n.getKeys(a,"type"),h=u(c,l,n.hexOrBuffer(e),o),d=t.anonymous?0:1;return t.inputs.filter((function(t){return t.indexed})).map((function(t,e){var n=new r(i[e+d].slice(2),"hex"),o=s(t.type);h[t.name]=o.decode(n,0).value})),h._eventName=t.name,h}function d(t,e){var r=!(arguments.length>2&&arguments[2]!==undefined)||arguments[2];if(t&&e.topics[0]===l(t))return h(t,e.data,e.topics,r)}e.exports={encodeParams:a,decodeParams:u,encodeMethod:c,decodeMethod:function(t,e){return u(n.getKeys(t.outputs,"name",!0),n.getKeys(t.outputs,"type"),n.hexOrBuffer(e))},encodeEvent:function(t,e){return c(t,e)},decodeEvent:h,decodeLogItem:d,logDecoder:function(t){var e=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],r={};return t.filter((function(t){return"event"===t.type})).map((function(t){r[l(t)]=t})),function(t){return t.map((function(t){return d(r[t.topics[0]],t,e)})).filter((function(t){return t}))}},eventSignature:l}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-contract/node_modules/ethjs-abi/lib/index.js"}],[1388,{"./has-tx-object":1389,"babel-runtime/core-js/json/stringify":1892,"babel-runtime/core-js/object/assign":1893,"babel-runtime/helpers/asyncToGenerator":1901,"babel-runtime/regenerator":2018,"ethjs-abi":1391,"ethjs-filter":2643,"ethjs-util":2651,"js-sha3":1400,"promise-to-callback":5500},function(){with(this)return function(){"use strict";return function(t,e,r){var n=a(t("babel-runtime/regenerator")),i=a(t("babel-runtime/core-js/json/stringify")),s=a(t("babel-runtime/helpers/asyncToGenerator")),o=a(t("babel-runtime/core-js/object/assign"));function a(t){return t&&t.__esModule?t:{default:t}}var u=t("ethjs-abi"),c=t("ethjs-filter"),l=t("ethjs-util").getKeys,h=t("js-sha3").keccak_256,d=t("./has-tx-object"),f=t("promise-to-callback");function p(t){return t.filter((function(t){return("function"===t.type||"event"===t.type)&&t.name.length>0}))}e.exports=function(){var t=(a=(0,s.default)(n.default.mark((function t(e){var s,a,c,l,h,f=e.methodObject,p=e.methodArgs;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="call",a={},d(p)&&(a=p.pop()),(c=(0,o.default)({},r.defaultTxObject,a,{to:r.address})).data=u.encodeMethod(f,p),!1===f.constant&&(s="sendTransaction"),t.next=8,r.query[s](c);case 8:if(l=t.sent,"call"!==s){t.next=19;break}return t.prev=10,h=u.decodeMethod(f,l),t.abrupt("return",h);case 15:throw t.prev=15,t.t0=t.catch(10),new Error("[ethjs-contract] while formatting incoming raw call data "+(0,i.default)(l)+" "+t.t0);case 19:return t.abrupt("return",l);case 20:case"end":return t.stop()}}),t,this,[[10,15]])}))),function(t){return a.apply(this,arguments)}),e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=this;var a;function m(t){return function(){var e=[].slice.call(arguments),n=l(t.inputs,"type",!1),i="0x"+h(t.name+"("+n.join(",")+")"),s=[i],a=(0,o.default)({},e[0])||{},c=(0,o.default)({},e[0]||{},{to:r.address,topics:s}),d=(0,o.default)({},a,{decoder:function(e){return u.decodeEvent(t,e,s)},defaultFilterObject:c});return new r.filters.Filter(d)}}function g(e){return function(){var r=void 0,n=[].slice.call(arguments);"function"==typeof n[n.length-1]&&(r=n.pop());var i=t({methodObject:e,methodArgs:n});return r?f(i)(r):i}}r.abi=e.contractABI||[],r.query=e.query,r.address=e.address||"0x",r.bytecode=e.contractBytecode||"0x",r.defaultTxObject=e.contractDefaultTxObject||{},r.filters=new c(r.query),p(r.abi).forEach((function(t){"function"===t.type?r[t.name]=g(t):"event"===t.type&&(r[t.name]=m(t))}))}}}},{package:"ethjs-contract",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-contract/lib/contract.js"}],[1389,{"babel-runtime/core-js/object/keys":1896},function(){with(this)return function(){"use strict";return function(t,e,r){var n,i=t("babel-runtime/core-js/object/keys"),s=(n=i)&&n.__esModule?n:{default:n};var o=["from","to","data","value","gasPrice","gas"];e.exports=function(t){if(!Array.isArray(t)||0===t.length)return!1;var e=t[t.length-1];if(!e)return!1;if("object"!=typeof e)return!1;if(0===(0,s.default)(e).length)return!0;var r=(0,s.default)(e);if(o.some((function(t){return r.includes(t)})))return!0;return!1}}}},{package:"ethjs-contract",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-contract/lib/has-tx-object.js"}],[4784,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports=s,s.strict=o,s.loose=a;var n=Object.prototype.toString,i={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function s(t){return o(t)||a(t)}function o(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function a(t){return i[n.call(t)]}}}},{package:"is-typedarray",file:"/home/circleci/project/node_modules/is-typedarray/index.js"}],[4474,{},function(){with(this)return function(){"use strict";return function(t,e,r){var n=global.MutationObserver||global.WebKitMutationObserver;r.test=function(){return n},r.install=function(t){var e=0,r=new n(t),i=global.document.createTextNode("");return r.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/mutation.js"}],[4473,{},function(){with(this)return function(){"use strict";return function(t,e,r){r.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},r.install=function(t){var e=new global.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/messageChannel.js"}],[4476,{},function(){with(this)return function(){"use strict";return function(t,e,r){r.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},r.install=function(t){return function(){var e=global.document.createElement("script");return e.onreadystatechange=function(){t(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e),t}}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/stateChange.js"}],[4477,{},function(){with(this)return function(){"use strict";return function(t,e,r){r.test=function(){return!0},r.install=function(t){return function(){setTimeout(t,0)}}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/timeout.js"}],[4475,{_process:5498},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){r.test=function(){return void 0!==t&&!t.browser},r.install=function(e){return function(){t.nextTick(e)}}}).call(this)}).call(this,t("_process"))}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/nextTick.js"}],[5421,{},function(){with(this)return function(){"use strict";return function(t,e,r){e.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/messages.json"}],[5417,{"../../../../is-buffer/index.js":4764},function(){with(this)return function(){"use strict";return function(t,e,r){(function(t){(function(){var e=Object.prototype.toString;r.isArray=function(t,e){if(!Array.isArray(t))throw TypeError(e)},r.isBoolean=function(t,r){if("[object Boolean]"!==e.call(t))throw TypeError(r)},r.isBuffer=function(e,r){if(!t.isBuffer(e))throw TypeError(r)},r.isFunction=function(t,r){if("[object Function]"!==e.call(t))throw TypeError(r)},r.isNumber=function(t,r){if("[object Number]"!==e.call(t))throw TypeError(r)},r.isObject=function(t,r){if("[object Object]"!==e.call(t))throw TypeError(r)},r.isBufferLength=function(t,e,r){if(t.length!==e)throw RangeError(r)},r.isBufferLength2=function(t,e,r,n){if(t.length!==e&&t.length!==r)throw RangeError(n)},r.isLengthGTZero=function(t,e){if(0===t.length)throw RangeError(e)},r.isNumberInInterval=function(t,e,r,n){if(t<=e||t>=r)throw RangeError(n)}}).call(this)}).call(this,{isBuffer:t("../../../../is-buffer/index.js")})}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/assert.js"}],[5418,{bip66:2046,"safe-buffer":5817},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("safe-buffer").Buffer,i=t("bip66"),s=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(t,e,r){var i=n.from(r?s:o);return t.copy(i,r?8:9),e.copy(i,r?181:214),i},r.privateKeyImport=function(t){var e=t.length,r=0;if(!(e<r+1||48!==t[r])&&!(e<(r+=1)+1)&&128&t[r]){var n=127&t[r];if(r+=1,!(n<1||n>2||e<r+n)){var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);if(!(e<(r+=n)+i||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]))return t.slice(r+2,r+2+t[r+1])}}},r.signatureExport=function(t){for(var e=n.concat([n.from([0]),t.r]),r=33,s=0;r>1&&0===e[s]&&!(128&e[s+1]);--r,++s);for(var o=n.concat([n.from([0]),t.s]),a=33,u=0;a>1&&0===o[u]&&!(128&o[u+1]);--a,++u);return i.encode(e.slice(s),o.slice(u))},r.signatureImport=function(t){var e=n.alloc(32,0),r=n.alloc(32,0);try{var s=i.decode(t);if(33===s.r.length&&0===s.r[0]&&(s.r=s.r.slice(1)),s.r.length>32)throw new Error("R length is too long");if(33===s.s.length&&0===s.s[0]&&(s.s=s.s.slice(1)),s.s.length>32)throw new Error("S length is too long")}catch(t){return}return s.r.copy(e,32-s.r.length),s.s.copy(r,32-s.s.length),{r:e,s:r}},r.signatureImportLax=function(t){var e=n.alloc(32,0),r=n.alloc(32,0),i=t.length,s=0;if(48===t[s++]){var o=t[s++];if(!(128&o&&(s+=o-128)>i)&&2===t[s++]){var a=t[s++];if(128&a){if(s+(o=a-128)>i)return;for(;o>0&&0===t[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+t[s]}if(!(a>i-s)){var u=s;if(s+=a,2===t[s++]){var c=t[s++];if(128&c){if(s+(o=c-128)>i)return;for(;o>0&&0===t[s];s+=1,o-=1);for(c=0;o>0;s+=1,o-=1)c=(c<<8)+t[s]}if(!(c>i-s)){var l=s;for(s+=c;a>0&&0===t[u];a-=1,u+=1);if(!(a>32)){var h=t.slice(u,u+a);for(h.copy(e,32-h.length);c>0&&0===t[l];c-=1,l+=1);if(!(c>32)){var d=t.slice(l,l+c);return d.copy(r,32-d.length),{r:e,s:r}}}}}}}}}}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/der.js"}],[2334,{"abstract-leveldown":1749,inherits:4482},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("abstract-leveldown").AbstractIterator;function i(t){n.call(this,t),this._options=t,this._iterator=null,this._operations=[]}t("inherits")(i,n),i.prototype.setDb=function(t){var e=this._iterator=t.iterator(this._options);this._operations.forEach((function(t){e[t.method].apply(e,t.args)}))},i.prototype._operation=function(t,e){if(this._iterator)return this._iterator[t].apply(this._iterator,e);this._operations.push({method:t,args:e})},"next end".split(" ").forEach((function(t){i.prototype["_"+t]=function(){this._operation(t,arguments)}})),i.prototype.seek=function(){this._operation("seek",arguments)},e.exports=i}}},{package:"deferred-leveldown",file:"/home/circleci/project/node_modules/deferred-leveldown/deferred-iterator.js"}],[2433,{"./custom":2432},function(){with(this)return function(){"use strict";return function(t,e,r){var n=e.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];e.exports.errno={},e.exports.code={},n.forEach((function(t){e.exports.errno[t.errno]=t,e.exports.code[t.code]=t})),e.exports.custom=t("./custom")(e.exports),e.exports.create=e.exports.custom.createError}}},{package:"errno",file:"/home/circleci/project/node_modules/errno/errno.js"}],[4879,{"./lib/_stream_duplex.js":4866,"./lib/_stream_passthrough.js":4867,"./lib/_stream_readable.js":4868,"./lib/_stream_transform.js":4869,"./lib/_stream_writable.js":4870,"./lib/internal/streams/end-of-stream.js":4874,"./lib/internal/streams/pipeline.js":4876},function(){with(this)return function(){"use strict";return function(t,e,r){(r=e.exports=t("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js"),r.finished=t("./lib/internal/streams/end-of-stream.js"),r.pipeline=t("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/level-iterator-stream/node_modules/readable-stream/readable-browser.js"}],[1834,{"./DoublyLinkedList":1817,"./onlyOnce":1832,"./setImmediate":1836,"./wrapAsync":1839,"lodash/_baseIndexOf":5118,"lodash/isArray":5234,"lodash/noop":5253},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e,r){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var l=(0,c.default)(t),h=0,d=[],f=!1;function p(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(y.started=!0,(0,i.default)(t)||(t=[t]),0===t.length&&y.idle())return(0,a.default)((function(){y.drain()}));for(var n=0,o=t.length;n<o;n++){var u={data:t[n],callback:r||s.default};e?y._tasks.unshift(u):y._tasks.push(u)}f||(f=!0,(0,a.default)((function(){f=!1,y.process()})))}function m(t){return function(e){h-=1;for(var r=0,i=t.length;r<i;r++){var s=t[r],o=(0,n.default)(d,s,0);0===o?d.shift():o>0&&d.splice(o,1),s.callback.apply(s,arguments),null!=e&&y.error(e,s.data)}h<=y.concurrency-y.buffer&&y.unsaturated(),y.idle()&&y.drain(),y.process()}}var g=!1,y={_tasks:new u.default,concurrency:e,payload:r,saturated:s.default,unsaturated:s.default,buffer:e/4,empty:s.default,drain:s.default,error:s.default,started:!1,paused:!1,push:function(t,e){p(t,!1,e)},kill:function(){y.drain=s.default,y._tasks.empty()},unshift:function(t,e){p(t,!0,e)},remove:function(t){y._tasks.remove(t)},process:function(){if(!g){for(g=!0;!y.paused&&h<y.concurrency&&y._tasks.length;){var t=[],e=[],r=y._tasks.length;y.payload&&(r=Math.min(r,y.payload));for(var n=0;n<r;n++){var i=y._tasks.shift();t.push(i),d.push(i),e.push(i.data)}h+=1,0===y._tasks.length&&y.empty(),h===y.concurrency&&y.saturated();var s=(0,o.default)(m(t));l(e,s)}g=!1}},length:function(){return y._tasks.length},running:function(){return h},workersList:function(){return d},idle:function(){return y._tasks.length+h===0},pause:function(){y.paused=!0},resume:function(){!1!==y.paused&&(y.paused=!1,(0,a.default)(y.process))}};return y};var n=l(t("lodash/_baseIndexOf")),i=l(t("lodash/isArray")),s=l(t("lodash/noop")),o=l(t("./onlyOnce")),a=l(t("./setImmediate")),u=l(t("./DoublyLinkedList")),c=l(t("./wrapAsync"));function l(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/internal/queue.js"}],[2309,{"pull-stream":5555},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("pull-stream");e.exports=class{constructor(t,e){this.child=t,this.transform=e}open(t){this.child.open(t)}put(t,e,r){this.child.put(this.transform.convert(t),e,r)}get(t,e){this.child.get(this.transform.convert(t),e)}has(t,e){this.child.has(this.transform.convert(t),e)}delete(t,e){this.child.delete(this.transform.convert(t),e)}batch(){const t=this.child.batch();return{put:(e,r)=>{t.put(this.transform.convert(e),r)},delete:e=>{t.delete(this.transform.convert(e))},commit:e=>{t.commit(e)}}}query(t){return n(this.child.query(t),n.map((t=>(t.key=this.transform.invert(t.key),t))))}close(t){this.child.close(t)}}}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/keytransform.js"}],[2311,{"./keytransform":2309,"interface-datastore":4489},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("interface-datastore").Key,i=t("./keytransform");e.exports=class extends i{constructor(t,e){super(t,{convert:t=>e.child(t),invert(t){if("/"===e.toString())return t;if(!e.isAncestorOf(t))throw new Error(`Expected prefix: (${e.toString()}) in key: ${t.toString()}`);return new n(t.toString().slice(e.toString().length),!1)}}),this.prefix=e}query(t){return t.prefix&&"/"!==this.prefix.toString()?super.query(Object.assign({},t,{prefix:this.prefix.child(new n(t.prefix)).toString()})):super.query(t)}}}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/namespace.js"}],[2313,{"./shard-readme":2312,"interface-datastore":4489},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("interface-datastore").Key,i=t("./shard-readme"),s=r.PREFIX="/repo/flatfs/shard/",o=r.SHARDING_FN="SHARDING";r.README_FN="_README";class a{constructor(t){this.param=t}fun(t){throw new Error("implement me")}toString(){return`${s}v1/${this.name}/${this.param}`}}class u extends a{constructor(t){super(t),this._padding="".padStart(t,"_"),this.name="prefix"}fun(t){return(t+this._padding).slice(0,this.param)}}class c extends a{constructor(t){super(t),this._padding="".padStart(t,"_"),this.name="suffix"}fun(t){const e=this._padding+t;return e.slice(e.length-this.param)}}class l extends a{constructor(t){super(t),this._padding="".padStart(t+1,"_"),this.name="next-to-last"}fun(t){const e=this._padding+t,r=e.length-this.param-1;return e.slice(r,r+this.param)}}function h(t){if(0===(t=t.trim()).length)throw new Error("empty shard string");if(!t.startsWith(s))throw new Error(`invalid or no path prefix: ${t}`);const e=t.slice(s.length).split("/"),r=e[0];if("v1"!==r)throw new Error(`expect 'v1' version, got '${r}'`);const n=e[1];if(!e[2])throw new Error("missing param");const i=parseInt(e[2],10);switch(n){case"prefix":return new u(i);case"suffix":return new c(i);case"next-to-last":return new l(i);default:throw new Error(`unkown sharding function: ${n}`)}}r.readShardFun=(t,e,r)=>{const i=new n(t).child(new n(o));("function"==typeof e.getRaw?e.getRaw.bind(e):e.get.bind(e))(i,((t,e)=>{if(t)return r(t);let n;try{n=h((e||"").toString().trim())}catch(t){return r(t)}r(null,n)}))},r.readme=i,r.parseShardFun=h,r.Prefix=u,r.Suffix=c,r.NextToLast=l}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/shard.js"}],[2314,{"./keytransform":2309,"./shard":2313,"async/parallel":1844,"async/waterfall":1855,buffer:2157,"interface-datastore":4489},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("async/waterfall"),i=t("async/parallel"),s=t("interface-datastore").Key,o=t("./shard"),a=t("./keytransform"),u=new s(o.SHARDING_FN),c=new s(o.README_FN);class l{constructor(t,e){this.child=new a(t,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=e}open(t){this.child.open(t)}_convertKey(t){const e=t.toString();if(e===u.toString()||e===c.toString())return t;return new s(this.shard.fun(e)).child(t)}_invertKey(t){const e=t.toString();return e===u.toString()||e===c.toString()?t:s.withNamespaces(t.list().slice(1))}static createOrOpen(t,e,r){l.create(t,e,(e=>{if(e&&"datastore exists"!==e.message)return r(e);l.open(t,r)}))}static open(t,e){n([e=>o.readShardFun("/",t,e),(e,r)=>{r(null,new l(t,e))}],e)}static create(t,e,n){t.has(u,((s,a)=>{if(s)return n(s);if(!a){const s="function"==typeof t.putRaw?t.putRaw.bind(t):t.put.bind(t);return i([t=>s(u,r.from(e.toString()+"\n"),t),t=>s(c,r.from(o.readme),t)],(t=>n(t)))}o.readShardFun("/",t,((t,r)=>{if(t)return n(t);const i=(r||"").toString(),s=e.toString();if(i!==s)return n(new Error(`specified fun ${s} does not match repo shard fun ${i}`));n(new Error("datastore exists"))}))}))}put(t,e,r){this.child.put(t,e,r)}get(t,e){this.child.get(t,e)}has(t,e){this.child.has(t,e)}delete(t,e){this.child.delete(t,e)}batch(){return this.child.batch()}query(t){const e={keysOnly:t.keysOnly,offset:t.offset,limit:t.limit,filters:[(t,e)=>e(null,t.key.toString()!==u.toString()),(t,e)=>e(null,t.key.toString()!==c.toString())]};if(null!=t.prefix&&e.filters.push(((e,r)=>{r(null,this._invertKey(e.key).toString().startsWith(t.prefix))})),null!=t.filters){const r=t.filters.map((t=>(e,r)=>{t(Object.assign({},e,{key:this._invertKey(e.key)}),r)}));e.filters=e.filters.concat(r)}return null!=t.orders&&(e.orders=t.orders.map((t=>(e,r)=>{e.forEach((t=>{t.key=this._invertKey(t.key)})),t(e,((t,e)=>{if(t)return r(t);e.forEach((t=>{t.key=this._convertKey(t.key)})),r(null,e)}))}))),this.child.query(e)}close(t){this.child.close(t)}}e.exports=l}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/sharding.js"}],[2315,{"async/each":1809,"async/whilst":1856,"interface-datastore":4489},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("async/each"),i=t("async/whilst"),s=t("interface-datastore").Errors;e.exports=class{constructor(t){this.stores=t.slice()}open(t){n(this.stores,((t,e)=>{t.open(e)}),(e=>{if(e)return t(s.dbOpenFailedError());t()}))}put(t,e,r){n(this.stores,((r,n)=>{r.put(t,e,n)}),(t=>{if(t)return r(s.dbWriteFailedError());r()}))}get(t,e){const r=this.stores.length;let n=!1,o=0;i((()=>!n&&o<r),(e=>{this.stores[o++].get(t,((t,r)=>{if(null==t)return n=!0,e(null,r);e()}))}),((t,r)=>{if(t||!r)return e(s.notFoundError());e(null,r)}))}has(t,e){const r=this.stores.length;let n=!1,s=0;i((()=>!n&&s<r),(e=>{this.stores[s++].has(t,((t,r)=>{if(null==t)return n=!0,e(null,r);e()}))}),e)}delete(t,e){n(this.stores,((e,r)=>{e.delete(t,r)}),(t=>{if(t)return e(s.dbDeleteFailedError());e()}))}close(t){n(this.stores,((t,e)=>{t.close(e)}),t)}batch(){const t=this.stores.map((t=>t.batch()));return{put:(e,r)=>{t.forEach((t=>t.put(e,r)))},delete:e=>{t.forEach((t=>t.delete(e)))},commit:e=>{n(t,((t,e)=>{t.commit(e)}),e)}}}query(t){return this.stores[this.stores.length-1].query(t)}}}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/tiered.js"}],[2310,{"./keytransform":2309,"async/each":1809,"interface-datastore":4489,"pull-many":5538,"pull-stream":5555},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("async/each"),i=t("pull-many"),s=t("pull-stream"),o=t("interface-datastore").Key,a=t("interface-datastore").Errors,u=t("interface-datastore").utils,c=u.asyncFilter,l=u.asyncSort,h=u.replaceStartWith,d=t("./keytransform");e.exports=class{constructor(t){this.mounts=t.slice()}open(t){n(this.mounts,((t,e)=>{t.datastore.open(e)}),t)}_lookup(t){for(let e of this.mounts)if(e.prefix.toString()===t.toString()||e.prefix.isAncestorOf(t)){const r=h(t.toString(),e.prefix.toString());return{datastore:e.datastore,mountpoint:e.prefix,rest:new o(r)}}}put(t,e,r){const n=this._lookup(t);if(null==n)return r(a.dbWriteFailedError(new Error("No datastore mounted for this key")));n.datastore.put(n.rest,e,r)}get(t,e){const r=this._lookup(t);if(null==r)return e(a.notFoundError(new Error("No datastore mounted for this key")));r.datastore.get(r.rest,e)}has(t,e){const r=this._lookup(t);null!=r?r.datastore.has(r.rest,e):e(null,!1)}delete(t,e){const r=this._lookup(t);if(null==r)return e(a.dbDeleteFailedError(new Error("No datastore mounted for this key")));r.datastore.delete(r.rest,e)}close(t){n(this.mounts,((t,e)=>{t.datastore.close(e)}),t)}batch(){const t={},e=e=>{const r=this._lookup(e);if(null==r)throw new Error("No datastore mounted for this key");const n=r.mountpoint.toString();return null==t[n]&&(t[n]=r.datastore.batch()),{batch:t[n],rest:r.rest}};return{put:(t,r)=>{const n=e(t);n.batch.put(n.rest,r)},delete:t=>{const r=e(t);r.batch.delete(r.rest)},commit:e=>{n(Object.keys(t),((e,r)=>{t[e].commit(r)}),e)}}}query(t){const e=this.mounts.map((e=>{const r=new d(e.datastore,{convert:t=>{throw new Error("should never be called")},invert:t=>e.prefix.child(t)});let n;return null!=t.prefix&&(n=h(t.prefix,e.prefix.toString())),r.query({prefix:n,filters:t.filters,keysOnly:t.keysOnly})}));let r=[i(e)];if(null!=t.filters&&(r=r.concat(t.filters.map((t=>c(t))))),null!=t.orders&&(r=r.concat(t.orders.map((t=>l(t))))),null!=t.offset){let e=0;r.push(s.filter((()=>e++>=t.offset)))}return null!=t.limit&&r.push(s.take(t.limit)),s.apply(null,r)}}}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/mount.js"}],[1835,{"./filter":1824},function(){with(this)return function(){"use strict";return function(t,e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e,r,n){(0,s.default)(t,e,(function(t,e){r(t,(function(t,r){e(t,!r)}))}),n)};var n,i=t("./filter"),s=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/internal/reject.js"}],[2321,{"./iterator":2322,_process:5498,"abstract-leveldown":2319,buffer:2157,util:2163,xtend:6248},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r,n){(function(){e.exports=u;var i=t("abstract-leveldown").AbstractLevelDOWN,s=t("util"),o=t("./iterator"),a=t("xtend");function u(t){if(!(this instanceof u))return new u(t);i.call(this,t)}s.inherits(u,i),u.prototype._open=function(t,e){var r=this;if(this._idbOpts=a({storeName:this.location,keyEncoding:"none",valueEncoding:"none"},t),this._idbOpts.idb)i(this._idbOpts.idb);else{var n=indexedDB.open(this.location);n.onerror=function(t){e(t.target.error)},n.onsuccess=function(){i(n.result)}}function i(n){r._db=n;var i=r._db.objectStoreNames.contains(r._idbOpts.storeName);if(t.errorIfExists&&i)return r._db.close(),void e(new Error("store already exists"));if(!t.createIfMissing&&!i)return r._db.close(),void e(new Error("store does not exist"));if(t.createIfMissing&&!i){r._db.close();var s=indexedDB.open(r.location,r._db.version+1);return s.onerror=function(t){e(t.target.error)},s.onupgradeneeded=function(){s.result.createObjectStore(r._idbOpts.storeName,r._idbOpts)},void(s.onsuccess=function(){r._db=s.result,e(null,r)})}e(null,r)}},u.prototype._get=function(t,e,r){e=a(this._idbOpts,e);var i=t;"binary"!==e.keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var s=this._db.transaction(this._idbOpts.storeName),o=s.objectStore(this._idbOpts.storeName).openCursor(IDBKeyRange.only(t));s.onabort=function(){r(s.error)},o.onsuccess=function(){var t=o.result;if(t){var s=t.value;if(s instanceof Uint8Array&&(s=new n(s)),"binary"!==e.valueEncoding||n.isBuffer(s)||(s=new n(s)),e.asBuffer&&!n.isBuffer(s))if(null==s)s=new n(0);else if("string"==typeof s)s=new n(s);else if("boolean"==typeof s)s=new n(String(s));else if("number"==typeof s)s=new n(String(s));else if(Array.isArray(s))s=new n(String(s));else{if(!(s instanceof Uint8Array))return void r(new TypeError("can't coerce `"+s.constructor.name+"` into a Buffer"));s=new n(s)}r(null,s,i)}else r(new Error("NotFound"))}},u.prototype._del=function(t,e,r){"binary"!==(e=a(this._idbOpts,e)).keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var n="readwrite";!0===e.sync&&(n="readwriteflush");var i=this._db.transaction(this._idbOpts.storeName,n);i.objectStore(this._idbOpts.storeName).delete(t);i.onabort=function(){r(i.error)},i.oncomplete=function(){r()}},u.prototype._put=function(t,e,r,n){"binary"!==(r=a(this._idbOpts,r)).keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var i="readwrite";!0===r.sync&&(i="readwriteflush");var s=this._db.transaction(this._idbOpts.storeName,i);s.objectStore(this._idbOpts.storeName).put(e,t);s.onabort=function(){n(s.error)},s.oncomplete=function(){n()}},u.prototype._iterator=function(t){return new o(this,t)},u.prototype._batch=function(t,e,n){if(0===t.length)return r.nextTick(n);var i="readwrite";!0===e.sync&&(i="readwriteflush");var s=this._db.transaction(this._idbOpts.storeName,i),o=s.objectStore(this._idbOpts.storeName);s.onabort=function(){n(s.error)},s.oncomplete=function(){n()},t.forEach((function(t){"binary"!==a(e,t).keyEncoding||Array.isArray(t.key)||(t.key=Array.prototype.slice.call(t.key)),"del"===t.type?o.delete(t.key):o.put(t.value,t.key)}))},u.prototype._close=function(t){this._db.close(),r.nextTick(t)},u.prototype._approximateSize=function(t,e,n){var i=new Error("Not implemented");if(!n)throw i;r.nextTick((function(){n(i)}))},u.destroy=function(t,e){var r;if(null!=t&&"object"==typeof t)r=a({location:t.location,storeName:t.location},t._idbOpts);else{if("string"!=typeof t)throw new TypeError("location must be a string or an object");r={location:t,storeName:t}}if("string"!=typeof r.location)throw new TypeError("location must be a string");if("string"!=typeof r.storeName)throw new TypeError("db.storeName must be a string");var n=indexedDB.open(r.location);n.onerror=function(t){e(t.target.error)},n.onsuccess=function(){var t=n.result;function i(t){var r=indexedDB.deleteDatabase(t);r.onerror=function(t){e(t.target.error)},r.onsuccess=function(){e()}}if(t.close(),0!==t.objectStoreNames.length)if(t.objectStoreNames.contains(r.storeName)){var s=indexedDB.open(r.location,t.version+1);s.onerror=function(t){e(t.target.error)},s.onupgradeneeded=function(){(t=s.result).deleteObjectStore(r.storeName)},s.onsuccess=function(){(t=s.result).close(),0===t.objectStoreNames.length?i(r.location):e()}}else e();else i(r.location)}}}).call(this)}).call(this,t("_process"),t("buffer").Buffer)}}},{package:"level-js",file:"/home/circleci/project/node_modules/datastore-level/node_modules/level-js/index.js"}],[2407,{"abstract-leveldown":2411,inherits:4482,"level-codec":4861,"level-errors":4863},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("abstract-leveldown").AbstractLevelDOWN,i=t("abstract-leveldown").AbstractChainedBatch,s=t("abstract-leveldown").AbstractIterator,o=t("inherits"),a=t("level-codec"),u=t("level-errors").EncodingError;function c(t,e){if(!(this instanceof c))return new c(t,e);n.call(this,""),void 0===(e=e||{}).keyEncoding&&(e.keyEncoding="utf8"),void 0===e.valueEncoding&&(e.valueEncoding="utf8"),this.db=t,this.codec=new a(e)}function l(t,e){s.call(this,t),this.codec=t.codec,this.keys=e.keys,this.values=e.values,this.opts=this.codec.encodeLtgt(e),this.it=t.db.iterator(this.opts)}function h(t,e){i.call(this,t),this.codec=t.codec,this.batch=t.db.batch()}e.exports=c.default=c,o(c,n),c.prototype._serializeKey=c.prototype._serializeValue=function(t){return t},c.prototype._open=function(t,e){this.db.open(t,e)},c.prototype._close=function(t){this.db.close(t)},c.prototype._put=function(t,e,r,n){t=this.codec.encodeKey(t,r),e=this.codec.encodeValue(e,r),this.db.put(t,e,r,n)},c.prototype._get=function(t,e,r){var n=this;t=this.codec.encodeKey(t,e),e.asBuffer=this.codec.valueAsBuffer(e),this.db.get(t,e,(function(t,i){if(t)return r(t);try{i=n.codec.decodeValue(i,e)}catch(t){return r(new u(t))}r(null,i)}))},c.prototype._del=function(t,e,r){t=this.codec.encodeKey(t,e),this.db.del(t,e,r)},c.prototype._chainedBatch=function(){return new h(this)},c.prototype._batch=function(t,e,r){t=this.codec.encodeBatch(t,e),this.db.batch(t,e,r)},c.prototype._iterator=function(t){return t.keyAsBuffer=this.codec.keyAsBuffer(t),t.valueAsBuffer=this.codec.valueAsBuffer(t),new l(this,t)},c.prototype.approximateSize=function(t,e,r,n){return t=this.codec.encodeKey(t,r),e=this.codec.encodeKey(e,r),this.db.approximateSize(t,e,r,n)},o(l,s),l.prototype._next=function(t){var e=this;this.it.next((function(r,n,i){if(r)return t(r);try{n=e.keys&&void 0!==n?e.codec.decodeKey(n,e.opts):undefined,i=e.values&&void 0!==i?e.codec.decodeValue(i,e.opts):undefined}catch(r){return t(new u(r))}t(null,n,i)}))},l.prototype._seek=function(t){t=this.codec.encodeKey(t,this.opts),this.it.seek(t)},l.prototype._end=function(t){this.it.end(t)},o(h,i),h.prototype._put=function(t,e){t=this.codec.encodeKey(t),e=this.codec.encodeValue(e),this.batch.put(t,e)},h.prototype._del=function(t){t=this.codec.encodeKey(t),this.batch.del(t)},h.prototype._clear=function(){this.batch.clear()},h.prototype._write=function(t,e){this.batch.write(t,e)}}}},{package:"encoding-down",file:"/home/circleci/project/node_modules/encoding-down/index.js"}],[4910,{"./blake":4908,"./crypto-sha1-2":4909,"./utils":4912,buffer:2157,"js-sha3":4797,murmurhash3js:5332},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){const n=t("js-sha3"),i=t("murmurhash3js"),s=t("./utils"),o=t("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;e.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,128)),shake256:a(u(n.shake_256,256)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:t("./blake"),dblSha2256:(t,e)=>{o.sha2256(t,((t,n)=>{t&&e(t),o.sha2256(r.from(n),e)}))}}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/libp2p-crypto/node_modules/multihashing-async/src/crypto.js"}],[5344,{"./forge":5347,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./util"),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},n.cipher.createDecipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},n.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),n.cipher.algorithms[t]=e},n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[t]:null};var i=n.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=t.output||n.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/cipher.js"}],[5345,{"./forge":5347,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./util"),n.cipher=n.cipher||{};var i=e.exports=n.cipher.modes=n.cipher.modes||{};function s(t,e){if("string"==typeof t&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4){var r=t;t=n.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!n.util.isArray(t)){var s=[],o=e/4;for(i=0;i<o;++i)s.push(t.getInt32());t=s}return t}function o(t){t[t.length-1]=t[t.length-1]+1&4294967295}function a(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},i.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},i.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}o(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e,r=n.util.createBuffer(t.iv);if(this._cipherLength=0,e="additionalData"in t?n.util.createBuffer(t.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=n.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(a(8*i)))}this._inBlock=this._j0.slice(0),o(this._inBlock),this._partialBytes=0,e=n.util.createBuffer(e),this._aDataLength=a(8*e.length());var s=e.length()%this.blockSize;for(s&&e.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},i.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),o(this._inBlock)},i.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),o(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(a(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var s=[];this.cipher.encrypt(this._j0,s);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^s[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){t[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=t[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];e[0]^=i[0],e[1]^=i[1],e[2]^=i[2],e[3]^=i[3]}return e},i.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},i.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0],u=(n-1-o%n)*e;a[o/n|0]=1<<e-1<<u,s[o]=this.generateSubHashTable(this.multiply(a,t),e)}return s},i.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],u=i[o];i[s+o]=[a[0]^u[0],a[1]^u[1],a[2]^u[2],a[3]^u[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/cipherModes.js"}],[5367,{"./forge":5347,"./md":5350,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./md"),t("./util");var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){o||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0);var t=null,e=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(s,o){"utf8"===o&&(s=n.util.encodeUtf8(s));var a=s.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=a[1],a[1]=a[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(s),u(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(e.bytes());var a,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(s.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(a=8*i.fullMessageLength[h+1])/4294967296>>>0,o.putInt32(l>>>0),l=a>>>0;o.putInt32(l);var d={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};u(d,r,o);var f=n.util.createBuffer();return f.putInt32(d.h0),f.putInt32(d.h1),f.putInt32(d.h2),f.putInt32(d.h3),f.putInt32(d.h4),f.putInt32(d.h5),f.putInt32(d.h6),f.putInt32(d.h7),f},i};var s=null,o=!1,a=null;function u(t,e,r){for(var n,i,s,o,u,c,l,h,d,f,p,m,g,y=r.length();y>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=((n=e[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=e[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(c=t.h0,l=t.h1,h=t.h2,d=t.h3,f=t.h4,p=t.h5,m=t.h6,g=t.h7,u=0;u<64;++u)s=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),o=c&l|h&(c^l),n=g+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(m^f&(p^m))+a[u]+e[u],g=m,m=p,p=f,f=d+n>>>0,d=h,h=l,l=c,c=n+(i=s+o)>>>0;t.h0=t.h0+c|0,t.h1=t.h1+l|0,t.h2=t.h2+h|0,t.h3=t.h3+d|0,t.h4=t.h4+f|0,t.h5=t.h5+p|0,t.h6=t.h6+m|0,t.h7=t.h7+g|0,y-=64}}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/sha256.js"}],[5361,{"./forge":5347,"./util":5369,_process:5498,crypto:2156},function(){with(this)return function(){"use strict";return function(t,e,r){(function(r){(function(){var n=t("./forge");t("./util");var i=null;!n.util.isNodejs||n.options.usePureJavaScript||r.versions["node-webkit"]||(i=t("crypto")),(e.exports=n.prng=n.prng||{}).create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,s=new Array(32),o=0;o<32;++o)s[o]=r.create();function a(){if(e.pools[0].messageLength>=32)return u();var t=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(t)),u()}function u(){e.reseeds=4294967295===e.reseeds?0:e.reseeds+1;var t=e.plugin.md.create();t.update(e.keyBytes);for(var r=1,n=0;n<32;++n)e.reseeds%r==0&&(t.update(e.pools[n].digest().getBytes()),e.pools[n].start()),r<<=1;e.keyBytes=t.digest().getBytes(),t.start(),t.update(e.keyBytes);var i=t.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(i),e.generated=0}function c(t){var e=null,r=n.util.globalScope,i=r.crypto||r.msCrypto;i&&i.getRandomValues&&(e=function(t){return i.getRandomValues(t)});var s=n.util.createBuffer();if(e)for(;s.length()<t;){var o=Math.max(1,Math.min(t-s.length(),65536)/4),a=new Uint32Array(Math.floor(o));try{e(a);for(var u=0;u<a.length;++u)s.putInt32(a[u])}catch(t){if(!("undefined"!=typeof QuotaExceededError&&t instanceof QuotaExceededError))throw t}}if(s.length()<t)for(var c,l,h,d=Math.floor(65536*Math.random());s.length()<t;){l=16807*(65535&d),l+=(32767&(c=16807*(d>>16)))<<16,d=4294967295&(l=(2147483647&(l+=c>>15))+(l>>31));for(u=0;u<3;++u)h=d>>>(u<<3),h^=Math.floor(256*Math.random()),s.putByte(255&h)}return s.getBytes(t)}return e.pools=s,e.pool=0,e.generate=function(t,r){if(!r)return e.generateSync(t);var i=e.plugin.cipher,s=e.plugin.increment,o=e.plugin.formatKey,a=e.plugin.formatSeed,c=n.util.createBuffer();e.key=null,function l(h){if(h)return r(h);if(c.length()>=t)return r(null,c.getBytes(t));e.generated>1048575&&(e.key=null);if(null===e.key)return n.util.nextTick((function(){!function(t){if(e.pools[0].messageLength>=32)return u(),t();var r=32-e.pools[0].messageLength<<5;e.seedFile(r,(function(r,n){if(r)return t(r);e.collect(n),u(),t()}))}(l)}));var d=i(e.key,e.seed);e.generated+=d.length,c.putBytes(d),e.key=o(i(e.key,s(e.seed))),e.seed=a(i(e.key,e.seed)),n.util.setImmediate(l)}()},e.generateSync=function(t){var r=e.plugin.cipher,i=e.plugin.increment,s=e.plugin.formatKey,o=e.plugin.formatSeed;e.key=null;for(var u=n.util.createBuffer();u.length()<t;){e.generated>1048575&&(e.key=null),null===e.key&&a();var c=r(e.key,e.seed);e.generated+=c.length,u.putBytes(c),e.key=s(r(e.key,i(e.seed))),e.seed=o(r(e.key,e.seed))}return u.getBytes(t)},i?(e.seedFile=function(t,e){i.randomBytes(t,(function(t,r){if(t)return e(t);e(null,r.toString())}))},e.seedFileSync=function(t){return i.randomBytes(t).toString()}):(e.seedFile=function(t,e){try{e(null,c(t))}catch(t){e(t)}},e.seedFileSync=c),e.collect=function(t){for(var r=t.length,n=0;n<r;++n)e.pools[e.pool].update(t.substr(n,1)),e.pool=31===e.pool?0:e.pool+1},e.collectInt=function(t,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(t>>i&255);e.collect(n)},e.registerWorker=function(t){if(t===self)e.seedFile=function(t,e){self.addEventListener("message",(function t(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",t),e(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:t}}})};else{t.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&e.seedFile(n.forge.prng.needed,(function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})}))}))}},e}}).call(this)}).call(this,t("_process"))}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/prng.js"}],[5366,{"./forge":5347,"./md":5350,"./util":5369},function(){with(this)return function(){"use strict";return function(t,e,r){var n=t("./forge");t("./md"),t("./util");var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){o||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),o=!0);var t=null,e=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(s,o){"utf8"===o&&(s=n.util.encodeUtf8(s));var u=s.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return e.putBytes(s),a(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(e.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(s.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(u=8*i.fullMessageLength[h+1])/4294967296>>>0,o.putInt32(l>>>0),l=u>>>0;o.putInt32(l);var d={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};a(d,r,o);var f=n.util.createBuffer();return f.putInt32(d.h0),f.putInt32(d.h1),f.putInt32(d.h2),f.putInt32(d.h3),f.putInt32(d.h4),f},i};var s=null,o=!1;function a(t,e,r){for(var n,i,s,o,a,u,c,l=r.length();l>=64;){for(i=t.h0,s=t.h1,o=t.h2,a=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,n=(i<<5|i>>>27)+(a^s&(o^a))+u+1518500249+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<20;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(a^s&(o^a))+u+1518500249+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<32;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(s^o^a)+u+1859775393+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<40;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(s^o^a)+u+1859775393+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<60;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(s&o|a&(s^o))+u+2400959708+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<80;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(s^o^a)+u+3395469782+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+o|0,t.h3=t.h3+a|0,t.h4=t.h4+u|0,l-=64}}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/sha1.js"}],[4938,{"./../util":4942,"asn1.js":1761},function(){with(this)return function(){"use strict";return function(t,e,r){const n=t("asn1.js"),i=t("./../util"),s=i.toBase64,o=i.toBn,a=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})),u=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid({"1.2.840.113549.1.1.1":"rsa"}),this.key("none").optional().null_(),this.key("curve").optional().objid(),this.key("params").optional().seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()))})),c=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),l=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));r.pkcs1ToJwk=function(t){const e=a.decode(t,"der");return{kty:"RSA",n:s(e.modulus),e:s(e.publicExponent),d:s(e.privateExponent),p:s(e.prime1),q:s(e.prime2),dp:s(e.exponent1),dq:s(e.exponent2),qi:s(e.coefficient),alg:"RS256",kid:"2011-04-29"}},r.jwkToPkcs1=function(t){return a.encode({version:0,modulus:o(t.n),publicExponent:o(t.e),privateExponent:o(t.d),prime1:o(t.p),prime2:o(t.q),exponent1:o(t.dp),exponent2:o(t.dq),coefficient:o(t.qi)},"der")},r.pkixToJwk=function(t){const e=c.decode(t,"der"),r=l.decode(e.subjectPublicKey.data,"der");return{kty:"RSA",n:s(r.modulus),e:s(r.publicExponent),alg:"RS256",kid:"2011-04-29"}},r.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:"rsa",none:null},subjectPublicKey:{data:l.encode({modulus:o(t.n),publicExponent:o(t.e)},"der")}},"der")}}}},{package:"libp2p-crypto",file:"/home/circleci/project/node_modules/libp2p-crypto/src/keys/rsa-utils.js"}],[5510,{},function(){with(this)return function(){"use strict";return function(t,e,r){var n=function(t,e){var r=t.repeated?"repeated":t.required?"required":"optional";"map"===t.type&&(r="map<"+t.map.from+","+t.map.to+">"),t.oneof&&(r="");var n=Object.keys(t.options||{}).map((function(e){return e+" = "+t.options[e]})).join(",");return n&&(n=" ["+n+"]"),e.push((r?r+" ":"")+("map"===t.map?"":t.type+" ")+t.name+" = "+t.tag+n+";"),e},i=function(t,e){e.push("message "+t.name+" {"),t.enums||(t.enums=[]),t.enums.forEach((function(t){e.push(s(t,[]))})),t.messages||(t.messages=[]),t.messages.forEach((function(t){e.push(i(t,[]))}));var r={};return t.fields||(t.fields=[]),t.fields.forEach((function(t){t.oneof?(r[t.oneof]||(r[t.oneof]=[]),r[t.oneof].push(n(t,[]))):e.push(n(t,[]))})),Object.keys(r).forEach((function(t){r[t].unshift("oneof "+t+" {"),r[t].push("}"),e.push(r[t])})),e.push("}",""),e},s=function(t,e){e.push("enum "+t.name+" {"),t.options||(t.options={});var r=a(t.options,[]);return r.length>1&&e.push(r.slice(0,-1)),Object.keys(t.values).map((function(r){var n=o(t.values[r]);e.push([r+" = "+n+";"])})),e.push("}",""),e},o=function(t,e){var r=Object.keys(t.options||{}).map((function(e){return e+" = "+t.options[e]})).join(",");return r&&(r=" ["+r+"]"),t.value+r},a=function(t,e){var r=Object.keys(t);return r.forEach((function(r){var n=t[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=u(n,[])).length&&e.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),e.push("option "+r+" = "+n+";"))})),r.length>0&&e.push(""),e},u=function(t,e){return Object.keys(t).forEach((function(r){var n=t[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(t){(t=u(t,[])).length&&e.push(r+" {",t,"}")})):(n=u(n,[])).length&&e.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),e.push(r+": "+n))})),e},c=function(t,e){var r="rpc "+t.name+"(";t.client_streaming&&(r+="stream "),r+=t.input_type+") returns (",t.server_streaming&&(r+="stream "),r+=t.output_type+")",t.options||(t.options={});var n=a(t.options,[]);return n.length>1?e.push(r+" {",n.slice(0,-1),"}"):e.push(r+";"),e},l=function(t){return function(e){return Array.isArray(e)?e.map(l(t+"  ")).join("\n"):t+e}};e.exports=function(t){var e=[];return e.push('syntax = "proto'+t.syntax+'";',""),t.package&&e.push("package "+t.package+";",""),t.options||(t.options={}),a(t.options,e),t.enums||(t.enums=[]),t.enums.forEach((function(t){s(t,e)})),t.messages||(t.messages=[]),t.messages.forEach((function(t){i(t,e)})),t.services&&t.services.forEach((function(t){!function(t,e){e.push("service "+t.name+" {"),t.options||(t.options={}),a(t.options,e),t.methods||(t.methods=[]),t.methods.forEach((function(t){e.push(c(t,[]))})),e.push("}","")}(t,e)})),e.map(l("")).join("\n")}}}},{package:"protocol-buffers-schema",file:"/home/circleci/project/node_modules/protocol-buffers-schema/stringify.js"}]],[],{});